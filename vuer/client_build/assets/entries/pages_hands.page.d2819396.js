import{r as Z,g as Qh,j as Ri,a as Vt,F as Gh}from"../chunks/chunk-c676def8.js";import{W as Xh,H as Yh,c as Zh}from"../chunks/chunk-71fcf8b5.js";import"../chunks/chunk-c2202416.js";import"../chunks/chunk-cf010ec4.js";/**
 * @license
 * Copyright 2010-2023 Three.js Authors
 * SPDX-License-Identifier: MIT
 */const qa="159",ia=0,sa=1,la=100,oa=204,aa=205,ua=3,Qa=300,ha=1e3,gi=1001,ca=1002,fa=1003,ol=1006,Jh=1008,Ga=1009,Kh=1014,bh=1015,$h=1020,Xa=1023,qs=1026,da=1027,tc=3e3,Qs=3001,Fi="",me="srgb",dl="srgb-linear",ec="display-p3",Ya="display-p3-linear",al="linear",pa="srgb",ma="rec709",ya="p3",Rn=7680,ga=519,nc=515,xa=35044,xi=2e3,va=2001;class Ti{addEventListener(t,r){this._listeners===void 0&&(this._listeners={});const s=this._listeners;s[t]===void 0&&(s[t]=[]),s[t].indexOf(r)===-1&&s[t].push(r)}hasEventListener(t,r){if(this._listeners===void 0)return!1;const s=this._listeners;return s[t]!==void 0&&s[t].indexOf(r)!==-1}removeEventListener(t,r){if(this._listeners===void 0)return;const a=this._listeners[t];if(a!==void 0){const h=a.indexOf(r);h!==-1&&a.splice(h,1)}}dispatchEvent(t){if(this._listeners===void 0)return;const s=this._listeners[t.type];if(s!==void 0){t.target=this;const a=s.slice(0);for(let h=0,c=a.length;h<c;h++)a[h].call(this,t);t.target=null}}}const Pt=["00","01","02","03","04","05","06","07","08","09","0a","0b","0c","0d","0e","0f","10","11","12","13","14","15","16","17","18","19","1a","1b","1c","1d","1e","1f","20","21","22","23","24","25","26","27","28","29","2a","2b","2c","2d","2e","2f","30","31","32","33","34","35","36","37","38","39","3a","3b","3c","3d","3e","3f","40","41","42","43","44","45","46","47","48","49","4a","4b","4c","4d","4e","4f","50","51","52","53","54","55","56","57","58","59","5a","5b","5c","5d","5e","5f","60","61","62","63","64","65","66","67","68","69","6a","6b","6c","6d","6e","6f","70","71","72","73","74","75","76","77","78","79","7a","7b","7c","7d","7e","7f","80","81","82","83","84","85","86","87","88","89","8a","8b","8c","8d","8e","8f","90","91","92","93","94","95","96","97","98","99","9a","9b","9c","9d","9e","9f","a0","a1","a2","a3","a4","a5","a6","a7","a8","a9","aa","ab","ac","ad","ae","af","b0","b1","b2","b3","b4","b5","b6","b7","b8","b9","ba","bb","bc","bd","be","bf","c0","c1","c2","c3","c4","c5","c6","c7","c8","c9","ca","cb","cc","cd","ce","cf","d0","d1","d2","d3","d4","d5","d6","d7","d8","d9","da","db","dc","dd","de","df","e0","e1","e2","e3","e4","e5","e6","e7","e8","e9","ea","eb","ec","ed","ee","ef","f0","f1","f2","f3","f4","f5","f6","f7","f8","f9","fa","fb","fc","fd","fe","ff"];function gr(){const p=Math.random()*4294967295|0,t=Math.random()*4294967295|0,r=Math.random()*4294967295|0,s=Math.random()*4294967295|0;return(Pt[p&255]+Pt[p>>8&255]+Pt[p>>16&255]+Pt[p>>24&255]+"-"+Pt[t&255]+Pt[t>>8&255]+"-"+Pt[t>>16&15|64]+Pt[t>>24&255]+"-"+Pt[r&63|128]+Pt[r>>8&255]+"-"+Pt[r>>16&255]+Pt[r>>24&255]+Pt[s&255]+Pt[s>>8&255]+Pt[s>>16&255]+Pt[s>>24&255]).toLowerCase()}function Qt(p,t,r){return Math.max(t,Math.min(r,p))}function rc(p,t){return(p%t+t)%t}function Gs(p,t,r){return(1-r)*p+r*t}function hr(p,t){switch(t.constructor){case Float32Array:return p;case Uint32Array:return p/4294967295;case Uint16Array:return p/65535;case Uint8Array:return p/255;case Int32Array:return Math.max(p/2147483647,-1);case Int16Array:return Math.max(p/32767,-1);case Int8Array:return Math.max(p/127,-1);default:throw new Error("Invalid component type.")}}function jt(p,t){switch(t.constructor){case Float32Array:return p;case Uint32Array:return Math.round(p*4294967295);case Uint16Array:return Math.round(p*65535);case Uint8Array:return Math.round(p*255);case Int32Array:return Math.round(p*2147483647);case Int16Array:return Math.round(p*32767);case Int8Array:return Math.round(p*127);default:throw new Error("Invalid component type.")}}class ye{constructor(t=0,r=0){ye.prototype.isVector2=!0,this.x=t,this.y=r}get width(){return this.x}set width(t){this.x=t}get height(){return this.y}set height(t){this.y=t}set(t,r){return this.x=t,this.y=r,this}setScalar(t){return this.x=t,this.y=t,this}setX(t){return this.x=t,this}setY(t){return this.y=t,this}setComponent(t,r){switch(t){case 0:this.x=r;break;case 1:this.y=r;break;default:throw new Error("index is out of range: "+t)}return this}getComponent(t){switch(t){case 0:return this.x;case 1:return this.y;default:throw new Error("index is out of range: "+t)}}clone(){return new this.constructor(this.x,this.y)}copy(t){return this.x=t.x,this.y=t.y,this}add(t){return this.x+=t.x,this.y+=t.y,this}addScalar(t){return this.x+=t,this.y+=t,this}addVectors(t,r){return this.x=t.x+r.x,this.y=t.y+r.y,this}addScaledVector(t,r){return this.x+=t.x*r,this.y+=t.y*r,this}sub(t){return this.x-=t.x,this.y-=t.y,this}subScalar(t){return this.x-=t,this.y-=t,this}subVectors(t,r){return this.x=t.x-r.x,this.y=t.y-r.y,this}multiply(t){return this.x*=t.x,this.y*=t.y,this}multiplyScalar(t){return this.x*=t,this.y*=t,this}divide(t){return this.x/=t.x,this.y/=t.y,this}divideScalar(t){return this.multiplyScalar(1/t)}applyMatrix3(t){const r=this.x,s=this.y,a=t.elements;return this.x=a[0]*r+a[3]*s+a[6],this.y=a[1]*r+a[4]*s+a[7],this}min(t){return this.x=Math.min(this.x,t.x),this.y=Math.min(this.y,t.y),this}max(t){return this.x=Math.max(this.x,t.x),this.y=Math.max(this.y,t.y),this}clamp(t,r){return this.x=Math.max(t.x,Math.min(r.x,this.x)),this.y=Math.max(t.y,Math.min(r.y,this.y)),this}clampScalar(t,r){return this.x=Math.max(t,Math.min(r,this.x)),this.y=Math.max(t,Math.min(r,this.y)),this}clampLength(t,r){const s=this.length();return this.divideScalar(s||1).multiplyScalar(Math.max(t,Math.min(r,s)))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this}roundToZero(){return this.x=Math.trunc(this.x),this.y=Math.trunc(this.y),this}negate(){return this.x=-this.x,this.y=-this.y,this}dot(t){return this.x*t.x+this.y*t.y}cross(t){return this.x*t.y-this.y*t.x}lengthSq(){return this.x*this.x+this.y*this.y}length(){return Math.sqrt(this.x*this.x+this.y*this.y)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)}normalize(){return this.divideScalar(this.length()||1)}angle(){return Math.atan2(-this.y,-this.x)+Math.PI}angleTo(t){const r=Math.sqrt(this.lengthSq()*t.lengthSq());if(r===0)return Math.PI/2;const s=this.dot(t)/r;return Math.acos(Qt(s,-1,1))}distanceTo(t){return Math.sqrt(this.distanceToSquared(t))}distanceToSquared(t){const r=this.x-t.x,s=this.y-t.y;return r*r+s*s}manhattanDistanceTo(t){return Math.abs(this.x-t.x)+Math.abs(this.y-t.y)}setLength(t){return this.normalize().multiplyScalar(t)}lerp(t,r){return this.x+=(t.x-this.x)*r,this.y+=(t.y-this.y)*r,this}lerpVectors(t,r,s){return this.x=t.x+(r.x-t.x)*s,this.y=t.y+(r.y-t.y)*s,this}equals(t){return t.x===this.x&&t.y===this.y}fromArray(t,r=0){return this.x=t[r],this.y=t[r+1],this}toArray(t=[],r=0){return t[r]=this.x,t[r+1]=this.y,t}fromBufferAttribute(t,r){return this.x=t.getX(r),this.y=t.getY(r),this}rotateAround(t,r){const s=Math.cos(r),a=Math.sin(r),h=this.x-t.x,c=this.y-t.y;return this.x=h*s-c*a+t.x,this.y=h*a+c*s+t.y,this}random(){return this.x=Math.random(),this.y=Math.random(),this}*[Symbol.iterator](){yield this.x,yield this.y}}class $e{constructor(t,r,s,a,h,c,m,y,g){$e.prototype.isMatrix3=!0,this.elements=[1,0,0,0,1,0,0,0,1],t!==void 0&&this.set(t,r,s,a,h,c,m,y,g)}set(t,r,s,a,h,c,m,y,g){const f=this.elements;return f[0]=t,f[1]=a,f[2]=m,f[3]=r,f[4]=h,f[5]=y,f[6]=s,f[7]=c,f[8]=g,this}identity(){return this.set(1,0,0,0,1,0,0,0,1),this}copy(t){const r=this.elements,s=t.elements;return r[0]=s[0],r[1]=s[1],r[2]=s[2],r[3]=s[3],r[4]=s[4],r[5]=s[5],r[6]=s[6],r[7]=s[7],r[8]=s[8],this}extractBasis(t,r,s){return t.setFromMatrix3Column(this,0),r.setFromMatrix3Column(this,1),s.setFromMatrix3Column(this,2),this}setFromMatrix4(t){const r=t.elements;return this.set(r[0],r[4],r[8],r[1],r[5],r[9],r[2],r[6],r[10]),this}multiply(t){return this.multiplyMatrices(this,t)}premultiply(t){return this.multiplyMatrices(t,this)}multiplyMatrices(t,r){const s=t.elements,a=r.elements,h=this.elements,c=s[0],m=s[3],y=s[6],g=s[1],f=s[4],d=s[7],S=s[2],v=s[5],_=s[8],E=a[0],F=a[3],C=a[6],I=a[1],T=a[4],W=a[7],H=a[2],K=a[5],q=a[8];return h[0]=c*E+m*I+y*H,h[3]=c*F+m*T+y*K,h[6]=c*C+m*W+y*q,h[1]=g*E+f*I+d*H,h[4]=g*F+f*T+d*K,h[7]=g*C+f*W+d*q,h[2]=S*E+v*I+_*H,h[5]=S*F+v*T+_*K,h[8]=S*C+v*W+_*q,this}multiplyScalar(t){const r=this.elements;return r[0]*=t,r[3]*=t,r[6]*=t,r[1]*=t,r[4]*=t,r[7]*=t,r[2]*=t,r[5]*=t,r[8]*=t,this}determinant(){const t=this.elements,r=t[0],s=t[1],a=t[2],h=t[3],c=t[4],m=t[5],y=t[6],g=t[7],f=t[8];return r*c*f-r*m*g-s*h*f+s*m*y+a*h*g-a*c*y}invert(){const t=this.elements,r=t[0],s=t[1],a=t[2],h=t[3],c=t[4],m=t[5],y=t[6],g=t[7],f=t[8],d=f*c-m*g,S=m*y-f*h,v=g*h-c*y,_=r*d+s*S+a*v;if(_===0)return this.set(0,0,0,0,0,0,0,0,0);const E=1/_;return t[0]=d*E,t[1]=(a*g-f*s)*E,t[2]=(m*s-a*c)*E,t[3]=S*E,t[4]=(f*r-a*y)*E,t[5]=(a*h-m*r)*E,t[6]=v*E,t[7]=(s*y-g*r)*E,t[8]=(c*r-s*h)*E,this}transpose(){let t;const r=this.elements;return t=r[1],r[1]=r[3],r[3]=t,t=r[2],r[2]=r[6],r[6]=t,t=r[5],r[5]=r[7],r[7]=t,this}getNormalMatrix(t){return this.setFromMatrix4(t).invert().transpose()}transposeIntoArray(t){const r=this.elements;return t[0]=r[0],t[1]=r[3],t[2]=r[6],t[3]=r[1],t[4]=r[4],t[5]=r[7],t[6]=r[2],t[7]=r[5],t[8]=r[8],this}setUvTransform(t,r,s,a,h,c,m){const y=Math.cos(h),g=Math.sin(h);return this.set(s*y,s*g,-s*(y*c+g*m)+c+t,-a*g,a*y,-a*(-g*c+y*m)+m+r,0,0,1),this}scale(t,r){return this.premultiply(Xs.makeScale(t,r)),this}rotate(t){return this.premultiply(Xs.makeRotation(-t)),this}translate(t,r){return this.premultiply(Xs.makeTranslation(t,r)),this}makeTranslation(t,r){return t.isVector2?this.set(1,0,t.x,0,1,t.y,0,0,1):this.set(1,0,t,0,1,r,0,0,1),this}makeRotation(t){const r=Math.cos(t),s=Math.sin(t);return this.set(r,-s,0,s,r,0,0,0,1),this}makeScale(t,r){return this.set(t,0,0,0,r,0,0,0,1),this}equals(t){const r=this.elements,s=t.elements;for(let a=0;a<9;a++)if(r[a]!==s[a])return!1;return!0}fromArray(t,r=0){for(let s=0;s<9;s++)this.elements[s]=t[s+r];return this}toArray(t=[],r=0){const s=this.elements;return t[r]=s[0],t[r+1]=s[1],t[r+2]=s[2],t[r+3]=s[3],t[r+4]=s[4],t[r+5]=s[5],t[r+6]=s[6],t[r+7]=s[7],t[r+8]=s[8],t}clone(){return new this.constructor().fromArray(this.elements)}}const Xs=new $e;function ic(p){for(let t=p.length-1;t>=0;--t)if(p[t]>=65535)return!0;return!1}function Sa(p){return document.createElementNS("http://www.w3.org/1999/xhtml",p)}const _a={};function Ys(p){p in _a||(_a[p]=!0,console.warn(p))}const wa=new $e().set(.8224621,.177538,0,.0331941,.9668058,0,.0170827,.0723974,.9105199),Ma=new $e().set(1.2249401,-.2249404,0,-.0420569,1.0420571,0,-.0196376,-.0786361,1.0982735),vi={[dl]:{transfer:al,primaries:ma,toReference:p=>p,fromReference:p=>p},[me]:{transfer:pa,primaries:ma,toReference:p=>p.convertSRGBToLinear(),fromReference:p=>p.convertLinearToSRGB()},[Ya]:{transfer:al,primaries:ya,toReference:p=>p.applyMatrix3(Ma),fromReference:p=>p.applyMatrix3(wa)},[ec]:{transfer:pa,primaries:ya,toReference:p=>p.convertSRGBToLinear().applyMatrix3(Ma),fromReference:p=>p.applyMatrix3(wa).convertLinearToSRGB()}},sc=new Set([dl,Ya]),fe={enabled:!0,_workingColorSpace:dl,get legacyMode(){return console.warn("THREE.ColorManagement: .legacyMode=false renamed to .enabled=true in r150."),!this.enabled},set legacyMode(p){console.warn("THREE.ColorManagement: .legacyMode=false renamed to .enabled=true in r150."),this.enabled=!p},get workingColorSpace(){return this._workingColorSpace},set workingColorSpace(p){if(!sc.has(p))throw new Error(`Unsupported working color space, "${p}".`);this._workingColorSpace=p},convert:function(p,t,r){if(this.enabled===!1||t===r||!t||!r)return p;const s=vi[t].toReference,a=vi[r].fromReference;return a(s(p))},fromWorkingColorSpace:function(p,t){return this.convert(p,this._workingColorSpace,t)},toWorkingColorSpace:function(p,t){return this.convert(p,t,this._workingColorSpace)},getPrimaries:function(p){return vi[p].primaries},getTransfer:function(p){return p===Fi?al:vi[p].transfer}};function Un(p){return p<.04045?p*.0773993808:Math.pow(p*.9478672986+.0521327014,2.4)}function Zs(p){return p<.0031308?p*12.92:1.055*Math.pow(p,.41666)-.055}let Tn;class lc{static getDataURL(t){if(/^data:/i.test(t.src)||typeof HTMLCanvasElement>"u")return t.src;let r;if(t instanceof HTMLCanvasElement)r=t;else{Tn===void 0&&(Tn=Sa("canvas")),Tn.width=t.width,Tn.height=t.height;const s=Tn.getContext("2d");t instanceof ImageData?s.putImageData(t,0,0):s.drawImage(t,0,0,t.width,t.height),r=Tn}return r.width>2048||r.height>2048?(console.warn("THREE.ImageUtils.getDataURL: Image converted to jpg for performance reasons",t),r.toDataURL("image/jpeg",.6)):r.toDataURL("image/png")}static sRGBToLinear(t){if(typeof HTMLImageElement<"u"&&t instanceof HTMLImageElement||typeof HTMLCanvasElement<"u"&&t instanceof HTMLCanvasElement||typeof ImageBitmap<"u"&&t instanceof ImageBitmap){const r=Sa("canvas");r.width=t.width,r.height=t.height;const s=r.getContext("2d");s.drawImage(t,0,0,t.width,t.height);const a=s.getImageData(0,0,t.width,t.height),h=a.data;for(let c=0;c<h.length;c++)h[c]=Un(h[c]/255)*255;return s.putImageData(a,0,0),r}else if(t.data){const r=t.data.slice(0);for(let s=0;s<r.length;s++)r instanceof Uint8Array||r instanceof Uint8ClampedArray?r[s]=Math.floor(Un(r[s]/255)*255):r[s]=Un(r[s]);return{data:r,width:t.width,height:t.height}}else return console.warn("THREE.ImageUtils.sRGBToLinear(): Unsupported image type. No color space conversion applied."),t}}let oc=0;class ac{constructor(t=null){this.isSource=!0,Object.defineProperty(this,"id",{value:oc++}),this.uuid=gr(),this.data=t,this.version=0}set needsUpdate(t){t===!0&&this.version++}toJSON(t){const r=t===void 0||typeof t=="string";if(!r&&t.images[this.uuid]!==void 0)return t.images[this.uuid];const s={uuid:this.uuid,url:""},a=this.data;if(a!==null){let h;if(Array.isArray(a)){h=[];for(let c=0,m=a.length;c<m;c++)a[c].isDataTexture?h.push(Js(a[c].image)):h.push(Js(a[c]))}else h=Js(a);s.url=h}return r||(t.images[this.uuid]=s),s}}function Js(p){return typeof HTMLImageElement<"u"&&p instanceof HTMLImageElement||typeof HTMLCanvasElement<"u"&&p instanceof HTMLCanvasElement||typeof ImageBitmap<"u"&&p instanceof ImageBitmap?lc.getDataURL(p):p.data?{data:Array.from(p.data),width:p.width,height:p.height,type:p.data.constructor.name}:(console.warn("THREE.Texture: Unable to serialize Texture."),{})}let uc=0;class Ae extends Ti{constructor(t=Ae.DEFAULT_IMAGE,r=Ae.DEFAULT_MAPPING,s=gi,a=gi,h=ol,c=Jh,m=Xa,y=Ga,g=Ae.DEFAULT_ANISOTROPY,f=Fi){super(),this.isTexture=!0,Object.defineProperty(this,"id",{value:uc++}),this.uuid=gr(),this.name="",this.source=new ac(t),this.mipmaps=[],this.mapping=r,this.channel=0,this.wrapS=s,this.wrapT=a,this.magFilter=h,this.minFilter=c,this.anisotropy=g,this.format=m,this.internalFormat=null,this.type=y,this.offset=new ye(0,0),this.repeat=new ye(1,1),this.center=new ye(0,0),this.rotation=0,this.matrixAutoUpdate=!0,this.matrix=new $e,this.generateMipmaps=!0,this.premultiplyAlpha=!1,this.flipY=!0,this.unpackAlignment=4,typeof f=="string"?this.colorSpace=f:(Ys("THREE.Texture: Property .encoding has been replaced by .colorSpace."),this.colorSpace=f===Qs?me:Fi),this.userData={},this.version=0,this.onUpdate=null,this.isRenderTargetTexture=!1,this.needsPMREMUpdate=!1}get image(){return this.source.data}set image(t=null){this.source.data=t}updateMatrix(){this.matrix.setUvTransform(this.offset.x,this.offset.y,this.repeat.x,this.repeat.y,this.rotation,this.center.x,this.center.y)}clone(){return new this.constructor().copy(this)}copy(t){return this.name=t.name,this.source=t.source,this.mipmaps=t.mipmaps.slice(0),this.mapping=t.mapping,this.channel=t.channel,this.wrapS=t.wrapS,this.wrapT=t.wrapT,this.magFilter=t.magFilter,this.minFilter=t.minFilter,this.anisotropy=t.anisotropy,this.format=t.format,this.internalFormat=t.internalFormat,this.type=t.type,this.offset.copy(t.offset),this.repeat.copy(t.repeat),this.center.copy(t.center),this.rotation=t.rotation,this.matrixAutoUpdate=t.matrixAutoUpdate,this.matrix.copy(t.matrix),this.generateMipmaps=t.generateMipmaps,this.premultiplyAlpha=t.premultiplyAlpha,this.flipY=t.flipY,this.unpackAlignment=t.unpackAlignment,this.colorSpace=t.colorSpace,this.userData=JSON.parse(JSON.stringify(t.userData)),this.needsUpdate=!0,this}toJSON(t){const r=t===void 0||typeof t=="string";if(!r&&t.textures[this.uuid]!==void 0)return t.textures[this.uuid];const s={metadata:{version:4.6,type:"Texture",generator:"Texture.toJSON"},uuid:this.uuid,name:this.name,image:this.source.toJSON(t).uuid,mapping:this.mapping,channel:this.channel,repeat:[this.repeat.x,this.repeat.y],offset:[this.offset.x,this.offset.y],center:[this.center.x,this.center.y],rotation:this.rotation,wrap:[this.wrapS,this.wrapT],format:this.format,internalFormat:this.internalFormat,type:this.type,colorSpace:this.colorSpace,minFilter:this.minFilter,magFilter:this.magFilter,anisotropy:this.anisotropy,flipY:this.flipY,generateMipmaps:this.generateMipmaps,premultiplyAlpha:this.premultiplyAlpha,unpackAlignment:this.unpackAlignment};return Object.keys(this.userData).length>0&&(s.userData=this.userData),r||(t.textures[this.uuid]=s),s}dispose(){this.dispatchEvent({type:"dispose"})}transformUv(t){if(this.mapping!==Qa)return t;if(t.applyMatrix3(this.matrix),t.x<0||t.x>1)switch(this.wrapS){case ha:t.x=t.x-Math.floor(t.x);break;case gi:t.x=t.x<0?0:1;break;case ca:Math.abs(Math.floor(t.x)%2)===1?t.x=Math.ceil(t.x)-t.x:t.x=t.x-Math.floor(t.x);break}if(t.y<0||t.y>1)switch(this.wrapT){case ha:t.y=t.y-Math.floor(t.y);break;case gi:t.y=t.y<0?0:1;break;case ca:Math.abs(Math.floor(t.y)%2)===1?t.y=Math.ceil(t.y)-t.y:t.y=t.y-Math.floor(t.y);break}return this.flipY&&(t.y=1-t.y),t}set needsUpdate(t){t===!0&&(this.version++,this.source.needsUpdate=!0)}get encoding(){return Ys("THREE.Texture: Property .encoding has been replaced by .colorSpace."),this.colorSpace===me?Qs:tc}set encoding(t){Ys("THREE.Texture: Property .encoding has been replaced by .colorSpace."),this.colorSpace=t===Qs?me:Fi}}Ae.DEFAULT_IMAGE=null;Ae.DEFAULT_MAPPING=Qa;Ae.DEFAULT_ANISOTROPY=1;class xr{constructor(t=0,r=0,s=0,a=1){this.isQuaternion=!0,this._x=t,this._y=r,this._z=s,this._w=a}static slerpFlat(t,r,s,a,h,c,m){let y=s[a+0],g=s[a+1],f=s[a+2],d=s[a+3];const S=h[c+0],v=h[c+1],_=h[c+2],E=h[c+3];if(m===0){t[r+0]=y,t[r+1]=g,t[r+2]=f,t[r+3]=d;return}if(m===1){t[r+0]=S,t[r+1]=v,t[r+2]=_,t[r+3]=E;return}if(d!==E||y!==S||g!==v||f!==_){let F=1-m;const C=y*S+g*v+f*_+d*E,I=C>=0?1:-1,T=1-C*C;if(T>Number.EPSILON){const H=Math.sqrt(T),K=Math.atan2(H,C*I);F=Math.sin(F*K)/H,m=Math.sin(m*K)/H}const W=m*I;if(y=y*F+S*W,g=g*F+v*W,f=f*F+_*W,d=d*F+E*W,F===1-m){const H=1/Math.sqrt(y*y+g*g+f*f+d*d);y*=H,g*=H,f*=H,d*=H}}t[r]=y,t[r+1]=g,t[r+2]=f,t[r+3]=d}static multiplyQuaternionsFlat(t,r,s,a,h,c){const m=s[a],y=s[a+1],g=s[a+2],f=s[a+3],d=h[c],S=h[c+1],v=h[c+2],_=h[c+3];return t[r]=m*_+f*d+y*v-g*S,t[r+1]=y*_+f*S+g*d-m*v,t[r+2]=g*_+f*v+m*S-y*d,t[r+3]=f*_-m*d-y*S-g*v,t}get x(){return this._x}set x(t){this._x=t,this._onChangeCallback()}get y(){return this._y}set y(t){this._y=t,this._onChangeCallback()}get z(){return this._z}set z(t){this._z=t,this._onChangeCallback()}get w(){return this._w}set w(t){this._w=t,this._onChangeCallback()}set(t,r,s,a){return this._x=t,this._y=r,this._z=s,this._w=a,this._onChangeCallback(),this}clone(){return new this.constructor(this._x,this._y,this._z,this._w)}copy(t){return this._x=t.x,this._y=t.y,this._z=t.z,this._w=t.w,this._onChangeCallback(),this}setFromEuler(t,r){const s=t._x,a=t._y,h=t._z,c=t._order,m=Math.cos,y=Math.sin,g=m(s/2),f=m(a/2),d=m(h/2),S=y(s/2),v=y(a/2),_=y(h/2);switch(c){case"XYZ":this._x=S*f*d+g*v*_,this._y=g*v*d-S*f*_,this._z=g*f*_+S*v*d,this._w=g*f*d-S*v*_;break;case"YXZ":this._x=S*f*d+g*v*_,this._y=g*v*d-S*f*_,this._z=g*f*_-S*v*d,this._w=g*f*d+S*v*_;break;case"ZXY":this._x=S*f*d-g*v*_,this._y=g*v*d+S*f*_,this._z=g*f*_+S*v*d,this._w=g*f*d-S*v*_;break;case"ZYX":this._x=S*f*d-g*v*_,this._y=g*v*d+S*f*_,this._z=g*f*_-S*v*d,this._w=g*f*d+S*v*_;break;case"YZX":this._x=S*f*d+g*v*_,this._y=g*v*d+S*f*_,this._z=g*f*_-S*v*d,this._w=g*f*d-S*v*_;break;case"XZY":this._x=S*f*d-g*v*_,this._y=g*v*d-S*f*_,this._z=g*f*_+S*v*d,this._w=g*f*d+S*v*_;break;default:console.warn("THREE.Quaternion: .setFromEuler() encountered an unknown order: "+c)}return r!==!1&&this._onChangeCallback(),this}setFromAxisAngle(t,r){const s=r/2,a=Math.sin(s);return this._x=t.x*a,this._y=t.y*a,this._z=t.z*a,this._w=Math.cos(s),this._onChangeCallback(),this}setFromRotationMatrix(t){const r=t.elements,s=r[0],a=r[4],h=r[8],c=r[1],m=r[5],y=r[9],g=r[2],f=r[6],d=r[10],S=s+m+d;if(S>0){const v=.5/Math.sqrt(S+1);this._w=.25/v,this._x=(f-y)*v,this._y=(h-g)*v,this._z=(c-a)*v}else if(s>m&&s>d){const v=2*Math.sqrt(1+s-m-d);this._w=(f-y)/v,this._x=.25*v,this._y=(a+c)/v,this._z=(h+g)/v}else if(m>d){const v=2*Math.sqrt(1+m-s-d);this._w=(h-g)/v,this._x=(a+c)/v,this._y=.25*v,this._z=(y+f)/v}else{const v=2*Math.sqrt(1+d-s-m);this._w=(c-a)/v,this._x=(h+g)/v,this._y=(y+f)/v,this._z=.25*v}return this._onChangeCallback(),this}setFromUnitVectors(t,r){let s=t.dot(r)+1;return s<Number.EPSILON?(s=0,Math.abs(t.x)>Math.abs(t.z)?(this._x=-t.y,this._y=t.x,this._z=0,this._w=s):(this._x=0,this._y=-t.z,this._z=t.y,this._w=s)):(this._x=t.y*r.z-t.z*r.y,this._y=t.z*r.x-t.x*r.z,this._z=t.x*r.y-t.y*r.x,this._w=s),this.normalize()}angleTo(t){return 2*Math.acos(Math.abs(Qt(this.dot(t),-1,1)))}rotateTowards(t,r){const s=this.angleTo(t);if(s===0)return this;const a=Math.min(1,r/s);return this.slerp(t,a),this}identity(){return this.set(0,0,0,1)}invert(){return this.conjugate()}conjugate(){return this._x*=-1,this._y*=-1,this._z*=-1,this._onChangeCallback(),this}dot(t){return this._x*t._x+this._y*t._y+this._z*t._z+this._w*t._w}lengthSq(){return this._x*this._x+this._y*this._y+this._z*this._z+this._w*this._w}length(){return Math.sqrt(this._x*this._x+this._y*this._y+this._z*this._z+this._w*this._w)}normalize(){let t=this.length();return t===0?(this._x=0,this._y=0,this._z=0,this._w=1):(t=1/t,this._x=this._x*t,this._y=this._y*t,this._z=this._z*t,this._w=this._w*t),this._onChangeCallback(),this}multiply(t){return this.multiplyQuaternions(this,t)}premultiply(t){return this.multiplyQuaternions(t,this)}multiplyQuaternions(t,r){const s=t._x,a=t._y,h=t._z,c=t._w,m=r._x,y=r._y,g=r._z,f=r._w;return this._x=s*f+c*m+a*g-h*y,this._y=a*f+c*y+h*m-s*g,this._z=h*f+c*g+s*y-a*m,this._w=c*f-s*m-a*y-h*g,this._onChangeCallback(),this}slerp(t,r){if(r===0)return this;if(r===1)return this.copy(t);const s=this._x,a=this._y,h=this._z,c=this._w;let m=c*t._w+s*t._x+a*t._y+h*t._z;if(m<0?(this._w=-t._w,this._x=-t._x,this._y=-t._y,this._z=-t._z,m=-m):this.copy(t),m>=1)return this._w=c,this._x=s,this._y=a,this._z=h,this;const y=1-m*m;if(y<=Number.EPSILON){const v=1-r;return this._w=v*c+r*this._w,this._x=v*s+r*this._x,this._y=v*a+r*this._y,this._z=v*h+r*this._z,this.normalize(),this._onChangeCallback(),this}const g=Math.sqrt(y),f=Math.atan2(g,m),d=Math.sin((1-r)*f)/g,S=Math.sin(r*f)/g;return this._w=c*d+this._w*S,this._x=s*d+this._x*S,this._y=a*d+this._y*S,this._z=h*d+this._z*S,this._onChangeCallback(),this}slerpQuaternions(t,r,s){return this.copy(t).slerp(r,s)}random(){const t=Math.random(),r=Math.sqrt(1-t),s=Math.sqrt(t),a=2*Math.PI*Math.random(),h=2*Math.PI*Math.random();return this.set(r*Math.cos(a),s*Math.sin(h),s*Math.cos(h),r*Math.sin(a))}equals(t){return t._x===this._x&&t._y===this._y&&t._z===this._z&&t._w===this._w}fromArray(t,r=0){return this._x=t[r],this._y=t[r+1],this._z=t[r+2],this._w=t[r+3],this._onChangeCallback(),this}toArray(t=[],r=0){return t[r]=this._x,t[r+1]=this._y,t[r+2]=this._z,t[r+3]=this._w,t}fromBufferAttribute(t,r){return this._x=t.getX(r),this._y=t.getY(r),this._z=t.getZ(r),this._w=t.getW(r),this}toJSON(){return this.toArray()}_onChange(t){return this._onChangeCallback=t,this}_onChangeCallback(){}*[Symbol.iterator](){yield this._x,yield this._y,yield this._z,yield this._w}}class D{constructor(t=0,r=0,s=0){D.prototype.isVector3=!0,this.x=t,this.y=r,this.z=s}set(t,r,s){return s===void 0&&(s=this.z),this.x=t,this.y=r,this.z=s,this}setScalar(t){return this.x=t,this.y=t,this.z=t,this}setX(t){return this.x=t,this}setY(t){return this.y=t,this}setZ(t){return this.z=t,this}setComponent(t,r){switch(t){case 0:this.x=r;break;case 1:this.y=r;break;case 2:this.z=r;break;default:throw new Error("index is out of range: "+t)}return this}getComponent(t){switch(t){case 0:return this.x;case 1:return this.y;case 2:return this.z;default:throw new Error("index is out of range: "+t)}}clone(){return new this.constructor(this.x,this.y,this.z)}copy(t){return this.x=t.x,this.y=t.y,this.z=t.z,this}add(t){return this.x+=t.x,this.y+=t.y,this.z+=t.z,this}addScalar(t){return this.x+=t,this.y+=t,this.z+=t,this}addVectors(t,r){return this.x=t.x+r.x,this.y=t.y+r.y,this.z=t.z+r.z,this}addScaledVector(t,r){return this.x+=t.x*r,this.y+=t.y*r,this.z+=t.z*r,this}sub(t){return this.x-=t.x,this.y-=t.y,this.z-=t.z,this}subScalar(t){return this.x-=t,this.y-=t,this.z-=t,this}subVectors(t,r){return this.x=t.x-r.x,this.y=t.y-r.y,this.z=t.z-r.z,this}multiply(t){return this.x*=t.x,this.y*=t.y,this.z*=t.z,this}multiplyScalar(t){return this.x*=t,this.y*=t,this.z*=t,this}multiplyVectors(t,r){return this.x=t.x*r.x,this.y=t.y*r.y,this.z=t.z*r.z,this}applyEuler(t){return this.applyQuaternion(za.setFromEuler(t))}applyAxisAngle(t,r){return this.applyQuaternion(za.setFromAxisAngle(t,r))}applyMatrix3(t){const r=this.x,s=this.y,a=this.z,h=t.elements;return this.x=h[0]*r+h[3]*s+h[6]*a,this.y=h[1]*r+h[4]*s+h[7]*a,this.z=h[2]*r+h[5]*s+h[8]*a,this}applyNormalMatrix(t){return this.applyMatrix3(t).normalize()}applyMatrix4(t){const r=this.x,s=this.y,a=this.z,h=t.elements,c=1/(h[3]*r+h[7]*s+h[11]*a+h[15]);return this.x=(h[0]*r+h[4]*s+h[8]*a+h[12])*c,this.y=(h[1]*r+h[5]*s+h[9]*a+h[13])*c,this.z=(h[2]*r+h[6]*s+h[10]*a+h[14])*c,this}applyQuaternion(t){const r=this.x,s=this.y,a=this.z,h=t.x,c=t.y,m=t.z,y=t.w,g=2*(c*a-m*s),f=2*(m*r-h*a),d=2*(h*s-c*r);return this.x=r+y*g+c*d-m*f,this.y=s+y*f+m*g-h*d,this.z=a+y*d+h*f-c*g,this}project(t){return this.applyMatrix4(t.matrixWorldInverse).applyMatrix4(t.projectionMatrix)}unproject(t){return this.applyMatrix4(t.projectionMatrixInverse).applyMatrix4(t.matrixWorld)}transformDirection(t){const r=this.x,s=this.y,a=this.z,h=t.elements;return this.x=h[0]*r+h[4]*s+h[8]*a,this.y=h[1]*r+h[5]*s+h[9]*a,this.z=h[2]*r+h[6]*s+h[10]*a,this.normalize()}divide(t){return this.x/=t.x,this.y/=t.y,this.z/=t.z,this}divideScalar(t){return this.multiplyScalar(1/t)}min(t){return this.x=Math.min(this.x,t.x),this.y=Math.min(this.y,t.y),this.z=Math.min(this.z,t.z),this}max(t){return this.x=Math.max(this.x,t.x),this.y=Math.max(this.y,t.y),this.z=Math.max(this.z,t.z),this}clamp(t,r){return this.x=Math.max(t.x,Math.min(r.x,this.x)),this.y=Math.max(t.y,Math.min(r.y,this.y)),this.z=Math.max(t.z,Math.min(r.z,this.z)),this}clampScalar(t,r){return this.x=Math.max(t,Math.min(r,this.x)),this.y=Math.max(t,Math.min(r,this.y)),this.z=Math.max(t,Math.min(r,this.z)),this}clampLength(t,r){const s=this.length();return this.divideScalar(s||1).multiplyScalar(Math.max(t,Math.min(r,s)))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this.z=Math.floor(this.z),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this.z=Math.ceil(this.z),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this.z=Math.round(this.z),this}roundToZero(){return this.x=Math.trunc(this.x),this.y=Math.trunc(this.y),this.z=Math.trunc(this.z),this}negate(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this}dot(t){return this.x*t.x+this.y*t.y+this.z*t.z}lengthSq(){return this.x*this.x+this.y*this.y+this.z*this.z}length(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)+Math.abs(this.z)}normalize(){return this.divideScalar(this.length()||1)}setLength(t){return this.normalize().multiplyScalar(t)}lerp(t,r){return this.x+=(t.x-this.x)*r,this.y+=(t.y-this.y)*r,this.z+=(t.z-this.z)*r,this}lerpVectors(t,r,s){return this.x=t.x+(r.x-t.x)*s,this.y=t.y+(r.y-t.y)*s,this.z=t.z+(r.z-t.z)*s,this}cross(t){return this.crossVectors(this,t)}crossVectors(t,r){const s=t.x,a=t.y,h=t.z,c=r.x,m=r.y,y=r.z;return this.x=a*y-h*m,this.y=h*c-s*y,this.z=s*m-a*c,this}projectOnVector(t){const r=t.lengthSq();if(r===0)return this.set(0,0,0);const s=t.dot(this)/r;return this.copy(t).multiplyScalar(s)}projectOnPlane(t){return Ks.copy(this).projectOnVector(t),this.sub(Ks)}reflect(t){return this.sub(Ks.copy(t).multiplyScalar(2*this.dot(t)))}angleTo(t){const r=Math.sqrt(this.lengthSq()*t.lengthSq());if(r===0)return Math.PI/2;const s=this.dot(t)/r;return Math.acos(Qt(s,-1,1))}distanceTo(t){return Math.sqrt(this.distanceToSquared(t))}distanceToSquared(t){const r=this.x-t.x,s=this.y-t.y,a=this.z-t.z;return r*r+s*s+a*a}manhattanDistanceTo(t){return Math.abs(this.x-t.x)+Math.abs(this.y-t.y)+Math.abs(this.z-t.z)}setFromSpherical(t){return this.setFromSphericalCoords(t.radius,t.phi,t.theta)}setFromSphericalCoords(t,r,s){const a=Math.sin(r)*t;return this.x=a*Math.sin(s),this.y=Math.cos(r)*t,this.z=a*Math.cos(s),this}setFromCylindrical(t){return this.setFromCylindricalCoords(t.radius,t.theta,t.y)}setFromCylindricalCoords(t,r,s){return this.x=t*Math.sin(r),this.y=s,this.z=t*Math.cos(r),this}setFromMatrixPosition(t){const r=t.elements;return this.x=r[12],this.y=r[13],this.z=r[14],this}setFromMatrixScale(t){const r=this.setFromMatrixColumn(t,0).length(),s=this.setFromMatrixColumn(t,1).length(),a=this.setFromMatrixColumn(t,2).length();return this.x=r,this.y=s,this.z=a,this}setFromMatrixColumn(t,r){return this.fromArray(t.elements,r*4)}setFromMatrix3Column(t,r){return this.fromArray(t.elements,r*3)}setFromEuler(t){return this.x=t._x,this.y=t._y,this.z=t._z,this}setFromColor(t){return this.x=t.r,this.y=t.g,this.z=t.b,this}equals(t){return t.x===this.x&&t.y===this.y&&t.z===this.z}fromArray(t,r=0){return this.x=t[r],this.y=t[r+1],this.z=t[r+2],this}toArray(t=[],r=0){return t[r]=this.x,t[r+1]=this.y,t[r+2]=this.z,t}fromBufferAttribute(t,r){return this.x=t.getX(r),this.y=t.getY(r),this.z=t.getZ(r),this}random(){return this.x=Math.random(),this.y=Math.random(),this.z=Math.random(),this}randomDirection(){const t=(Math.random()-.5)*2,r=Math.random()*Math.PI*2,s=Math.sqrt(1-t**2);return this.x=s*Math.cos(r),this.y=s*Math.sin(r),this.z=t,this}*[Symbol.iterator](){yield this.x,yield this.y,yield this.z}}const Ks=new D,za=new xr;class vr{constructor(t=new D(1/0,1/0,1/0),r=new D(-1/0,-1/0,-1/0)){this.isBox3=!0,this.min=t,this.max=r}set(t,r){return this.min.copy(t),this.max.copy(r),this}setFromArray(t){this.makeEmpty();for(let r=0,s=t.length;r<s;r+=3)this.expandByPoint(de.fromArray(t,r));return this}setFromBufferAttribute(t){this.makeEmpty();for(let r=0,s=t.count;r<s;r++)this.expandByPoint(de.fromBufferAttribute(t,r));return this}setFromPoints(t){this.makeEmpty();for(let r=0,s=t.length;r<s;r++)this.expandByPoint(t[r]);return this}setFromCenterAndSize(t,r){const s=de.copy(r).multiplyScalar(.5);return this.min.copy(t).sub(s),this.max.copy(t).add(s),this}setFromObject(t,r=!1){return this.makeEmpty(),this.expandByObject(t,r)}clone(){return new this.constructor().copy(this)}copy(t){return this.min.copy(t.min),this.max.copy(t.max),this}makeEmpty(){return this.min.x=this.min.y=this.min.z=1/0,this.max.x=this.max.y=this.max.z=-1/0,this}isEmpty(){return this.max.x<this.min.x||this.max.y<this.min.y||this.max.z<this.min.z}getCenter(t){return this.isEmpty()?t.set(0,0,0):t.addVectors(this.min,this.max).multiplyScalar(.5)}getSize(t){return this.isEmpty()?t.set(0,0,0):t.subVectors(this.max,this.min)}expandByPoint(t){return this.min.min(t),this.max.max(t),this}expandByVector(t){return this.min.sub(t),this.max.add(t),this}expandByScalar(t){return this.min.addScalar(-t),this.max.addScalar(t),this}expandByObject(t,r=!1){t.updateWorldMatrix(!1,!1);const s=t.geometry;if(s!==void 0){const h=s.getAttribute("position");if(r===!0&&h!==void 0&&t.isInstancedMesh!==!0)for(let c=0,m=h.count;c<m;c++)t.isMesh===!0?t.getVertexPosition(c,de):de.fromBufferAttribute(h,c),de.applyMatrix4(t.matrixWorld),this.expandByPoint(de);else t.boundingBox!==void 0?(t.boundingBox===null&&t.computeBoundingBox(),Si.copy(t.boundingBox)):(s.boundingBox===null&&s.computeBoundingBox(),Si.copy(s.boundingBox)),Si.applyMatrix4(t.matrixWorld),this.union(Si)}const a=t.children;for(let h=0,c=a.length;h<c;h++)this.expandByObject(a[h],r);return this}containsPoint(t){return!(t.x<this.min.x||t.x>this.max.x||t.y<this.min.y||t.y>this.max.y||t.z<this.min.z||t.z>this.max.z)}containsBox(t){return this.min.x<=t.min.x&&t.max.x<=this.max.x&&this.min.y<=t.min.y&&t.max.y<=this.max.y&&this.min.z<=t.min.z&&t.max.z<=this.max.z}getParameter(t,r){return r.set((t.x-this.min.x)/(this.max.x-this.min.x),(t.y-this.min.y)/(this.max.y-this.min.y),(t.z-this.min.z)/(this.max.z-this.min.z))}intersectsBox(t){return!(t.max.x<this.min.x||t.min.x>this.max.x||t.max.y<this.min.y||t.min.y>this.max.y||t.max.z<this.min.z||t.min.z>this.max.z)}intersectsSphere(t){return this.clampPoint(t.center,de),de.distanceToSquared(t.center)<=t.radius*t.radius}intersectsPlane(t){let r,s;return t.normal.x>0?(r=t.normal.x*this.min.x,s=t.normal.x*this.max.x):(r=t.normal.x*this.max.x,s=t.normal.x*this.min.x),t.normal.y>0?(r+=t.normal.y*this.min.y,s+=t.normal.y*this.max.y):(r+=t.normal.y*this.max.y,s+=t.normal.y*this.min.y),t.normal.z>0?(r+=t.normal.z*this.min.z,s+=t.normal.z*this.max.z):(r+=t.normal.z*this.max.z,s+=t.normal.z*this.min.z),r<=-t.constant&&s>=-t.constant}intersectsTriangle(t){if(this.isEmpty())return!1;this.getCenter(cr),_i.subVectors(this.max,cr),Pn.subVectors(t.a,cr),Nn.subVectors(t.b,cr),Bn.subVectors(t.c,cr),Xe.subVectors(Nn,Pn),Ye.subVectors(Bn,Nn),pn.subVectors(Pn,Bn);let r=[0,-Xe.z,Xe.y,0,-Ye.z,Ye.y,0,-pn.z,pn.y,Xe.z,0,-Xe.x,Ye.z,0,-Ye.x,pn.z,0,-pn.x,-Xe.y,Xe.x,0,-Ye.y,Ye.x,0,-pn.y,pn.x,0];return!bs(r,Pn,Nn,Bn,_i)||(r=[1,0,0,0,1,0,0,0,1],!bs(r,Pn,Nn,Bn,_i))?!1:(wi.crossVectors(Xe,Ye),r=[wi.x,wi.y,wi.z],bs(r,Pn,Nn,Bn,_i))}clampPoint(t,r){return r.copy(t).clamp(this.min,this.max)}distanceToPoint(t){return this.clampPoint(t,de).distanceTo(t)}getBoundingSphere(t){return this.isEmpty()?t.makeEmpty():(this.getCenter(t.center),t.radius=this.getSize(de).length()*.5),t}intersect(t){return this.min.max(t.min),this.max.min(t.max),this.isEmpty()&&this.makeEmpty(),this}union(t){return this.min.min(t.min),this.max.max(t.max),this}applyMatrix4(t){return this.isEmpty()?this:(Ie[0].set(this.min.x,this.min.y,this.min.z).applyMatrix4(t),Ie[1].set(this.min.x,this.min.y,this.max.z).applyMatrix4(t),Ie[2].set(this.min.x,this.max.y,this.min.z).applyMatrix4(t),Ie[3].set(this.min.x,this.max.y,this.max.z).applyMatrix4(t),Ie[4].set(this.max.x,this.min.y,this.min.z).applyMatrix4(t),Ie[5].set(this.max.x,this.min.y,this.max.z).applyMatrix4(t),Ie[6].set(this.max.x,this.max.y,this.min.z).applyMatrix4(t),Ie[7].set(this.max.x,this.max.y,this.max.z).applyMatrix4(t),this.setFromPoints(Ie),this)}translate(t){return this.min.add(t),this.max.add(t),this}equals(t){return t.min.equals(this.min)&&t.max.equals(this.max)}}const Ie=[new D,new D,new D,new D,new D,new D,new D,new D],de=new D,Si=new vr,Pn=new D,Nn=new D,Bn=new D,Xe=new D,Ye=new D,pn=new D,cr=new D,_i=new D,wi=new D,mn=new D;function bs(p,t,r,s,a){for(let h=0,c=p.length-3;h<=c;h+=3){mn.fromArray(p,h);const m=a.x*Math.abs(mn.x)+a.y*Math.abs(mn.y)+a.z*Math.abs(mn.z),y=t.dot(mn),g=r.dot(mn),f=s.dot(mn);if(Math.max(-Math.max(y,g,f),Math.min(y,g,f))>m)return!1}return!0}const hc=new vr,fr=new D,$s=new D;class cc{constructor(t=new D,r=-1){this.center=t,this.radius=r}set(t,r){return this.center.copy(t),this.radius=r,this}setFromPoints(t,r){const s=this.center;r!==void 0?s.copy(r):hc.setFromPoints(t).getCenter(s);let a=0;for(let h=0,c=t.length;h<c;h++)a=Math.max(a,s.distanceToSquared(t[h]));return this.radius=Math.sqrt(a),this}copy(t){return this.center.copy(t.center),this.radius=t.radius,this}isEmpty(){return this.radius<0}makeEmpty(){return this.center.set(0,0,0),this.radius=-1,this}containsPoint(t){return t.distanceToSquared(this.center)<=this.radius*this.radius}distanceToPoint(t){return t.distanceTo(this.center)-this.radius}intersectsSphere(t){const r=this.radius+t.radius;return t.center.distanceToSquared(this.center)<=r*r}intersectsBox(t){return t.intersectsSphere(this)}intersectsPlane(t){return Math.abs(t.distanceToPoint(this.center))<=this.radius}clampPoint(t,r){const s=this.center.distanceToSquared(t);return r.copy(t),s>this.radius*this.radius&&(r.sub(this.center).normalize(),r.multiplyScalar(this.radius).add(this.center)),r}getBoundingBox(t){return this.isEmpty()?(t.makeEmpty(),t):(t.set(this.center,this.center),t.expandByScalar(this.radius),t)}applyMatrix4(t){return this.center.applyMatrix4(t),this.radius=this.radius*t.getMaxScaleOnAxis(),this}translate(t){return this.center.add(t),this}expandByPoint(t){if(this.isEmpty())return this.center.copy(t),this.radius=0,this;fr.subVectors(t,this.center);const r=fr.lengthSq();if(r>this.radius*this.radius){const s=Math.sqrt(r),a=(s-this.radius)*.5;this.center.addScaledVector(fr,a/s),this.radius+=a}return this}union(t){return t.isEmpty()?this:this.isEmpty()?(this.copy(t),this):(this.center.equals(t.center)===!0?this.radius=Math.max(this.radius,t.radius):($s.subVectors(t.center,this.center).setLength(t.radius),this.expandByPoint(fr.copy(t.center).add($s)),this.expandByPoint(fr.copy(t.center).sub($s))),this)}equals(t){return t.center.equals(this.center)&&t.radius===this.radius}clone(){return new this.constructor().copy(this)}}class Fe{constructor(t,r,s,a,h,c,m,y,g,f,d,S,v,_,E,F){Fe.prototype.isMatrix4=!0,this.elements=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1],t!==void 0&&this.set(t,r,s,a,h,c,m,y,g,f,d,S,v,_,E,F)}set(t,r,s,a,h,c,m,y,g,f,d,S,v,_,E,F){const C=this.elements;return C[0]=t,C[4]=r,C[8]=s,C[12]=a,C[1]=h,C[5]=c,C[9]=m,C[13]=y,C[2]=g,C[6]=f,C[10]=d,C[14]=S,C[3]=v,C[7]=_,C[11]=E,C[15]=F,this}identity(){return this.set(1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1),this}clone(){return new Fe().fromArray(this.elements)}copy(t){const r=this.elements,s=t.elements;return r[0]=s[0],r[1]=s[1],r[2]=s[2],r[3]=s[3],r[4]=s[4],r[5]=s[5],r[6]=s[6],r[7]=s[7],r[8]=s[8],r[9]=s[9],r[10]=s[10],r[11]=s[11],r[12]=s[12],r[13]=s[13],r[14]=s[14],r[15]=s[15],this}copyPosition(t){const r=this.elements,s=t.elements;return r[12]=s[12],r[13]=s[13],r[14]=s[14],this}setFromMatrix3(t){const r=t.elements;return this.set(r[0],r[3],r[6],0,r[1],r[4],r[7],0,r[2],r[5],r[8],0,0,0,0,1),this}extractBasis(t,r,s){return t.setFromMatrixColumn(this,0),r.setFromMatrixColumn(this,1),s.setFromMatrixColumn(this,2),this}makeBasis(t,r,s){return this.set(t.x,r.x,s.x,0,t.y,r.y,s.y,0,t.z,r.z,s.z,0,0,0,0,1),this}extractRotation(t){const r=this.elements,s=t.elements,a=1/In.setFromMatrixColumn(t,0).length(),h=1/In.setFromMatrixColumn(t,1).length(),c=1/In.setFromMatrixColumn(t,2).length();return r[0]=s[0]*a,r[1]=s[1]*a,r[2]=s[2]*a,r[3]=0,r[4]=s[4]*h,r[5]=s[5]*h,r[6]=s[6]*h,r[7]=0,r[8]=s[8]*c,r[9]=s[9]*c,r[10]=s[10]*c,r[11]=0,r[12]=0,r[13]=0,r[14]=0,r[15]=1,this}makeRotationFromEuler(t){const r=this.elements,s=t.x,a=t.y,h=t.z,c=Math.cos(s),m=Math.sin(s),y=Math.cos(a),g=Math.sin(a),f=Math.cos(h),d=Math.sin(h);if(t.order==="XYZ"){const S=c*f,v=c*d,_=m*f,E=m*d;r[0]=y*f,r[4]=-y*d,r[8]=g,r[1]=v+_*g,r[5]=S-E*g,r[9]=-m*y,r[2]=E-S*g,r[6]=_+v*g,r[10]=c*y}else if(t.order==="YXZ"){const S=y*f,v=y*d,_=g*f,E=g*d;r[0]=S+E*m,r[4]=_*m-v,r[8]=c*g,r[1]=c*d,r[5]=c*f,r[9]=-m,r[2]=v*m-_,r[6]=E+S*m,r[10]=c*y}else if(t.order==="ZXY"){const S=y*f,v=y*d,_=g*f,E=g*d;r[0]=S-E*m,r[4]=-c*d,r[8]=_+v*m,r[1]=v+_*m,r[5]=c*f,r[9]=E-S*m,r[2]=-c*g,r[6]=m,r[10]=c*y}else if(t.order==="ZYX"){const S=c*f,v=c*d,_=m*f,E=m*d;r[0]=y*f,r[4]=_*g-v,r[8]=S*g+E,r[1]=y*d,r[5]=E*g+S,r[9]=v*g-_,r[2]=-g,r[6]=m*y,r[10]=c*y}else if(t.order==="YZX"){const S=c*y,v=c*g,_=m*y,E=m*g;r[0]=y*f,r[4]=E-S*d,r[8]=_*d+v,r[1]=d,r[5]=c*f,r[9]=-m*f,r[2]=-g*f,r[6]=v*d+_,r[10]=S-E*d}else if(t.order==="XZY"){const S=c*y,v=c*g,_=m*y,E=m*g;r[0]=y*f,r[4]=-d,r[8]=g*f,r[1]=S*d+E,r[5]=c*f,r[9]=v*d-_,r[2]=_*d-v,r[6]=m*f,r[10]=E*d+S}return r[3]=0,r[7]=0,r[11]=0,r[12]=0,r[13]=0,r[14]=0,r[15]=1,this}makeRotationFromQuaternion(t){return this.compose(fc,t,dc)}lookAt(t,r,s){const a=this.elements;return Kt.subVectors(t,r),Kt.lengthSq()===0&&(Kt.z=1),Kt.normalize(),Ze.crossVectors(s,Kt),Ze.lengthSq()===0&&(Math.abs(s.z)===1?Kt.x+=1e-4:Kt.z+=1e-4,Kt.normalize(),Ze.crossVectors(s,Kt)),Ze.normalize(),Mi.crossVectors(Kt,Ze),a[0]=Ze.x,a[4]=Mi.x,a[8]=Kt.x,a[1]=Ze.y,a[5]=Mi.y,a[9]=Kt.y,a[2]=Ze.z,a[6]=Mi.z,a[10]=Kt.z,this}multiply(t){return this.multiplyMatrices(this,t)}premultiply(t){return this.multiplyMatrices(t,this)}multiplyMatrices(t,r){const s=t.elements,a=r.elements,h=this.elements,c=s[0],m=s[4],y=s[8],g=s[12],f=s[1],d=s[5],S=s[9],v=s[13],_=s[2],E=s[6],F=s[10],C=s[14],I=s[3],T=s[7],W=s[11],H=s[15],K=a[0],q=a[4],Mt=a[8],Et=a[12],b=a[1],at=a[5],ut=a[9],st=a[13],Dt=a[2],ht=a[6],kt=a[10],ge=a[14],B=a[3],V=a[7],Q=a[11],nt=a[15];return h[0]=c*K+m*b+y*Dt+g*B,h[4]=c*q+m*at+y*ht+g*V,h[8]=c*Mt+m*ut+y*kt+g*Q,h[12]=c*Et+m*st+y*ge+g*nt,h[1]=f*K+d*b+S*Dt+v*B,h[5]=f*q+d*at+S*ht+v*V,h[9]=f*Mt+d*ut+S*kt+v*Q,h[13]=f*Et+d*st+S*ge+v*nt,h[2]=_*K+E*b+F*Dt+C*B,h[6]=_*q+E*at+F*ht+C*V,h[10]=_*Mt+E*ut+F*kt+C*Q,h[14]=_*Et+E*st+F*ge+C*nt,h[3]=I*K+T*b+W*Dt+H*B,h[7]=I*q+T*at+W*ht+H*V,h[11]=I*Mt+T*ut+W*kt+H*Q,h[15]=I*Et+T*st+W*ge+H*nt,this}multiplyScalar(t){const r=this.elements;return r[0]*=t,r[4]*=t,r[8]*=t,r[12]*=t,r[1]*=t,r[5]*=t,r[9]*=t,r[13]*=t,r[2]*=t,r[6]*=t,r[10]*=t,r[14]*=t,r[3]*=t,r[7]*=t,r[11]*=t,r[15]*=t,this}determinant(){const t=this.elements,r=t[0],s=t[4],a=t[8],h=t[12],c=t[1],m=t[5],y=t[9],g=t[13],f=t[2],d=t[6],S=t[10],v=t[14],_=t[3],E=t[7],F=t[11],C=t[15];return _*(+h*y*d-a*g*d-h*m*S+s*g*S+a*m*v-s*y*v)+E*(+r*y*v-r*g*S+h*c*S-a*c*v+a*g*f-h*y*f)+F*(+r*g*d-r*m*v-h*c*d+s*c*v+h*m*f-s*g*f)+C*(-a*m*f-r*y*d+r*m*S+a*c*d-s*c*S+s*y*f)}transpose(){const t=this.elements;let r;return r=t[1],t[1]=t[4],t[4]=r,r=t[2],t[2]=t[8],t[8]=r,r=t[6],t[6]=t[9],t[9]=r,r=t[3],t[3]=t[12],t[12]=r,r=t[7],t[7]=t[13],t[13]=r,r=t[11],t[11]=t[14],t[14]=r,this}setPosition(t,r,s){const a=this.elements;return t.isVector3?(a[12]=t.x,a[13]=t.y,a[14]=t.z):(a[12]=t,a[13]=r,a[14]=s),this}invert(){const t=this.elements,r=t[0],s=t[1],a=t[2],h=t[3],c=t[4],m=t[5],y=t[6],g=t[7],f=t[8],d=t[9],S=t[10],v=t[11],_=t[12],E=t[13],F=t[14],C=t[15],I=d*F*g-E*S*g+E*y*v-m*F*v-d*y*C+m*S*C,T=_*S*g-f*F*g-_*y*v+c*F*v+f*y*C-c*S*C,W=f*E*g-_*d*g+_*m*v-c*E*v-f*m*C+c*d*C,H=_*d*y-f*E*y-_*m*S+c*E*S+f*m*F-c*d*F,K=r*I+s*T+a*W+h*H;if(K===0)return this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0);const q=1/K;return t[0]=I*q,t[1]=(E*S*h-d*F*h-E*a*v+s*F*v+d*a*C-s*S*C)*q,t[2]=(m*F*h-E*y*h+E*a*g-s*F*g-m*a*C+s*y*C)*q,t[3]=(d*y*h-m*S*h-d*a*g+s*S*g+m*a*v-s*y*v)*q,t[4]=T*q,t[5]=(f*F*h-_*S*h+_*a*v-r*F*v-f*a*C+r*S*C)*q,t[6]=(_*y*h-c*F*h-_*a*g+r*F*g+c*a*C-r*y*C)*q,t[7]=(c*S*h-f*y*h+f*a*g-r*S*g-c*a*v+r*y*v)*q,t[8]=W*q,t[9]=(_*d*h-f*E*h-_*s*v+r*E*v+f*s*C-r*d*C)*q,t[10]=(c*E*h-_*m*h+_*s*g-r*E*g-c*s*C+r*m*C)*q,t[11]=(f*m*h-c*d*h-f*s*g+r*d*g+c*s*v-r*m*v)*q,t[12]=H*q,t[13]=(f*E*a-_*d*a+_*s*S-r*E*S-f*s*F+r*d*F)*q,t[14]=(_*m*a-c*E*a-_*s*y+r*E*y+c*s*F-r*m*F)*q,t[15]=(c*d*a-f*m*a+f*s*y-r*d*y-c*s*S+r*m*S)*q,this}scale(t){const r=this.elements,s=t.x,a=t.y,h=t.z;return r[0]*=s,r[4]*=a,r[8]*=h,r[1]*=s,r[5]*=a,r[9]*=h,r[2]*=s,r[6]*=a,r[10]*=h,r[3]*=s,r[7]*=a,r[11]*=h,this}getMaxScaleOnAxis(){const t=this.elements,r=t[0]*t[0]+t[1]*t[1]+t[2]*t[2],s=t[4]*t[4]+t[5]*t[5]+t[6]*t[6],a=t[8]*t[8]+t[9]*t[9]+t[10]*t[10];return Math.sqrt(Math.max(r,s,a))}makeTranslation(t,r,s){return t.isVector3?this.set(1,0,0,t.x,0,1,0,t.y,0,0,1,t.z,0,0,0,1):this.set(1,0,0,t,0,1,0,r,0,0,1,s,0,0,0,1),this}makeRotationX(t){const r=Math.cos(t),s=Math.sin(t);return this.set(1,0,0,0,0,r,-s,0,0,s,r,0,0,0,0,1),this}makeRotationY(t){const r=Math.cos(t),s=Math.sin(t);return this.set(r,0,s,0,0,1,0,0,-s,0,r,0,0,0,0,1),this}makeRotationZ(t){const r=Math.cos(t),s=Math.sin(t);return this.set(r,-s,0,0,s,r,0,0,0,0,1,0,0,0,0,1),this}makeRotationAxis(t,r){const s=Math.cos(r),a=Math.sin(r),h=1-s,c=t.x,m=t.y,y=t.z,g=h*c,f=h*m;return this.set(g*c+s,g*m-a*y,g*y+a*m,0,g*m+a*y,f*m+s,f*y-a*c,0,g*y-a*m,f*y+a*c,h*y*y+s,0,0,0,0,1),this}makeScale(t,r,s){return this.set(t,0,0,0,0,r,0,0,0,0,s,0,0,0,0,1),this}makeShear(t,r,s,a,h,c){return this.set(1,s,h,0,t,1,c,0,r,a,1,0,0,0,0,1),this}compose(t,r,s){const a=this.elements,h=r._x,c=r._y,m=r._z,y=r._w,g=h+h,f=c+c,d=m+m,S=h*g,v=h*f,_=h*d,E=c*f,F=c*d,C=m*d,I=y*g,T=y*f,W=y*d,H=s.x,K=s.y,q=s.z;return a[0]=(1-(E+C))*H,a[1]=(v+W)*H,a[2]=(_-T)*H,a[3]=0,a[4]=(v-W)*K,a[5]=(1-(S+C))*K,a[6]=(F+I)*K,a[7]=0,a[8]=(_+T)*q,a[9]=(F-I)*q,a[10]=(1-(S+E))*q,a[11]=0,a[12]=t.x,a[13]=t.y,a[14]=t.z,a[15]=1,this}decompose(t,r,s){const a=this.elements;let h=In.set(a[0],a[1],a[2]).length();const c=In.set(a[4],a[5],a[6]).length(),m=In.set(a[8],a[9],a[10]).length();this.determinant()<0&&(h=-h),t.x=a[12],t.y=a[13],t.z=a[14],pe.copy(this);const g=1/h,f=1/c,d=1/m;return pe.elements[0]*=g,pe.elements[1]*=g,pe.elements[2]*=g,pe.elements[4]*=f,pe.elements[5]*=f,pe.elements[6]*=f,pe.elements[8]*=d,pe.elements[9]*=d,pe.elements[10]*=d,r.setFromRotationMatrix(pe),s.x=h,s.y=c,s.z=m,this}makePerspective(t,r,s,a,h,c,m=xi){const y=this.elements,g=2*h/(r-t),f=2*h/(s-a),d=(r+t)/(r-t),S=(s+a)/(s-a);let v,_;if(m===xi)v=-(c+h)/(c-h),_=-2*c*h/(c-h);else if(m===va)v=-c/(c-h),_=-c*h/(c-h);else throw new Error("THREE.Matrix4.makePerspective(): Invalid coordinate system: "+m);return y[0]=g,y[4]=0,y[8]=d,y[12]=0,y[1]=0,y[5]=f,y[9]=S,y[13]=0,y[2]=0,y[6]=0,y[10]=v,y[14]=_,y[3]=0,y[7]=0,y[11]=-1,y[15]=0,this}makeOrthographic(t,r,s,a,h,c,m=xi){const y=this.elements,g=1/(r-t),f=1/(s-a),d=1/(c-h),S=(r+t)*g,v=(s+a)*f;let _,E;if(m===xi)_=(c+h)*d,E=-2*d;else if(m===va)_=h*d,E=-1*d;else throw new Error("THREE.Matrix4.makeOrthographic(): Invalid coordinate system: "+m);return y[0]=2*g,y[4]=0,y[8]=0,y[12]=-S,y[1]=0,y[5]=2*f,y[9]=0,y[13]=-v,y[2]=0,y[6]=0,y[10]=E,y[14]=-_,y[3]=0,y[7]=0,y[11]=0,y[15]=1,this}equals(t){const r=this.elements,s=t.elements;for(let a=0;a<16;a++)if(r[a]!==s[a])return!1;return!0}fromArray(t,r=0){for(let s=0;s<16;s++)this.elements[s]=t[s+r];return this}toArray(t=[],r=0){const s=this.elements;return t[r]=s[0],t[r+1]=s[1],t[r+2]=s[2],t[r+3]=s[3],t[r+4]=s[4],t[r+5]=s[5],t[r+6]=s[6],t[r+7]=s[7],t[r+8]=s[8],t[r+9]=s[9],t[r+10]=s[10],t[r+11]=s[11],t[r+12]=s[12],t[r+13]=s[13],t[r+14]=s[14],t[r+15]=s[15],t}}const In=new D,pe=new Fe,fc=new D(0,0,0),dc=new D(1,1,1),Ze=new D,Mi=new D,Kt=new D,Ea=new Fe,ka=new xr;class Sr{constructor(t=0,r=0,s=0,a=Sr.DEFAULT_ORDER){this.isEuler=!0,this._x=t,this._y=r,this._z=s,this._order=a}get x(){return this._x}set x(t){this._x=t,this._onChangeCallback()}get y(){return this._y}set y(t){this._y=t,this._onChangeCallback()}get z(){return this._z}set z(t){this._z=t,this._onChangeCallback()}get order(){return this._order}set order(t){this._order=t,this._onChangeCallback()}set(t,r,s,a=this._order){return this._x=t,this._y=r,this._z=s,this._order=a,this._onChangeCallback(),this}clone(){return new this.constructor(this._x,this._y,this._z,this._order)}copy(t){return this._x=t._x,this._y=t._y,this._z=t._z,this._order=t._order,this._onChangeCallback(),this}setFromRotationMatrix(t,r=this._order,s=!0){const a=t.elements,h=a[0],c=a[4],m=a[8],y=a[1],g=a[5],f=a[9],d=a[2],S=a[6],v=a[10];switch(r){case"XYZ":this._y=Math.asin(Qt(m,-1,1)),Math.abs(m)<.9999999?(this._x=Math.atan2(-f,v),this._z=Math.atan2(-c,h)):(this._x=Math.atan2(S,g),this._z=0);break;case"YXZ":this._x=Math.asin(-Qt(f,-1,1)),Math.abs(f)<.9999999?(this._y=Math.atan2(m,v),this._z=Math.atan2(y,g)):(this._y=Math.atan2(-d,h),this._z=0);break;case"ZXY":this._x=Math.asin(Qt(S,-1,1)),Math.abs(S)<.9999999?(this._y=Math.atan2(-d,v),this._z=Math.atan2(-c,g)):(this._y=0,this._z=Math.atan2(y,h));break;case"ZYX":this._y=Math.asin(-Qt(d,-1,1)),Math.abs(d)<.9999999?(this._x=Math.atan2(S,v),this._z=Math.atan2(y,h)):(this._x=0,this._z=Math.atan2(-c,g));break;case"YZX":this._z=Math.asin(Qt(y,-1,1)),Math.abs(y)<.9999999?(this._x=Math.atan2(-f,g),this._y=Math.atan2(-d,h)):(this._x=0,this._y=Math.atan2(m,v));break;case"XZY":this._z=Math.asin(-Qt(c,-1,1)),Math.abs(c)<.9999999?(this._x=Math.atan2(S,g),this._y=Math.atan2(m,h)):(this._x=Math.atan2(-f,v),this._y=0);break;default:console.warn("THREE.Euler: .setFromRotationMatrix() encountered an unknown order: "+r)}return this._order=r,s===!0&&this._onChangeCallback(),this}setFromQuaternion(t,r,s){return Ea.makeRotationFromQuaternion(t),this.setFromRotationMatrix(Ea,r,s)}setFromVector3(t,r=this._order){return this.set(t.x,t.y,t.z,r)}reorder(t){return ka.setFromEuler(this),this.setFromQuaternion(ka,t)}equals(t){return t._x===this._x&&t._y===this._y&&t._z===this._z&&t._order===this._order}fromArray(t){return this._x=t[0],this._y=t[1],this._z=t[2],t[3]!==void 0&&(this._order=t[3]),this._onChangeCallback(),this}toArray(t=[],r=0){return t[r]=this._x,t[r+1]=this._y,t[r+2]=this._z,t[r+3]=this._order,t}_onChange(t){return this._onChangeCallback=t,this}_onChangeCallback(){}*[Symbol.iterator](){yield this._x,yield this._y,yield this._z,yield this._order}}Sr.DEFAULT_ORDER="XYZ";class Ci{constructor(){this.mask=1}set(t){this.mask=(1<<t|0)>>>0}enable(t){this.mask|=1<<t|0}enableAll(){this.mask=-1}toggle(t){this.mask^=1<<t|0}disable(t){this.mask&=~(1<<t|0)}disableAll(){this.mask=0}test(t){return(this.mask&t.mask)!==0}isEnabled(t){return(this.mask&(1<<t|0))!==0}}let pc=0;const Aa=new D,Dn=new xr,De=new Fe,zi=new D,dr=new D,mc=new D,yc=new xr,Fa=new D(1,0,0),Ca=new D(0,1,0),Ra=new D(0,0,1),gc={type:"added"},xc={type:"removed"};class be extends Ti{constructor(){super(),this.isObject3D=!0,Object.defineProperty(this,"id",{value:pc++}),this.uuid=gr(),this.name="",this.type="Object3D",this.parent=null,this.children=[],this.up=be.DEFAULT_UP.clone();const t=new D,r=new Sr,s=new xr,a=new D(1,1,1);function h(){s.setFromEuler(r,!1)}function c(){r.setFromQuaternion(s,void 0,!1)}r._onChange(h),s._onChange(c),Object.defineProperties(this,{position:{configurable:!0,enumerable:!0,value:t},rotation:{configurable:!0,enumerable:!0,value:r},quaternion:{configurable:!0,enumerable:!0,value:s},scale:{configurable:!0,enumerable:!0,value:a},modelViewMatrix:{value:new Fe},normalMatrix:{value:new $e}}),this.matrix=new Fe,this.matrixWorld=new Fe,this.matrixAutoUpdate=be.DEFAULT_MATRIX_AUTO_UPDATE,this.matrixWorldAutoUpdate=be.DEFAULT_MATRIX_WORLD_AUTO_UPDATE,this.matrixWorldNeedsUpdate=!1,this.layers=new Ci,this.visible=!0,this.castShadow=!1,this.receiveShadow=!1,this.frustumCulled=!0,this.renderOrder=0,this.animations=[],this.userData={}}onBeforeShadow(){}onAfterShadow(){}onBeforeRender(){}onAfterRender(){}applyMatrix4(t){this.matrixAutoUpdate&&this.updateMatrix(),this.matrix.premultiply(t),this.matrix.decompose(this.position,this.quaternion,this.scale)}applyQuaternion(t){return this.quaternion.premultiply(t),this}setRotationFromAxisAngle(t,r){this.quaternion.setFromAxisAngle(t,r)}setRotationFromEuler(t){this.quaternion.setFromEuler(t,!0)}setRotationFromMatrix(t){this.quaternion.setFromRotationMatrix(t)}setRotationFromQuaternion(t){this.quaternion.copy(t)}rotateOnAxis(t,r){return Dn.setFromAxisAngle(t,r),this.quaternion.multiply(Dn),this}rotateOnWorldAxis(t,r){return Dn.setFromAxisAngle(t,r),this.quaternion.premultiply(Dn),this}rotateX(t){return this.rotateOnAxis(Fa,t)}rotateY(t){return this.rotateOnAxis(Ca,t)}rotateZ(t){return this.rotateOnAxis(Ra,t)}translateOnAxis(t,r){return Aa.copy(t).applyQuaternion(this.quaternion),this.position.add(Aa.multiplyScalar(r)),this}translateX(t){return this.translateOnAxis(Fa,t)}translateY(t){return this.translateOnAxis(Ca,t)}translateZ(t){return this.translateOnAxis(Ra,t)}localToWorld(t){return this.updateWorldMatrix(!0,!1),t.applyMatrix4(this.matrixWorld)}worldToLocal(t){return this.updateWorldMatrix(!0,!1),t.applyMatrix4(De.copy(this.matrixWorld).invert())}lookAt(t,r,s){t.isVector3?zi.copy(t):zi.set(t,r,s);const a=this.parent;this.updateWorldMatrix(!0,!1),dr.setFromMatrixPosition(this.matrixWorld),this.isCamera||this.isLight?De.lookAt(dr,zi,this.up):De.lookAt(zi,dr,this.up),this.quaternion.setFromRotationMatrix(De),a&&(De.extractRotation(a.matrixWorld),Dn.setFromRotationMatrix(De),this.quaternion.premultiply(Dn.invert()))}add(t){if(arguments.length>1){for(let r=0;r<arguments.length;r++)this.add(arguments[r]);return this}return t===this?(console.error("THREE.Object3D.add: object can't be added as a child of itself.",t),this):(t&&t.isObject3D?(t.parent!==null&&t.parent.remove(t),t.parent=this,this.children.push(t),t.dispatchEvent(gc)):console.error("THREE.Object3D.add: object not an instance of THREE.Object3D.",t),this)}remove(t){if(arguments.length>1){for(let s=0;s<arguments.length;s++)this.remove(arguments[s]);return this}const r=this.children.indexOf(t);return r!==-1&&(t.parent=null,this.children.splice(r,1),t.dispatchEvent(xc)),this}removeFromParent(){const t=this.parent;return t!==null&&t.remove(this),this}clear(){return this.remove(...this.children)}attach(t){return this.updateWorldMatrix(!0,!1),De.copy(this.matrixWorld).invert(),t.parent!==null&&(t.parent.updateWorldMatrix(!0,!1),De.multiply(t.parent.matrixWorld)),t.applyMatrix4(De),this.add(t),t.updateWorldMatrix(!1,!0),this}getObjectById(t){return this.getObjectByProperty("id",t)}getObjectByName(t){return this.getObjectByProperty("name",t)}getObjectByProperty(t,r){if(this[t]===r)return this;for(let s=0,a=this.children.length;s<a;s++){const c=this.children[s].getObjectByProperty(t,r);if(c!==void 0)return c}}getObjectsByProperty(t,r,s=[]){this[t]===r&&s.push(this);const a=this.children;for(let h=0,c=a.length;h<c;h++)a[h].getObjectsByProperty(t,r,s);return s}getWorldPosition(t){return this.updateWorldMatrix(!0,!1),t.setFromMatrixPosition(this.matrixWorld)}getWorldQuaternion(t){return this.updateWorldMatrix(!0,!1),this.matrixWorld.decompose(dr,t,mc),t}getWorldScale(t){return this.updateWorldMatrix(!0,!1),this.matrixWorld.decompose(dr,yc,t),t}getWorldDirection(t){this.updateWorldMatrix(!0,!1);const r=this.matrixWorld.elements;return t.set(r[8],r[9],r[10]).normalize()}raycast(){}traverse(t){t(this);const r=this.children;for(let s=0,a=r.length;s<a;s++)r[s].traverse(t)}traverseVisible(t){if(this.visible===!1)return;t(this);const r=this.children;for(let s=0,a=r.length;s<a;s++)r[s].traverseVisible(t)}traverseAncestors(t){const r=this.parent;r!==null&&(t(r),r.traverseAncestors(t))}updateMatrix(){this.matrix.compose(this.position,this.quaternion,this.scale),this.matrixWorldNeedsUpdate=!0}updateMatrixWorld(t){this.matrixAutoUpdate&&this.updateMatrix(),(this.matrixWorldNeedsUpdate||t)&&(this.parent===null?this.matrixWorld.copy(this.matrix):this.matrixWorld.multiplyMatrices(this.parent.matrixWorld,this.matrix),this.matrixWorldNeedsUpdate=!1,t=!0);const r=this.children;for(let s=0,a=r.length;s<a;s++){const h=r[s];(h.matrixWorldAutoUpdate===!0||t===!0)&&h.updateMatrixWorld(t)}}updateWorldMatrix(t,r){const s=this.parent;if(t===!0&&s!==null&&s.matrixWorldAutoUpdate===!0&&s.updateWorldMatrix(!0,!1),this.matrixAutoUpdate&&this.updateMatrix(),this.parent===null?this.matrixWorld.copy(this.matrix):this.matrixWorld.multiplyMatrices(this.parent.matrixWorld,this.matrix),r===!0){const a=this.children;for(let h=0,c=a.length;h<c;h++){const m=a[h];m.matrixWorldAutoUpdate===!0&&m.updateWorldMatrix(!1,!0)}}}toJSON(t){const r=t===void 0||typeof t=="string",s={};r&&(t={geometries:{},materials:{},textures:{},images:{},shapes:{},skeletons:{},animations:{},nodes:{}},s.metadata={version:4.6,type:"Object",generator:"Object3D.toJSON"});const a={};a.uuid=this.uuid,a.type=this.type,this.name!==""&&(a.name=this.name),this.castShadow===!0&&(a.castShadow=!0),this.receiveShadow===!0&&(a.receiveShadow=!0),this.visible===!1&&(a.visible=!1),this.frustumCulled===!1&&(a.frustumCulled=!1),this.renderOrder!==0&&(a.renderOrder=this.renderOrder),Object.keys(this.userData).length>0&&(a.userData=this.userData),a.layers=this.layers.mask,a.matrix=this.matrix.toArray(),a.up=this.up.toArray(),this.matrixAutoUpdate===!1&&(a.matrixAutoUpdate=!1),this.isInstancedMesh&&(a.type="InstancedMesh",a.count=this.count,a.instanceMatrix=this.instanceMatrix.toJSON(),this.instanceColor!==null&&(a.instanceColor=this.instanceColor.toJSON())),this.isBatchedMesh&&(a.type="BatchedMesh",a.perObjectFrustumCulled=this.perObjectFrustumCulled,a.sortObjects=this.sortObjects,a.drawRanges=this._drawRanges,a.reservedRanges=this._reservedRanges,a.visibility=this._visibility,a.active=this._active,a.bounds=this._bounds.map(m=>({boxInitialized:m.boxInitialized,boxMin:m.box.min.toArray(),boxMax:m.box.max.toArray(),sphereInitialized:m.sphereInitialized,sphereRadius:m.sphere.radius,sphereCenter:m.sphere.center.toArray()})),a.maxGeometryCount=this._maxGeometryCount,a.maxVertexCount=this._maxVertexCount,a.maxIndexCount=this._maxIndexCount,a.geometryInitialized=this._geometryInitialized,a.geometryCount=this._geometryCount,a.matricesTexture=this._matricesTexture.toJSON(t),this.boundingSphere!==null&&(a.boundingSphere={center:a.boundingSphere.center.toArray(),radius:a.boundingSphere.radius}),this.boundingBox!==null&&(a.boundingBox={min:a.boundingBox.min.toArray(),max:a.boundingBox.max.toArray()}));function h(m,y){return m[y.uuid]===void 0&&(m[y.uuid]=y.toJSON(t)),y.uuid}if(this.isScene)this.background&&(this.background.isColor?a.background=this.background.toJSON():this.background.isTexture&&(a.background=this.background.toJSON(t).uuid)),this.environment&&this.environment.isTexture&&this.environment.isRenderTargetTexture!==!0&&(a.environment=this.environment.toJSON(t).uuid);else if(this.isMesh||this.isLine||this.isPoints){a.geometry=h(t.geometries,this.geometry);const m=this.geometry.parameters;if(m!==void 0&&m.shapes!==void 0){const y=m.shapes;if(Array.isArray(y))for(let g=0,f=y.length;g<f;g++){const d=y[g];h(t.shapes,d)}else h(t.shapes,y)}}if(this.isSkinnedMesh&&(a.bindMode=this.bindMode,a.bindMatrix=this.bindMatrix.toArray(),this.skeleton!==void 0&&(h(t.skeletons,this.skeleton),a.skeleton=this.skeleton.uuid)),this.material!==void 0)if(Array.isArray(this.material)){const m=[];for(let y=0,g=this.material.length;y<g;y++)m.push(h(t.materials,this.material[y]));a.material=m}else a.material=h(t.materials,this.material);if(this.children.length>0){a.children=[];for(let m=0;m<this.children.length;m++)a.children.push(this.children[m].toJSON(t).object)}if(this.animations.length>0){a.animations=[];for(let m=0;m<this.animations.length;m++){const y=this.animations[m];a.animations.push(h(t.animations,y))}}if(r){const m=c(t.geometries),y=c(t.materials),g=c(t.textures),f=c(t.images),d=c(t.shapes),S=c(t.skeletons),v=c(t.animations),_=c(t.nodes);m.length>0&&(s.geometries=m),y.length>0&&(s.materials=y),g.length>0&&(s.textures=g),f.length>0&&(s.images=f),d.length>0&&(s.shapes=d),S.length>0&&(s.skeletons=S),v.length>0&&(s.animations=v),_.length>0&&(s.nodes=_)}return s.object=a,s;function c(m){const y=[];for(const g in m){const f=m[g];delete f.metadata,y.push(f)}return y}}clone(t){return new this.constructor().copy(this,t)}copy(t,r=!0){if(this.name=t.name,this.up.copy(t.up),this.position.copy(t.position),this.rotation.order=t.rotation.order,this.quaternion.copy(t.quaternion),this.scale.copy(t.scale),this.matrix.copy(t.matrix),this.matrixWorld.copy(t.matrixWorld),this.matrixAutoUpdate=t.matrixAutoUpdate,this.matrixWorldAutoUpdate=t.matrixWorldAutoUpdate,this.matrixWorldNeedsUpdate=t.matrixWorldNeedsUpdate,this.layers.mask=t.layers.mask,this.visible=t.visible,this.castShadow=t.castShadow,this.receiveShadow=t.receiveShadow,this.frustumCulled=t.frustumCulled,this.renderOrder=t.renderOrder,this.animations=t.animations.slice(),this.userData=JSON.parse(JSON.stringify(t.userData)),r===!0)for(let s=0;s<t.children.length;s++){const a=t.children[s];this.add(a.clone())}return this}}be.DEFAULT_UP=new D(0,1,0);be.DEFAULT_MATRIX_AUTO_UPDATE=!0;be.DEFAULT_MATRIX_WORLD_AUTO_UPDATE=!0;const Za={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074},Je={h:0,s:0,l:0},Ei={h:0,s:0,l:0};function tl(p,t,r){return r<0&&(r+=1),r>1&&(r-=1),r<1/6?p+(t-p)*6*r:r<1/2?t:r<2/3?p+(t-p)*6*(2/3-r):p}class Pi{constructor(t,r,s){return this.isColor=!0,this.r=1,this.g=1,this.b=1,this.set(t,r,s)}set(t,r,s){if(r===void 0&&s===void 0){const a=t;a&&a.isColor?this.copy(a):typeof a=="number"?this.setHex(a):typeof a=="string"&&this.setStyle(a)}else this.setRGB(t,r,s);return this}setScalar(t){return this.r=t,this.g=t,this.b=t,this}setHex(t,r=me){return t=Math.floor(t),this.r=(t>>16&255)/255,this.g=(t>>8&255)/255,this.b=(t&255)/255,fe.toWorkingColorSpace(this,r),this}setRGB(t,r,s,a=fe.workingColorSpace){return this.r=t,this.g=r,this.b=s,fe.toWorkingColorSpace(this,a),this}setHSL(t,r,s,a=fe.workingColorSpace){if(t=rc(t,1),r=Qt(r,0,1),s=Qt(s,0,1),r===0)this.r=this.g=this.b=s;else{const h=s<=.5?s*(1+r):s+r-s*r,c=2*s-h;this.r=tl(c,h,t+1/3),this.g=tl(c,h,t),this.b=tl(c,h,t-1/3)}return fe.toWorkingColorSpace(this,a),this}setStyle(t,r=me){function s(h){h!==void 0&&parseFloat(h)<1&&console.warn("THREE.Color: Alpha component of "+t+" will be ignored.")}let a;if(a=/^(\w+)\(([^\)]*)\)/.exec(t)){let h;const c=a[1],m=a[2];switch(c){case"rgb":case"rgba":if(h=/^\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(m))return s(h[4]),this.setRGB(Math.min(255,parseInt(h[1],10))/255,Math.min(255,parseInt(h[2],10))/255,Math.min(255,parseInt(h[3],10))/255,r);if(h=/^\s*(\d+)\%\s*,\s*(\d+)\%\s*,\s*(\d+)\%\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(m))return s(h[4]),this.setRGB(Math.min(100,parseInt(h[1],10))/100,Math.min(100,parseInt(h[2],10))/100,Math.min(100,parseInt(h[3],10))/100,r);break;case"hsl":case"hsla":if(h=/^\s*(\d*\.?\d+)\s*,\s*(\d*\.?\d+)\%\s*,\s*(\d*\.?\d+)\%\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(m))return s(h[4]),this.setHSL(parseFloat(h[1])/360,parseFloat(h[2])/100,parseFloat(h[3])/100,r);break;default:console.warn("THREE.Color: Unknown color model "+t)}}else if(a=/^\#([A-Fa-f\d]+)$/.exec(t)){const h=a[1],c=h.length;if(c===3)return this.setRGB(parseInt(h.charAt(0),16)/15,parseInt(h.charAt(1),16)/15,parseInt(h.charAt(2),16)/15,r);if(c===6)return this.setHex(parseInt(h,16),r);console.warn("THREE.Color: Invalid hex color "+t)}else if(t&&t.length>0)return this.setColorName(t,r);return this}setColorName(t,r=me){const s=Za[t.toLowerCase()];return s!==void 0?this.setHex(s,r):console.warn("THREE.Color: Unknown color "+t),this}clone(){return new this.constructor(this.r,this.g,this.b)}copy(t){return this.r=t.r,this.g=t.g,this.b=t.b,this}copySRGBToLinear(t){return this.r=Un(t.r),this.g=Un(t.g),this.b=Un(t.b),this}copyLinearToSRGB(t){return this.r=Zs(t.r),this.g=Zs(t.g),this.b=Zs(t.b),this}convertSRGBToLinear(){return this.copySRGBToLinear(this),this}convertLinearToSRGB(){return this.copyLinearToSRGB(this),this}getHex(t=me){return fe.fromWorkingColorSpace(Nt.copy(this),t),Math.round(Qt(Nt.r*255,0,255))*65536+Math.round(Qt(Nt.g*255,0,255))*256+Math.round(Qt(Nt.b*255,0,255))}getHexString(t=me){return("000000"+this.getHex(t).toString(16)).slice(-6)}getHSL(t,r=fe.workingColorSpace){fe.fromWorkingColorSpace(Nt.copy(this),r);const s=Nt.r,a=Nt.g,h=Nt.b,c=Math.max(s,a,h),m=Math.min(s,a,h);let y,g;const f=(m+c)/2;if(m===c)y=0,g=0;else{const d=c-m;switch(g=f<=.5?d/(c+m):d/(2-c-m),c){case s:y=(a-h)/d+(a<h?6:0);break;case a:y=(h-s)/d+2;break;case h:y=(s-a)/d+4;break}y/=6}return t.h=y,t.s=g,t.l=f,t}getRGB(t,r=fe.workingColorSpace){return fe.fromWorkingColorSpace(Nt.copy(this),r),t.r=Nt.r,t.g=Nt.g,t.b=Nt.b,t}getStyle(t=me){fe.fromWorkingColorSpace(Nt.copy(this),t);const r=Nt.r,s=Nt.g,a=Nt.b;return t!==me?`color(${t} ${r.toFixed(3)} ${s.toFixed(3)} ${a.toFixed(3)})`:`rgb(${Math.round(r*255)},${Math.round(s*255)},${Math.round(a*255)})`}offsetHSL(t,r,s){return this.getHSL(Je),this.setHSL(Je.h+t,Je.s+r,Je.l+s)}add(t){return this.r+=t.r,this.g+=t.g,this.b+=t.b,this}addColors(t,r){return this.r=t.r+r.r,this.g=t.g+r.g,this.b=t.b+r.b,this}addScalar(t){return this.r+=t,this.g+=t,this.b+=t,this}sub(t){return this.r=Math.max(0,this.r-t.r),this.g=Math.max(0,this.g-t.g),this.b=Math.max(0,this.b-t.b),this}multiply(t){return this.r*=t.r,this.g*=t.g,this.b*=t.b,this}multiplyScalar(t){return this.r*=t,this.g*=t,this.b*=t,this}lerp(t,r){return this.r+=(t.r-this.r)*r,this.g+=(t.g-this.g)*r,this.b+=(t.b-this.b)*r,this}lerpColors(t,r,s){return this.r=t.r+(r.r-t.r)*s,this.g=t.g+(r.g-t.g)*s,this.b=t.b+(r.b-t.b)*s,this}lerpHSL(t,r){this.getHSL(Je),t.getHSL(Ei);const s=Gs(Je.h,Ei.h,r),a=Gs(Je.s,Ei.s,r),h=Gs(Je.l,Ei.l,r);return this.setHSL(s,a,h),this}setFromVector3(t){return this.r=t.x,this.g=t.y,this.b=t.z,this}applyMatrix3(t){const r=this.r,s=this.g,a=this.b,h=t.elements;return this.r=h[0]*r+h[3]*s+h[6]*a,this.g=h[1]*r+h[4]*s+h[7]*a,this.b=h[2]*r+h[5]*s+h[8]*a,this}equals(t){return t.r===this.r&&t.g===this.g&&t.b===this.b}fromArray(t,r=0){return this.r=t[r],this.g=t[r+1],this.b=t[r+2],this}toArray(t=[],r=0){return t[r]=this.r,t[r+1]=this.g,t[r+2]=this.b,t}fromBufferAttribute(t,r){return this.r=t.getX(r),this.g=t.getY(r),this.b=t.getZ(r),this}toJSON(){return this.getHex()}*[Symbol.iterator](){yield this.r,yield this.g,yield this.b}}const Nt=new Pi;Pi.NAMES=Za;let vc=0;class Sc extends Ti{constructor(){super(),this.isMaterial=!0,Object.defineProperty(this,"id",{value:vc++}),this.uuid=gr(),this.name="",this.type="Material",this.blending=sa,this.side=ia,this.vertexColors=!1,this.opacity=1,this.transparent=!1,this.alphaHash=!1,this.blendSrc=oa,this.blendDst=aa,this.blendEquation=la,this.blendSrcAlpha=null,this.blendDstAlpha=null,this.blendEquationAlpha=null,this.blendColor=new Pi(0,0,0),this.blendAlpha=0,this.depthFunc=ua,this.depthTest=!0,this.depthWrite=!0,this.stencilWriteMask=255,this.stencilFunc=ga,this.stencilRef=0,this.stencilFuncMask=255,this.stencilFail=Rn,this.stencilZFail=Rn,this.stencilZPass=Rn,this.stencilWrite=!1,this.clippingPlanes=null,this.clipIntersection=!1,this.clipShadows=!1,this.shadowSide=null,this.colorWrite=!0,this.precision=null,this.polygonOffset=!1,this.polygonOffsetFactor=0,this.polygonOffsetUnits=0,this.dithering=!1,this.alphaToCoverage=!1,this.premultipliedAlpha=!1,this.forceSinglePass=!1,this.visible=!0,this.toneMapped=!0,this.userData={},this.version=0,this._alphaTest=0}get alphaTest(){return this._alphaTest}set alphaTest(t){this._alphaTest>0!=t>0&&this.version++,this._alphaTest=t}onBuild(){}onBeforeRender(){}onBeforeCompile(){}customProgramCacheKey(){return this.onBeforeCompile.toString()}setValues(t){if(t!==void 0)for(const r in t){const s=t[r];if(s===void 0){console.warn(`THREE.Material: parameter '${r}' has value of undefined.`);continue}const a=this[r];if(a===void 0){console.warn(`THREE.Material: '${r}' is not a property of THREE.${this.type}.`);continue}a&&a.isColor?a.set(s):a&&a.isVector3&&s&&s.isVector3?a.copy(s):this[r]=s}}toJSON(t){const r=t===void 0||typeof t=="string";r&&(t={textures:{},images:{}});const s={metadata:{version:4.6,type:"Material",generator:"Material.toJSON"}};s.uuid=this.uuid,s.type=this.type,this.name!==""&&(s.name=this.name),this.color&&this.color.isColor&&(s.color=this.color.getHex()),this.roughness!==void 0&&(s.roughness=this.roughness),this.metalness!==void 0&&(s.metalness=this.metalness),this.sheen!==void 0&&(s.sheen=this.sheen),this.sheenColor&&this.sheenColor.isColor&&(s.sheenColor=this.sheenColor.getHex()),this.sheenRoughness!==void 0&&(s.sheenRoughness=this.sheenRoughness),this.emissive&&this.emissive.isColor&&(s.emissive=this.emissive.getHex()),this.emissiveIntensity&&this.emissiveIntensity!==1&&(s.emissiveIntensity=this.emissiveIntensity),this.specular&&this.specular.isColor&&(s.specular=this.specular.getHex()),this.specularIntensity!==void 0&&(s.specularIntensity=this.specularIntensity),this.specularColor&&this.specularColor.isColor&&(s.specularColor=this.specularColor.getHex()),this.shininess!==void 0&&(s.shininess=this.shininess),this.clearcoat!==void 0&&(s.clearcoat=this.clearcoat),this.clearcoatRoughness!==void 0&&(s.clearcoatRoughness=this.clearcoatRoughness),this.clearcoatMap&&this.clearcoatMap.isTexture&&(s.clearcoatMap=this.clearcoatMap.toJSON(t).uuid),this.clearcoatRoughnessMap&&this.clearcoatRoughnessMap.isTexture&&(s.clearcoatRoughnessMap=this.clearcoatRoughnessMap.toJSON(t).uuid),this.clearcoatNormalMap&&this.clearcoatNormalMap.isTexture&&(s.clearcoatNormalMap=this.clearcoatNormalMap.toJSON(t).uuid,s.clearcoatNormalScale=this.clearcoatNormalScale.toArray()),this.iridescence!==void 0&&(s.iridescence=this.iridescence),this.iridescenceIOR!==void 0&&(s.iridescenceIOR=this.iridescenceIOR),this.iridescenceThicknessRange!==void 0&&(s.iridescenceThicknessRange=this.iridescenceThicknessRange),this.iridescenceMap&&this.iridescenceMap.isTexture&&(s.iridescenceMap=this.iridescenceMap.toJSON(t).uuid),this.iridescenceThicknessMap&&this.iridescenceThicknessMap.isTexture&&(s.iridescenceThicknessMap=this.iridescenceThicknessMap.toJSON(t).uuid),this.anisotropy!==void 0&&(s.anisotropy=this.anisotropy),this.anisotropyRotation!==void 0&&(s.anisotropyRotation=this.anisotropyRotation),this.anisotropyMap&&this.anisotropyMap.isTexture&&(s.anisotropyMap=this.anisotropyMap.toJSON(t).uuid),this.map&&this.map.isTexture&&(s.map=this.map.toJSON(t).uuid),this.matcap&&this.matcap.isTexture&&(s.matcap=this.matcap.toJSON(t).uuid),this.alphaMap&&this.alphaMap.isTexture&&(s.alphaMap=this.alphaMap.toJSON(t).uuid),this.lightMap&&this.lightMap.isTexture&&(s.lightMap=this.lightMap.toJSON(t).uuid,s.lightMapIntensity=this.lightMapIntensity),this.aoMap&&this.aoMap.isTexture&&(s.aoMap=this.aoMap.toJSON(t).uuid,s.aoMapIntensity=this.aoMapIntensity),this.bumpMap&&this.bumpMap.isTexture&&(s.bumpMap=this.bumpMap.toJSON(t).uuid,s.bumpScale=this.bumpScale),this.normalMap&&this.normalMap.isTexture&&(s.normalMap=this.normalMap.toJSON(t).uuid,s.normalMapType=this.normalMapType,s.normalScale=this.normalScale.toArray()),this.displacementMap&&this.displacementMap.isTexture&&(s.displacementMap=this.displacementMap.toJSON(t).uuid,s.displacementScale=this.displacementScale,s.displacementBias=this.displacementBias),this.roughnessMap&&this.roughnessMap.isTexture&&(s.roughnessMap=this.roughnessMap.toJSON(t).uuid),this.metalnessMap&&this.metalnessMap.isTexture&&(s.metalnessMap=this.metalnessMap.toJSON(t).uuid),this.emissiveMap&&this.emissiveMap.isTexture&&(s.emissiveMap=this.emissiveMap.toJSON(t).uuid),this.specularMap&&this.specularMap.isTexture&&(s.specularMap=this.specularMap.toJSON(t).uuid),this.specularIntensityMap&&this.specularIntensityMap.isTexture&&(s.specularIntensityMap=this.specularIntensityMap.toJSON(t).uuid),this.specularColorMap&&this.specularColorMap.isTexture&&(s.specularColorMap=this.specularColorMap.toJSON(t).uuid),this.envMap&&this.envMap.isTexture&&(s.envMap=this.envMap.toJSON(t).uuid,this.combine!==void 0&&(s.combine=this.combine)),this.envMapIntensity!==void 0&&(s.envMapIntensity=this.envMapIntensity),this.reflectivity!==void 0&&(s.reflectivity=this.reflectivity),this.refractionRatio!==void 0&&(s.refractionRatio=this.refractionRatio),this.gradientMap&&this.gradientMap.isTexture&&(s.gradientMap=this.gradientMap.toJSON(t).uuid),this.transmission!==void 0&&(s.transmission=this.transmission),this.transmissionMap&&this.transmissionMap.isTexture&&(s.transmissionMap=this.transmissionMap.toJSON(t).uuid),this.thickness!==void 0&&(s.thickness=this.thickness),this.thicknessMap&&this.thicknessMap.isTexture&&(s.thicknessMap=this.thicknessMap.toJSON(t).uuid),this.attenuationDistance!==void 0&&this.attenuationDistance!==1/0&&(s.attenuationDistance=this.attenuationDistance),this.attenuationColor!==void 0&&(s.attenuationColor=this.attenuationColor.getHex()),this.size!==void 0&&(s.size=this.size),this.shadowSide!==null&&(s.shadowSide=this.shadowSide),this.sizeAttenuation!==void 0&&(s.sizeAttenuation=this.sizeAttenuation),this.blending!==sa&&(s.blending=this.blending),this.side!==ia&&(s.side=this.side),this.vertexColors===!0&&(s.vertexColors=!0),this.opacity<1&&(s.opacity=this.opacity),this.transparent===!0&&(s.transparent=!0),this.blendSrc!==oa&&(s.blendSrc=this.blendSrc),this.blendDst!==aa&&(s.blendDst=this.blendDst),this.blendEquation!==la&&(s.blendEquation=this.blendEquation),this.blendSrcAlpha!==null&&(s.blendSrcAlpha=this.blendSrcAlpha),this.blendDstAlpha!==null&&(s.blendDstAlpha=this.blendDstAlpha),this.blendEquationAlpha!==null&&(s.blendEquationAlpha=this.blendEquationAlpha),this.blendColor&&this.blendColor.isColor&&(s.blendColor=this.blendColor.getHex()),this.blendAlpha!==0&&(s.blendAlpha=this.blendAlpha),this.depthFunc!==ua&&(s.depthFunc=this.depthFunc),this.depthTest===!1&&(s.depthTest=this.depthTest),this.depthWrite===!1&&(s.depthWrite=this.depthWrite),this.colorWrite===!1&&(s.colorWrite=this.colorWrite),this.stencilWriteMask!==255&&(s.stencilWriteMask=this.stencilWriteMask),this.stencilFunc!==ga&&(s.stencilFunc=this.stencilFunc),this.stencilRef!==0&&(s.stencilRef=this.stencilRef),this.stencilFuncMask!==255&&(s.stencilFuncMask=this.stencilFuncMask),this.stencilFail!==Rn&&(s.stencilFail=this.stencilFail),this.stencilZFail!==Rn&&(s.stencilZFail=this.stencilZFail),this.stencilZPass!==Rn&&(s.stencilZPass=this.stencilZPass),this.stencilWrite===!0&&(s.stencilWrite=this.stencilWrite),this.rotation!==void 0&&this.rotation!==0&&(s.rotation=this.rotation),this.polygonOffset===!0&&(s.polygonOffset=!0),this.polygonOffsetFactor!==0&&(s.polygonOffsetFactor=this.polygonOffsetFactor),this.polygonOffsetUnits!==0&&(s.polygonOffsetUnits=this.polygonOffsetUnits),this.linewidth!==void 0&&this.linewidth!==1&&(s.linewidth=this.linewidth),this.dashSize!==void 0&&(s.dashSize=this.dashSize),this.gapSize!==void 0&&(s.gapSize=this.gapSize),this.scale!==void 0&&(s.scale=this.scale),this.dithering===!0&&(s.dithering=!0),this.alphaTest>0&&(s.alphaTest=this.alphaTest),this.alphaHash===!0&&(s.alphaHash=!0),this.alphaToCoverage===!0&&(s.alphaToCoverage=!0),this.premultipliedAlpha===!0&&(s.premultipliedAlpha=!0),this.forceSinglePass===!0&&(s.forceSinglePass=!0),this.wireframe===!0&&(s.wireframe=!0),this.wireframeLinewidth>1&&(s.wireframeLinewidth=this.wireframeLinewidth),this.wireframeLinecap!=="round"&&(s.wireframeLinecap=this.wireframeLinecap),this.wireframeLinejoin!=="round"&&(s.wireframeLinejoin=this.wireframeLinejoin),this.flatShading===!0&&(s.flatShading=!0),this.visible===!1&&(s.visible=!1),this.toneMapped===!1&&(s.toneMapped=!1),this.fog===!1&&(s.fog=!1),Object.keys(this.userData).length>0&&(s.userData=this.userData);function a(h){const c=[];for(const m in h){const y=h[m];delete y.metadata,c.push(y)}return c}if(r){const h=a(t.textures),c=a(t.images);h.length>0&&(s.textures=h),c.length>0&&(s.images=c)}return s}clone(){return new this.constructor().copy(this)}copy(t){this.name=t.name,this.blending=t.blending,this.side=t.side,this.vertexColors=t.vertexColors,this.opacity=t.opacity,this.transparent=t.transparent,this.blendSrc=t.blendSrc,this.blendDst=t.blendDst,this.blendEquation=t.blendEquation,this.blendSrcAlpha=t.blendSrcAlpha,this.blendDstAlpha=t.blendDstAlpha,this.blendEquationAlpha=t.blendEquationAlpha,this.blendColor.copy(t.blendColor),this.blendAlpha=t.blendAlpha,this.depthFunc=t.depthFunc,this.depthTest=t.depthTest,this.depthWrite=t.depthWrite,this.stencilWriteMask=t.stencilWriteMask,this.stencilFunc=t.stencilFunc,this.stencilRef=t.stencilRef,this.stencilFuncMask=t.stencilFuncMask,this.stencilFail=t.stencilFail,this.stencilZFail=t.stencilZFail,this.stencilZPass=t.stencilZPass,this.stencilWrite=t.stencilWrite;const r=t.clippingPlanes;let s=null;if(r!==null){const a=r.length;s=new Array(a);for(let h=0;h!==a;++h)s[h]=r[h].clone()}return this.clippingPlanes=s,this.clipIntersection=t.clipIntersection,this.clipShadows=t.clipShadows,this.shadowSide=t.shadowSide,this.colorWrite=t.colorWrite,this.precision=t.precision,this.polygonOffset=t.polygonOffset,this.polygonOffsetFactor=t.polygonOffsetFactor,this.polygonOffsetUnits=t.polygonOffsetUnits,this.dithering=t.dithering,this.alphaTest=t.alphaTest,this.alphaHash=t.alphaHash,this.alphaToCoverage=t.alphaToCoverage,this.premultipliedAlpha=t.premultipliedAlpha,this.forceSinglePass=t.forceSinglePass,this.visible=t.visible,this.toneMapped=t.toneMapped,this.userData=JSON.parse(JSON.stringify(t.userData)),this}dispose(){this.dispatchEvent({type:"dispose"})}set needsUpdate(t){t===!0&&this.version++}}const gt=new D,ki=new ye;class Wn{constructor(t,r,s=!1){if(Array.isArray(t))throw new TypeError("THREE.BufferAttribute: array should be a Typed Array.");this.isBufferAttribute=!0,this.name="",this.array=t,this.itemSize=r,this.count=t!==void 0?t.length/r:0,this.normalized=s,this.usage=xa,this._updateRange={offset:0,count:-1},this.updateRanges=[],this.gpuType=bh,this.version=0}onUploadCallback(){}set needsUpdate(t){t===!0&&this.version++}get updateRange(){return console.warn('THREE.BufferAttribute: "updateRange" is deprecated and removed in r169. Use "addUpdateRange()" instead.'),this._updateRange}setUsage(t){return this.usage=t,this}addUpdateRange(t,r){this.updateRanges.push({start:t,count:r})}clearUpdateRanges(){this.updateRanges.length=0}copy(t){return this.name=t.name,this.array=new t.array.constructor(t.array),this.itemSize=t.itemSize,this.count=t.count,this.normalized=t.normalized,this.usage=t.usage,this.gpuType=t.gpuType,this}copyAt(t,r,s){t*=this.itemSize,s*=r.itemSize;for(let a=0,h=this.itemSize;a<h;a++)this.array[t+a]=r.array[s+a];return this}copyArray(t){return this.array.set(t),this}applyMatrix3(t){if(this.itemSize===2)for(let r=0,s=this.count;r<s;r++)ki.fromBufferAttribute(this,r),ki.applyMatrix3(t),this.setXY(r,ki.x,ki.y);else if(this.itemSize===3)for(let r=0,s=this.count;r<s;r++)gt.fromBufferAttribute(this,r),gt.applyMatrix3(t),this.setXYZ(r,gt.x,gt.y,gt.z);return this}applyMatrix4(t){for(let r=0,s=this.count;r<s;r++)gt.fromBufferAttribute(this,r),gt.applyMatrix4(t),this.setXYZ(r,gt.x,gt.y,gt.z);return this}applyNormalMatrix(t){for(let r=0,s=this.count;r<s;r++)gt.fromBufferAttribute(this,r),gt.applyNormalMatrix(t),this.setXYZ(r,gt.x,gt.y,gt.z);return this}transformDirection(t){for(let r=0,s=this.count;r<s;r++)gt.fromBufferAttribute(this,r),gt.transformDirection(t),this.setXYZ(r,gt.x,gt.y,gt.z);return this}set(t,r=0){return this.array.set(t,r),this}getComponent(t,r){let s=this.array[t*this.itemSize+r];return this.normalized&&(s=hr(s,this.array)),s}setComponent(t,r,s){return this.normalized&&(s=jt(s,this.array)),this.array[t*this.itemSize+r]=s,this}getX(t){let r=this.array[t*this.itemSize];return this.normalized&&(r=hr(r,this.array)),r}setX(t,r){return this.normalized&&(r=jt(r,this.array)),this.array[t*this.itemSize]=r,this}getY(t){let r=this.array[t*this.itemSize+1];return this.normalized&&(r=hr(r,this.array)),r}setY(t,r){return this.normalized&&(r=jt(r,this.array)),this.array[t*this.itemSize+1]=r,this}getZ(t){let r=this.array[t*this.itemSize+2];return this.normalized&&(r=hr(r,this.array)),r}setZ(t,r){return this.normalized&&(r=jt(r,this.array)),this.array[t*this.itemSize+2]=r,this}getW(t){let r=this.array[t*this.itemSize+3];return this.normalized&&(r=hr(r,this.array)),r}setW(t,r){return this.normalized&&(r=jt(r,this.array)),this.array[t*this.itemSize+3]=r,this}setXY(t,r,s){return t*=this.itemSize,this.normalized&&(r=jt(r,this.array),s=jt(s,this.array)),this.array[t+0]=r,this.array[t+1]=s,this}setXYZ(t,r,s,a){return t*=this.itemSize,this.normalized&&(r=jt(r,this.array),s=jt(s,this.array),a=jt(a,this.array)),this.array[t+0]=r,this.array[t+1]=s,this.array[t+2]=a,this}setXYZW(t,r,s,a,h){return t*=this.itemSize,this.normalized&&(r=jt(r,this.array),s=jt(s,this.array),a=jt(a,this.array),h=jt(h,this.array)),this.array[t+0]=r,this.array[t+1]=s,this.array[t+2]=a,this.array[t+3]=h,this}onUpload(t){return this.onUploadCallback=t,this}clone(){return new this.constructor(this.array,this.itemSize).copy(this)}toJSON(){const t={itemSize:this.itemSize,type:this.array.constructor.name,array:Array.from(this.array),normalized:this.normalized};return this.name!==""&&(t.name=this.name),this.usage!==xa&&(t.usage=this.usage),t}}class _c extends Wn{constructor(t,r,s){super(new Uint16Array(t),r,s)}}class wc extends Wn{constructor(t,r,s){super(new Uint32Array(t),r,s)}}class Mc extends Wn{constructor(t,r,s){super(new Float32Array(t),r,s)}}let zc=0;const oe=new Fe,el=new be,Ln=new D,bt=new vr,pr=new vr,wt=new D;class pl extends Ti{constructor(){super(),this.isBufferGeometry=!0,Object.defineProperty(this,"id",{value:zc++}),this.uuid=gr(),this.name="",this.type="BufferGeometry",this.index=null,this.attributes={},this.morphAttributes={},this.morphTargetsRelative=!1,this.groups=[],this.boundingBox=null,this.boundingSphere=null,this.drawRange={start:0,count:1/0},this.userData={}}getIndex(){return this.index}setIndex(t){return Array.isArray(t)?this.index=new(ic(t)?wc:_c)(t,1):this.index=t,this}getAttribute(t){return this.attributes[t]}setAttribute(t,r){return this.attributes[t]=r,this}deleteAttribute(t){return delete this.attributes[t],this}hasAttribute(t){return this.attributes[t]!==void 0}addGroup(t,r,s=0){this.groups.push({start:t,count:r,materialIndex:s})}clearGroups(){this.groups=[]}setDrawRange(t,r){this.drawRange.start=t,this.drawRange.count=r}applyMatrix4(t){const r=this.attributes.position;r!==void 0&&(r.applyMatrix4(t),r.needsUpdate=!0);const s=this.attributes.normal;if(s!==void 0){const h=new $e().getNormalMatrix(t);s.applyNormalMatrix(h),s.needsUpdate=!0}const a=this.attributes.tangent;return a!==void 0&&(a.transformDirection(t),a.needsUpdate=!0),this.boundingBox!==null&&this.computeBoundingBox(),this.boundingSphere!==null&&this.computeBoundingSphere(),this}applyQuaternion(t){return oe.makeRotationFromQuaternion(t),this.applyMatrix4(oe),this}rotateX(t){return oe.makeRotationX(t),this.applyMatrix4(oe),this}rotateY(t){return oe.makeRotationY(t),this.applyMatrix4(oe),this}rotateZ(t){return oe.makeRotationZ(t),this.applyMatrix4(oe),this}translate(t,r,s){return oe.makeTranslation(t,r,s),this.applyMatrix4(oe),this}scale(t,r,s){return oe.makeScale(t,r,s),this.applyMatrix4(oe),this}lookAt(t){return el.lookAt(t),el.updateMatrix(),this.applyMatrix4(el.matrix),this}center(){return this.computeBoundingBox(),this.boundingBox.getCenter(Ln).negate(),this.translate(Ln.x,Ln.y,Ln.z),this}setFromPoints(t){const r=[];for(let s=0,a=t.length;s<a;s++){const h=t[s];r.push(h.x,h.y,h.z||0)}return this.setAttribute("position",new Mc(r,3)),this}computeBoundingBox(){this.boundingBox===null&&(this.boundingBox=new vr);const t=this.attributes.position,r=this.morphAttributes.position;if(t&&t.isGLBufferAttribute){console.error('THREE.BufferGeometry.computeBoundingBox(): GLBufferAttribute requires a manual bounding box. Alternatively set "mesh.frustumCulled" to "false".',this),this.boundingBox.set(new D(-1/0,-1/0,-1/0),new D(1/0,1/0,1/0));return}if(t!==void 0){if(this.boundingBox.setFromBufferAttribute(t),r)for(let s=0,a=r.length;s<a;s++){const h=r[s];bt.setFromBufferAttribute(h),this.morphTargetsRelative?(wt.addVectors(this.boundingBox.min,bt.min),this.boundingBox.expandByPoint(wt),wt.addVectors(this.boundingBox.max,bt.max),this.boundingBox.expandByPoint(wt)):(this.boundingBox.expandByPoint(bt.min),this.boundingBox.expandByPoint(bt.max))}}else this.boundingBox.makeEmpty();(isNaN(this.boundingBox.min.x)||isNaN(this.boundingBox.min.y)||isNaN(this.boundingBox.min.z))&&console.error('THREE.BufferGeometry.computeBoundingBox(): Computed min/max have NaN values. The "position" attribute is likely to have NaN values.',this)}computeBoundingSphere(){this.boundingSphere===null&&(this.boundingSphere=new cc);const t=this.attributes.position,r=this.morphAttributes.position;if(t&&t.isGLBufferAttribute){console.error('THREE.BufferGeometry.computeBoundingSphere(): GLBufferAttribute requires a manual bounding sphere. Alternatively set "mesh.frustumCulled" to "false".',this),this.boundingSphere.set(new D,1/0);return}if(t){const s=this.boundingSphere.center;if(bt.setFromBufferAttribute(t),r)for(let h=0,c=r.length;h<c;h++){const m=r[h];pr.setFromBufferAttribute(m),this.morphTargetsRelative?(wt.addVectors(bt.min,pr.min),bt.expandByPoint(wt),wt.addVectors(bt.max,pr.max),bt.expandByPoint(wt)):(bt.expandByPoint(pr.min),bt.expandByPoint(pr.max))}bt.getCenter(s);let a=0;for(let h=0,c=t.count;h<c;h++)wt.fromBufferAttribute(t,h),a=Math.max(a,s.distanceToSquared(wt));if(r)for(let h=0,c=r.length;h<c;h++){const m=r[h],y=this.morphTargetsRelative;for(let g=0,f=m.count;g<f;g++)wt.fromBufferAttribute(m,g),y&&(Ln.fromBufferAttribute(t,g),wt.add(Ln)),a=Math.max(a,s.distanceToSquared(wt))}this.boundingSphere.radius=Math.sqrt(a),isNaN(this.boundingSphere.radius)&&console.error('THREE.BufferGeometry.computeBoundingSphere(): Computed radius is NaN. The "position" attribute is likely to have NaN values.',this)}}computeTangents(){const t=this.index,r=this.attributes;if(t===null||r.position===void 0||r.normal===void 0||r.uv===void 0){console.error("THREE.BufferGeometry: .computeTangents() failed. Missing required attributes (index, position, normal or uv)");return}const s=t.array,a=r.position.array,h=r.normal.array,c=r.uv.array,m=a.length/3;this.hasAttribute("tangent")===!1&&this.setAttribute("tangent",new Wn(new Float32Array(4*m),4));const y=this.getAttribute("tangent").array,g=[],f=[];for(let b=0;b<m;b++)g[b]=new D,f[b]=new D;const d=new D,S=new D,v=new D,_=new ye,E=new ye,F=new ye,C=new D,I=new D;function T(b,at,ut){d.fromArray(a,b*3),S.fromArray(a,at*3),v.fromArray(a,ut*3),_.fromArray(c,b*2),E.fromArray(c,at*2),F.fromArray(c,ut*2),S.sub(d),v.sub(d),E.sub(_),F.sub(_);const st=1/(E.x*F.y-F.x*E.y);isFinite(st)&&(C.copy(S).multiplyScalar(F.y).addScaledVector(v,-E.y).multiplyScalar(st),I.copy(v).multiplyScalar(E.x).addScaledVector(S,-F.x).multiplyScalar(st),g[b].add(C),g[at].add(C),g[ut].add(C),f[b].add(I),f[at].add(I),f[ut].add(I))}let W=this.groups;W.length===0&&(W=[{start:0,count:s.length}]);for(let b=0,at=W.length;b<at;++b){const ut=W[b],st=ut.start,Dt=ut.count;for(let ht=st,kt=st+Dt;ht<kt;ht+=3)T(s[ht+0],s[ht+1],s[ht+2])}const H=new D,K=new D,q=new D,Mt=new D;function Et(b){q.fromArray(h,b*3),Mt.copy(q);const at=g[b];H.copy(at),H.sub(q.multiplyScalar(q.dot(at))).normalize(),K.crossVectors(Mt,at);const st=K.dot(f[b])<0?-1:1;y[b*4]=H.x,y[b*4+1]=H.y,y[b*4+2]=H.z,y[b*4+3]=st}for(let b=0,at=W.length;b<at;++b){const ut=W[b],st=ut.start,Dt=ut.count;for(let ht=st,kt=st+Dt;ht<kt;ht+=3)Et(s[ht+0]),Et(s[ht+1]),Et(s[ht+2])}}computeVertexNormals(){const t=this.index,r=this.getAttribute("position");if(r!==void 0){let s=this.getAttribute("normal");if(s===void 0)s=new Wn(new Float32Array(r.count*3),3),this.setAttribute("normal",s);else for(let S=0,v=s.count;S<v;S++)s.setXYZ(S,0,0,0);const a=new D,h=new D,c=new D,m=new D,y=new D,g=new D,f=new D,d=new D;if(t)for(let S=0,v=t.count;S<v;S+=3){const _=t.getX(S+0),E=t.getX(S+1),F=t.getX(S+2);a.fromBufferAttribute(r,_),h.fromBufferAttribute(r,E),c.fromBufferAttribute(r,F),f.subVectors(c,h),d.subVectors(a,h),f.cross(d),m.fromBufferAttribute(s,_),y.fromBufferAttribute(s,E),g.fromBufferAttribute(s,F),m.add(f),y.add(f),g.add(f),s.setXYZ(_,m.x,m.y,m.z),s.setXYZ(E,y.x,y.y,y.z),s.setXYZ(F,g.x,g.y,g.z)}else for(let S=0,v=r.count;S<v;S+=3)a.fromBufferAttribute(r,S+0),h.fromBufferAttribute(r,S+1),c.fromBufferAttribute(r,S+2),f.subVectors(c,h),d.subVectors(a,h),f.cross(d),s.setXYZ(S+0,f.x,f.y,f.z),s.setXYZ(S+1,f.x,f.y,f.z),s.setXYZ(S+2,f.x,f.y,f.z);this.normalizeNormals(),s.needsUpdate=!0}}normalizeNormals(){const t=this.attributes.normal;for(let r=0,s=t.count;r<s;r++)wt.fromBufferAttribute(t,r),wt.normalize(),t.setXYZ(r,wt.x,wt.y,wt.z)}toNonIndexed(){function t(m,y){const g=m.array,f=m.itemSize,d=m.normalized,S=new g.constructor(y.length*f);let v=0,_=0;for(let E=0,F=y.length;E<F;E++){m.isInterleavedBufferAttribute?v=y[E]*m.data.stride+m.offset:v=y[E]*f;for(let C=0;C<f;C++)S[_++]=g[v++]}return new Wn(S,f,d)}if(this.index===null)return console.warn("THREE.BufferGeometry.toNonIndexed(): BufferGeometry is already non-indexed."),this;const r=new pl,s=this.index.array,a=this.attributes;for(const m in a){const y=a[m],g=t(y,s);r.setAttribute(m,g)}const h=this.morphAttributes;for(const m in h){const y=[],g=h[m];for(let f=0,d=g.length;f<d;f++){const S=g[f],v=t(S,s);y.push(v)}r.morphAttributes[m]=y}r.morphTargetsRelative=this.morphTargetsRelative;const c=this.groups;for(let m=0,y=c.length;m<y;m++){const g=c[m];r.addGroup(g.start,g.count,g.materialIndex)}return r}toJSON(){const t={metadata:{version:4.6,type:"BufferGeometry",generator:"BufferGeometry.toJSON"}};if(t.uuid=this.uuid,t.type=this.type,this.name!==""&&(t.name=this.name),Object.keys(this.userData).length>0&&(t.userData=this.userData),this.parameters!==void 0){const y=this.parameters;for(const g in y)y[g]!==void 0&&(t[g]=y[g]);return t}t.data={attributes:{}};const r=this.index;r!==null&&(t.data.index={type:r.array.constructor.name,array:Array.prototype.slice.call(r.array)});const s=this.attributes;for(const y in s){const g=s[y];t.data.attributes[y]=g.toJSON(t.data)}const a={};let h=!1;for(const y in this.morphAttributes){const g=this.morphAttributes[y],f=[];for(let d=0,S=g.length;d<S;d++){const v=g[d];f.push(v.toJSON(t.data))}f.length>0&&(a[y]=f,h=!0)}h&&(t.data.morphAttributes=a,t.data.morphTargetsRelative=this.morphTargetsRelative);const c=this.groups;c.length>0&&(t.data.groups=JSON.parse(JSON.stringify(c)));const m=this.boundingSphere;return m!==null&&(t.data.boundingSphere={center:m.center.toArray(),radius:m.radius}),t}clone(){return new this.constructor().copy(this)}copy(t){this.index=null,this.attributes={},this.morphAttributes={},this.groups=[],this.boundingBox=null,this.boundingSphere=null;const r={};this.name=t.name;const s=t.index;s!==null&&this.setIndex(s.clone(r));const a=t.attributes;for(const g in a){const f=a[g];this.setAttribute(g,f.clone(r))}const h=t.morphAttributes;for(const g in h){const f=[],d=h[g];for(let S=0,v=d.length;S<v;S++)f.push(d[S].clone(r));this.morphAttributes[g]=f}this.morphTargetsRelative=t.morphTargetsRelative;const c=t.groups;for(let g=0,f=c.length;g<f;g++){const d=c[g];this.addGroup(d.start,d.count,d.materialIndex)}const m=t.boundingBox;m!==null&&(this.boundingBox=m.clone());const y=t.boundingSphere;return y!==null&&(this.boundingSphere=y.clone()),this.drawRange.start=t.drawRange.start,this.drawRange.count=t.drawRange.count,this.userData=t.userData,this}dispose(){this.dispatchEvent({type:"dispose"})}}class Ec extends Ae{constructor(t,r,s,a,h,c,m,y,g,f){if(f=f!==void 0?f:qs,f!==qs&&f!==da)throw new Error("DepthTexture format must be either THREE.DepthFormat or THREE.DepthStencilFormat");s===void 0&&f===qs&&(s=Kh),s===void 0&&f===da&&(s=$h),super(null,a,h,c,m,y,f,s,g),this.isDepthTexture=!0,this.image={width:t,height:r},this.magFilter=m!==void 0?m:fa,this.minFilter=y!==void 0?y:fa,this.flipY=!1,this.generateMipmaps=!1,this.compareFunction=null}copy(t){return super.copy(t),this.compareFunction=t.compareFunction,this}toJSON(t){const r=super.toJSON(t);return this.compareFunction!==null&&(r.compareFunction=this.compareFunction),r}}const kc=new Ec(1,1);kc.compareFunction=nc;class Ac extends Ae{constructor(t,r,s,a,h,c,m,y,g){super(t,r,s,a,h,c,m,y,g),this.isVideoTexture=!0,this.minFilter=c!==void 0?c:ol,this.magFilter=h!==void 0?h:ol,this.generateMipmaps=!1;const f=this;function d(){f.needsUpdate=!0,t.requestVideoFrameCallback(d)}"requestVideoFrameCallback"in t&&t.requestVideoFrameCallback(d)}clone(){return new this.constructor(this.image).copy(this)}update(){const t=this.image;"requestVideoFrameCallback"in t===!1&&t.readyState>=t.HAVE_CURRENT_DATA&&(this.needsUpdate=!0)}}typeof __THREE_DEVTOOLS__<"u"&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("register",{detail:{revision:qa}}));typeof window<"u"&&(window.__THREE__?console.warn("WARNING: Multiple instances of Three.js being imported."):window.__THREE__=qa);var Ja={exports:{}},Ke={};/**
 * @license React
 * react-reconciler-constants.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ta;function Fc(){return Ta||(Ta=1,Ke.ConcurrentRoot=1,Ke.ContinuousEventPriority=4,Ke.DefaultEventPriority=16,Ke.DiscreteEventPriority=1,Ke.IdleEventPriority=536870912,Ke.LegacyRoot=0),Ke}Ja.exports=Fc();var yr=Ja.exports,Ka={exports:{}},ba={exports:{}},nl={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Pa;function Cc(){return Pa||(Pa=1,function(p){function t(B,V){var Q=B.length;B.push(V);t:for(;0<Q;){var nt=Q-1>>>1,ft=B[nt];if(0<a(ft,V))B[nt]=V,B[Q]=ft,Q=nt;else break t}}function r(B){return B.length===0?null:B[0]}function s(B){if(B.length===0)return null;var V=B[0],Q=B.pop();if(Q!==V){B[0]=Q;t:for(var nt=0,ft=B.length,tn=ft>>>1;nt<tn;){var xe=2*(nt+1)-1,en=B[xe],ve=xe+1,nn=B[ve];if(0>a(en,Q))ve<ft&&0>a(nn,en)?(B[nt]=nn,B[ve]=Q,nt=ve):(B[nt]=en,B[xe]=Q,nt=xe);else if(ve<ft&&0>a(nn,Q))B[nt]=nn,B[ve]=Q,nt=ve;else break t}}return V}function a(B,V){var Q=B.sortIndex-V.sortIndex;return Q!==0?Q:B.id-V.id}if(typeof performance=="object"&&typeof performance.now=="function"){var h=performance;p.unstable_now=function(){return h.now()}}else{var c=Date,m=c.now();p.unstable_now=function(){return c.now()-m}}var y=[],g=[],f=1,d=null,S=3,v=!1,_=!1,E=!1,F=typeof setTimeout=="function"?setTimeout:null,C=typeof clearTimeout=="function"?clearTimeout:null,I=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function T(B){for(var V=r(g);V!==null;){if(V.callback===null)s(g);else if(V.startTime<=B)s(g),V.sortIndex=V.expirationTime,t(y,V);else break;V=r(g)}}function W(B){if(E=!1,T(B),!_)if(r(y)!==null)_=!0,kt(H);else{var V=r(g);V!==null&&ge(W,V.startTime-B)}}function H(B,V){_=!1,E&&(E=!1,C(Mt),Mt=-1),v=!0;var Q=S;try{for(T(V),d=r(y);d!==null&&(!(d.expirationTime>V)||B&&!at());){var nt=d.callback;if(typeof nt=="function"){d.callback=null,S=d.priorityLevel;var ft=nt(d.expirationTime<=V);V=p.unstable_now(),typeof ft=="function"?d.callback=ft:d===r(y)&&s(y),T(V)}else s(y);d=r(y)}if(d!==null)var tn=!0;else{var xe=r(g);xe!==null&&ge(W,xe.startTime-V),tn=!1}return tn}finally{d=null,S=Q,v=!1}}var K=!1,q=null,Mt=-1,Et=5,b=-1;function at(){return!(p.unstable_now()-b<Et)}function ut(){if(q!==null){var B=p.unstable_now();b=B;var V=!0;try{V=q(!0,B)}finally{V?st():(K=!1,q=null)}}else K=!1}var st;if(typeof I=="function")st=function(){I(ut)};else if(typeof MessageChannel<"u"){var Dt=new MessageChannel,ht=Dt.port2;Dt.port1.onmessage=ut,st=function(){ht.postMessage(null)}}else st=function(){F(ut,0)};function kt(B){q=B,K||(K=!0,st())}function ge(B,V){Mt=F(function(){B(p.unstable_now())},V)}p.unstable_IdlePriority=5,p.unstable_ImmediatePriority=1,p.unstable_LowPriority=4,p.unstable_NormalPriority=3,p.unstable_Profiling=null,p.unstable_UserBlockingPriority=2,p.unstable_cancelCallback=function(B){B.callback=null},p.unstable_continueExecution=function(){_||v||(_=!0,kt(H))},p.unstable_forceFrameRate=function(B){0>B||125<B?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):Et=0<B?Math.floor(1e3/B):5},p.unstable_getCurrentPriorityLevel=function(){return S},p.unstable_getFirstCallbackNode=function(){return r(y)},p.unstable_next=function(B){switch(S){case 1:case 2:case 3:var V=3;break;default:V=S}var Q=S;S=V;try{return B()}finally{S=Q}},p.unstable_pauseExecution=function(){},p.unstable_requestPaint=function(){},p.unstable_runWithPriority=function(B,V){switch(B){case 1:case 2:case 3:case 4:case 5:break;default:B=3}var Q=S;S=B;try{return V()}finally{S=Q}},p.unstable_scheduleCallback=function(B,V,Q){var nt=p.unstable_now();switch(typeof Q=="object"&&Q!==null?(Q=Q.delay,Q=typeof Q=="number"&&0<Q?nt+Q:nt):Q=nt,B){case 1:var ft=-1;break;case 2:ft=250;break;case 5:ft=1073741823;break;case 4:ft=1e4;break;default:ft=5e3}return ft=Q+ft,B={id:f++,callback:V,priorityLevel:B,startTime:Q,expirationTime:ft,sortIndex:-1},Q>nt?(B.sortIndex=Q,t(g,B),r(y)===null&&B===r(g)&&(E?(C(Mt),Mt=-1):E=!0,ge(W,Q-nt))):(B.sortIndex=ft,t(y,B),_||v||(_=!0,kt(H))),B},p.unstable_shouldYield=at,p.unstable_wrapCallback=function(B){var V=S;return function(){var Q=S;S=V;try{return B.apply(this,arguments)}finally{S=Q}}}}(nl)),nl}ba.exports=Cc();var ul=ba.exports;/**
 * @license React
 * react-reconciler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var rl,Na;function Rc(){return Na||(Na=1,rl=function(t){var r={},s=Z,a=ul,h=Object.assign;function c(e){for(var n="https://reactjs.org/docs/error-decoder.html?invariant="+e,i=1;i<arguments.length;i++)n+="&args[]="+encodeURIComponent(arguments[i]);return"Minified React error #"+e+"; visit "+n+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var m=s.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,y=Symbol.for("react.element"),g=Symbol.for("react.portal"),f=Symbol.for("react.fragment"),d=Symbol.for("react.strict_mode"),S=Symbol.for("react.profiler"),v=Symbol.for("react.provider"),_=Symbol.for("react.context"),E=Symbol.for("react.forward_ref"),F=Symbol.for("react.suspense"),C=Symbol.for("react.suspense_list"),I=Symbol.for("react.memo"),T=Symbol.for("react.lazy"),W=Symbol.for("react.offscreen"),H=Symbol.iterator;function K(e){return e===null||typeof e!="object"?null:(e=H&&e[H]||e["@@iterator"],typeof e=="function"?e:null)}function q(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case f:return"Fragment";case g:return"Portal";case S:return"Profiler";case d:return"StrictMode";case F:return"Suspense";case C:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case _:return(e.displayName||"Context")+".Consumer";case v:return(e._context.displayName||"Context")+".Provider";case E:var n=e.render;return e=e.displayName,e||(e=n.displayName||n.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case I:return n=e.displayName||null,n!==null?n:q(e.type)||"Memo";case T:n=e._payload,e=e._init;try{return q(e(n))}catch{}}return null}function Mt(e){var n=e.type;switch(e.tag){case 24:return"Cache";case 9:return(n.displayName||"Context")+".Consumer";case 10:return(n._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=n.render,e=e.displayName||e.name||"",n.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return n;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return q(n);case 8:return n===d?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof n=="function")return n.displayName||n.name||null;if(typeof n=="string")return n}return null}function Et(e){var n=e,i=e;if(e.alternate)for(;n.return;)n=n.return;else{e=n;do n=e,n.flags&4098&&(i=n.return),e=n.return;while(e)}return n.tag===3?i:null}function b(e){if(Et(e)!==e)throw Error(c(188))}function at(e){var n=e.alternate;if(!n){if(n=Et(e),n===null)throw Error(c(188));return n!==e?null:e}for(var i=e,l=n;;){var o=i.return;if(o===null)break;var u=o.alternate;if(u===null){if(l=o.return,l!==null){i=l;continue}break}if(o.child===u.child){for(u=o.child;u;){if(u===i)return b(o),e;if(u===l)return b(o),n;u=u.sibling}throw Error(c(188))}if(i.return!==l.return)i=o,l=u;else{for(var x=!1,w=o.child;w;){if(w===i){x=!0,i=o,l=u;break}if(w===l){x=!0,l=o,i=u;break}w=w.sibling}if(!x){for(w=u.child;w;){if(w===i){x=!0,i=u,l=o;break}if(w===l){x=!0,l=u,i=o;break}w=w.sibling}if(!x)throw Error(c(189))}}if(i.alternate!==l)throw Error(c(190))}if(i.tag!==3)throw Error(c(188));return i.stateNode.current===i?e:n}function ut(e){return e=at(e),e!==null?st(e):null}function st(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var n=st(e);if(n!==null)return n;e=e.sibling}return null}function Dt(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){if(e.tag!==4){var n=Dt(e);if(n!==null)return n}e=e.sibling}return null}var ht=Array.isArray,kt=t.getPublicInstance,ge=t.getRootHostContext,B=t.getChildHostContext,V=t.prepareForCommit,Q=t.resetAfterCommit,nt=t.createInstance,ft=t.appendInitialChild,tn=t.finalizeInitialChildren,xe=t.prepareUpdate,en=t.shouldSetTextContent,ve=t.createTextInstance,nn=t.scheduleTimeout,ou=t.cancelTimeout,Bi=t.noTimeout,_r=t.isPrimaryRenderer,ae=t.supportsMutation,wr=t.supportsPersistence,Gt=t.supportsHydration,au=t.getInstanceFromNode,uu=t.preparePortalMount,hu=t.getCurrentEventPriority,cu=t.detachDeletedInstance,fu=t.supportsMicrotasks,du=t.scheduleMicrotask,Hn=t.supportsTestSelectors,pu=t.findFiberRoot,mu=t.getBoundingRect,yu=t.getTextContent,jn=t.isHiddenSubtree,gu=t.matchAccessibilityRole,xu=t.setFocusIfFocusable,vu=t.setupIntersectionObserver,Su=t.appendChild,_u=t.appendChildToContainer,wu=t.commitTextUpdate,Mu=t.commitMount,zu=t.commitUpdate,Eu=t.insertBefore,ku=t.insertInContainerBefore,Au=t.removeChild,Fu=t.removeChildFromContainer,ml=t.resetTextContent,Cu=t.hideInstance,Ru=t.hideTextInstance,Tu=t.unhideInstance,Pu=t.unhideTextInstance,Nu=t.clearContainer,Bu=t.cloneInstance,yl=t.createContainerChildSet,gl=t.appendChildToContainerChildSet,Iu=t.finalizeContainerChildren,xl=t.replaceContainerChildren,vl=t.cloneHiddenInstance,Sl=t.cloneHiddenTextInstance,Du=t.canHydrateInstance,Lu=t.canHydrateTextInstance,Ou=t.canHydrateSuspenseInstance,_l=t.isSuspenseInstancePending,Ii=t.isSuspenseInstanceFallback,Uu=t.registerSuspenseInstanceRetry,Vn=t.getNextHydratableSibling,Wu=t.getFirstHydratableChild,Hu=t.getFirstHydratableChildWithinContainer,ju=t.getFirstHydratableChildWithinSuspenseInstance,Vu=t.hydrateInstance,qu=t.hydrateTextInstance,Qu=t.hydrateSuspenseInstance,Gu=t.getNextHydratableInstanceAfterSuspenseInstance,wl=t.commitHydratedContainer,Xu=t.commitHydratedSuspenseInstance,Yu=t.clearSuspenseBoundary,Zu=t.clearSuspenseBoundaryFromContainer,Ju=t.shouldDeleteUnhydratedTailInstances,Ku=t.didNotMatchHydratedContainerTextInstance,bu=t.didNotMatchHydratedTextInstance,Di;function qn(e){if(Di===void 0)try{throw Error()}catch(i){var n=i.stack.trim().match(/\n( *(at )?)/);Di=n&&n[1]||""}return`
`+Di+e}var Li=!1;function Oi(e,n){if(!e||Li)return"";Li=!0;var i=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(n)if(n=function(){throw Error()},Object.defineProperty(n.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(n,[])}catch(R){var l=R}Reflect.construct(e,[],n)}else{try{n.call()}catch(R){l=R}e.call(n.prototype)}else{try{throw Error()}catch(R){l=R}e()}}catch(R){if(R&&l&&typeof R.stack=="string"){for(var o=R.stack.split(`
`),u=l.stack.split(`
`),x=o.length-1,w=u.length-1;1<=x&&0<=w&&o[x]!==u[w];)w--;for(;1<=x&&0<=w;x--,w--)if(o[x]!==u[w]){if(x!==1||w!==1)do if(x--,w--,0>w||o[x]!==u[w]){var A=`
`+o[x].replace(" at new "," at ");return e.displayName&&A.includes("<anonymous>")&&(A=A.replace("<anonymous>",e.displayName)),A}while(1<=x&&0<=w);break}}}finally{Li=!1,Error.prepareStackTrace=i}return(e=e?e.displayName||e.name:"")?qn(e):""}var $u=Object.prototype.hasOwnProperty,Ui=[],yn=-1;function Le(e){return{current:e}}function lt(e){0>yn||(e.current=Ui[yn],Ui[yn]=null,yn--)}function it(e,n){yn++,Ui[yn]=e.current,e.current=n}var Oe={},At=Le(Oe),Lt=Le(!1),rn=Oe;function gn(e,n){var i=e.type.contextTypes;if(!i)return Oe;var l=e.stateNode;if(l&&l.__reactInternalMemoizedUnmaskedChildContext===n)return l.__reactInternalMemoizedMaskedChildContext;var o={},u;for(u in i)o[u]=n[u];return l&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=n,e.__reactInternalMemoizedMaskedChildContext=o),o}function Ot(e){return e=e.childContextTypes,e!=null}function Mr(){lt(Lt),lt(At)}function Ml(e,n,i){if(At.current!==Oe)throw Error(c(168));it(At,n),it(Lt,i)}function zl(e,n,i){var l=e.stateNode;if(n=n.childContextTypes,typeof l.getChildContext!="function")return i;l=l.getChildContext();for(var o in l)if(!(o in n))throw Error(c(108,Mt(e)||"Unknown",o));return h({},i,l)}function zr(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Oe,rn=At.current,it(At,e),it(Lt,Lt.current),!0}function El(e,n,i){var l=e.stateNode;if(!l)throw Error(c(169));i?(e=zl(e,n,rn),l.__reactInternalMemoizedMergedChildContext=e,lt(Lt),lt(At),it(At,e)):lt(Lt),it(Lt,i)}var ue=Math.clz32?Math.clz32:nh,th=Math.log,eh=Math.LN2;function nh(e){return e>>>=0,e===0?32:31-(th(e)/eh|0)|0}var Er=64,kr=4194304;function Qn(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function Ar(e,n){var i=e.pendingLanes;if(i===0)return 0;var l=0,o=e.suspendedLanes,u=e.pingedLanes,x=i&268435455;if(x!==0){var w=x&~o;w!==0?l=Qn(w):(u&=x,u!==0&&(l=Qn(u)))}else x=i&~o,x!==0?l=Qn(x):u!==0&&(l=Qn(u));if(l===0)return 0;if(n!==0&&n!==l&&!(n&o)&&(o=l&-l,u=n&-n,o>=u||o===16&&(u&4194240)!==0))return n;if(l&4&&(l|=i&16),n=e.entangledLanes,n!==0)for(e=e.entanglements,n&=l;0<n;)i=31-ue(n),o=1<<i,l|=e[i],n&=~o;return l}function rh(e,n){switch(e){case 1:case 2:case 4:return n+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function ih(e,n){for(var i=e.suspendedLanes,l=e.pingedLanes,o=e.expirationTimes,u=e.pendingLanes;0<u;){var x=31-ue(u),w=1<<x,A=o[x];A===-1?(!(w&i)||w&l)&&(o[x]=rh(w,n)):A<=n&&(e.expiredLanes|=w),u&=~w}}function Wi(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function Hi(e){for(var n=[],i=0;31>i;i++)n.push(e);return n}function Gn(e,n,i){e.pendingLanes|=n,n!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,n=31-ue(n),e[n]=i}function sh(e,n){var i=e.pendingLanes&~n;e.pendingLanes=n,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=n,e.mutableReadLanes&=n,e.entangledLanes&=n,n=e.entanglements;var l=e.eventTimes;for(e=e.expirationTimes;0<i;){var o=31-ue(i),u=1<<o;n[o]=0,l[o]=-1,e[o]=-1,i&=~u}}function ji(e,n){var i=e.entangledLanes|=n;for(e=e.entanglements;i;){var l=31-ue(i),o=1<<l;o&n|e[l]&n&&(e[l]|=n),i&=~o}}var $=0;function kl(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var Vi=a.unstable_scheduleCallback,Al=a.unstable_cancelCallback,lh=a.unstable_shouldYield,oh=a.unstable_requestPaint,vt=a.unstable_now,qi=a.unstable_ImmediatePriority,ah=a.unstable_UserBlockingPriority,Qi=a.unstable_NormalPriority,uh=a.unstable_IdlePriority,Fr=null,Se=null;function hh(e){if(Se&&typeof Se.onCommitFiberRoot=="function")try{Se.onCommitFiberRoot(Fr,e,void 0,(e.current.flags&128)===128)}catch{}}function ch(e,n){return e===n&&(e!==0||1/e===1/n)||e!==e&&n!==n}var _e=typeof Object.is=="function"?Object.is:ch,Ce=null,Cr=!1,Gi=!1;function Fl(e){Ce===null?Ce=[e]:Ce.push(e)}function fh(e){Cr=!0,Fl(e)}function we(){if(!Gi&&Ce!==null){Gi=!0;var e=0,n=$;try{var i=Ce;for($=1;e<i.length;e++){var l=i[e];do l=l(!0);while(l!==null)}Ce=null,Cr=!1}catch(o){throw Ce!==null&&(Ce=Ce.slice(e+1)),Vi(qi,we),o}finally{$=n,Gi=!1}}return null}var dh=m.ReactCurrentBatchConfig;function Rr(e,n){if(_e(e,n))return!0;if(typeof e!="object"||e===null||typeof n!="object"||n===null)return!1;var i=Object.keys(e),l=Object.keys(n);if(i.length!==l.length)return!1;for(l=0;l<i.length;l++){var o=i[l];if(!$u.call(n,o)||!_e(e[o],n[o]))return!1}return!0}function ph(e){switch(e.tag){case 5:return qn(e.type);case 16:return qn("Lazy");case 13:return qn("Suspense");case 19:return qn("SuspenseList");case 0:case 2:case 15:return e=Oi(e.type,!1),e;case 11:return e=Oi(e.type.render,!1),e;case 1:return e=Oi(e.type,!0),e;default:return""}}function he(e,n){if(e&&e.defaultProps){n=h({},n),e=e.defaultProps;for(var i in e)n[i]===void 0&&(n[i]=e[i]);return n}return n}var Tr=Le(null),Pr=null,xn=null,Xi=null;function Yi(){Xi=xn=Pr=null}function Cl(e,n,i){_r?(it(Tr,n._currentValue),n._currentValue=i):(it(Tr,n._currentValue2),n._currentValue2=i)}function Zi(e){var n=Tr.current;lt(Tr),_r?e._currentValue=n:e._currentValue2=n}function Ji(e,n,i){for(;e!==null;){var l=e.alternate;if((e.childLanes&n)!==n?(e.childLanes|=n,l!==null&&(l.childLanes|=n)):l!==null&&(l.childLanes&n)!==n&&(l.childLanes|=n),e===i)break;e=e.return}}function vn(e,n){Pr=e,Xi=xn=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&n&&(Zt=!0),e.firstContext=null)}function $t(e){var n=_r?e._currentValue:e._currentValue2;if(Xi!==e)if(e={context:e,memoizedValue:n,next:null},xn===null){if(Pr===null)throw Error(c(308));xn=e,Pr.dependencies={lanes:0,firstContext:e}}else xn=xn.next=e;return n}var Me=null,Ue=!1;function Ki(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Rl(e,n){e=e.updateQueue,n.updateQueue===e&&(n.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function Re(e,n){return{eventTime:e,lane:n,tag:0,payload:null,callback:null,next:null}}function We(e,n){var i=e.updateQueue;i!==null&&(i=i.shared,mt!==null&&e.mode&1&&!(J&2)?(e=i.interleaved,e===null?(n.next=n,Me===null?Me=[i]:Me.push(i)):(n.next=e.next,e.next=n),i.interleaved=n):(e=i.pending,e===null?n.next=n:(n.next=e.next,e.next=n),i.pending=n))}function Nr(e,n,i){if(n=n.updateQueue,n!==null&&(n=n.shared,(i&4194240)!==0)){var l=n.lanes;l&=e.pendingLanes,i|=l,n.lanes=i,ji(e,i)}}function Tl(e,n){var i=e.updateQueue,l=e.alternate;if(l!==null&&(l=l.updateQueue,i===l)){var o=null,u=null;if(i=i.firstBaseUpdate,i!==null){do{var x={eventTime:i.eventTime,lane:i.lane,tag:i.tag,payload:i.payload,callback:i.callback,next:null};u===null?o=u=x:u=u.next=x,i=i.next}while(i!==null);u===null?o=u=n:u=u.next=n}else o=u=n;i={baseState:l.baseState,firstBaseUpdate:o,lastBaseUpdate:u,shared:l.shared,effects:l.effects},e.updateQueue=i;return}e=i.lastBaseUpdate,e===null?i.firstBaseUpdate=n:e.next=n,i.lastBaseUpdate=n}function Br(e,n,i,l){var o=e.updateQueue;Ue=!1;var u=o.firstBaseUpdate,x=o.lastBaseUpdate,w=o.shared.pending;if(w!==null){o.shared.pending=null;var A=w,R=A.next;A.next=null,x===null?u=R:x.next=R,x=A;var L=e.alternate;L!==null&&(L=L.updateQueue,w=L.lastBaseUpdate,w!==x&&(w===null?L.firstBaseUpdate=R:w.next=R,L.lastBaseUpdate=A))}if(u!==null){var G=o.baseState;x=0,L=R=A=null,w=u;do{var j=w.lane,rt=w.eventTime;if((l&j)===j){L!==null&&(L=L.next={eventTime:rt,lane:0,tag:w.tag,payload:w.payload,callback:w.callback,next:null});t:{var U=e,Tt=w;switch(j=n,rt=i,Tt.tag){case 1:if(U=Tt.payload,typeof U=="function"){G=U.call(rt,G,j);break t}G=U;break t;case 3:U.flags=U.flags&-65537|128;case 0:if(U=Tt.payload,j=typeof U=="function"?U.call(rt,G,j):U,j==null)break t;G=h({},G,j);break t;case 2:Ue=!0}}w.callback!==null&&w.lane!==0&&(e.flags|=64,j=o.effects,j===null?o.effects=[w]:j.push(w))}else rt={eventTime:rt,lane:j,tag:w.tag,payload:w.payload,callback:w.callback,next:null},L===null?(R=L=rt,A=G):L=L.next=rt,x|=j;if(w=w.next,w===null){if(w=o.shared.pending,w===null)break;j=w,w=j.next,j.next=null,o.lastBaseUpdate=j,o.shared.pending=null}}while(1);if(L===null&&(A=G),o.baseState=A,o.firstBaseUpdate=R,o.lastBaseUpdate=L,n=o.shared.interleaved,n!==null){o=n;do x|=o.lane,o=o.next;while(o!==n)}else u===null&&(o.shared.lanes=0);Fn|=x,e.lanes=x,e.memoizedState=G}}function Pl(e,n,i){if(e=n.effects,n.effects=null,e!==null)for(n=0;n<e.length;n++){var l=e[n],o=l.callback;if(o!==null){if(l.callback=null,l=i,typeof o!="function")throw Error(c(191,o));o.call(l)}}}var Nl=new s.Component().refs;function bi(e,n,i,l){n=e.memoizedState,i=i(l,n),i=i==null?n:h({},n,i),e.memoizedState=i,e.lanes===0&&(e.updateQueue.baseState=i)}var Ir={isMounted:function(e){return(e=e._reactInternals)?Et(e)===e:!1},enqueueSetState:function(e,n,i){e=e._reactInternals;var l=It(),o=Ve(e),u=Re(l,o);u.payload=n,i!=null&&(u.callback=i),We(e,u),n=ie(e,o,l),n!==null&&Nr(n,e,o)},enqueueReplaceState:function(e,n,i){e=e._reactInternals;var l=It(),o=Ve(e),u=Re(l,o);u.tag=1,u.payload=n,i!=null&&(u.callback=i),We(e,u),n=ie(e,o,l),n!==null&&Nr(n,e,o)},enqueueForceUpdate:function(e,n){e=e._reactInternals;var i=It(),l=Ve(e),o=Re(i,l);o.tag=2,n!=null&&(o.callback=n),We(e,o),n=ie(e,l,i),n!==null&&Nr(n,e,l)}};function Bl(e,n,i,l,o,u,x){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(l,u,x):n.prototype&&n.prototype.isPureReactComponent?!Rr(i,l)||!Rr(o,u):!0}function Il(e,n,i){var l=!1,o=Oe,u=n.contextType;return typeof u=="object"&&u!==null?u=$t(u):(o=Ot(n)?rn:At.current,l=n.contextTypes,u=(l=l!=null)?gn(e,o):Oe),n=new n(i,u),e.memoizedState=n.state!==null&&n.state!==void 0?n.state:null,n.updater=Ir,e.stateNode=n,n._reactInternals=e,l&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=o,e.__reactInternalMemoizedMaskedChildContext=u),n}function Dl(e,n,i,l){e=n.state,typeof n.componentWillReceiveProps=="function"&&n.componentWillReceiveProps(i,l),typeof n.UNSAFE_componentWillReceiveProps=="function"&&n.UNSAFE_componentWillReceiveProps(i,l),n.state!==e&&Ir.enqueueReplaceState(n,n.state,null)}function $i(e,n,i,l){var o=e.stateNode;o.props=i,o.state=e.memoizedState,o.refs=Nl,Ki(e);var u=n.contextType;typeof u=="object"&&u!==null?o.context=$t(u):(u=Ot(n)?rn:At.current,o.context=gn(e,u)),o.state=e.memoizedState,u=n.getDerivedStateFromProps,typeof u=="function"&&(bi(e,n,u,i),o.state=e.memoizedState),typeof n.getDerivedStateFromProps=="function"||typeof o.getSnapshotBeforeUpdate=="function"||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(n=o.state,typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount(),n!==o.state&&Ir.enqueueReplaceState(o,o.state,null),Br(e,i,o,l),o.state=e.memoizedState),typeof o.componentDidMount=="function"&&(e.flags|=4194308)}var Sn=[],_n=0,Dr=null,Lr=0,te=[],ee=0,sn=null,Te=1,Pe="";function ln(e,n){Sn[_n++]=Lr,Sn[_n++]=Dr,Dr=e,Lr=n}function Ll(e,n,i){te[ee++]=Te,te[ee++]=Pe,te[ee++]=sn,sn=e;var l=Te;e=Pe;var o=32-ue(l)-1;l&=~(1<<o),i+=1;var u=32-ue(n)+o;if(30<u){var x=o-o%5;u=(l&(1<<x)-1).toString(32),l>>=x,o-=x,Te=1<<32-ue(n)+o|i<<o|l,Pe=u+e}else Te=1<<u|i<<o|l,Pe=e}function ts(e){e.return!==null&&(ln(e,1),Ll(e,1,0))}function es(e){for(;e===Dr;)Dr=Sn[--_n],Sn[_n]=null,Lr=Sn[--_n],Sn[_n]=null;for(;e===sn;)sn=te[--ee],te[ee]=null,Pe=te[--ee],te[ee]=null,Te=te[--ee],te[ee]=null}var Xt=null,Yt=null,ot=!1,Xn=!1,ce=null;function Ol(e,n){var i=se(5,null,null,0);i.elementType="DELETED",i.stateNode=n,i.return=e,n=e.deletions,n===null?(e.deletions=[i],e.flags|=16):n.push(i)}function Ul(e,n){switch(e.tag){case 5:return n=Du(n,e.type,e.pendingProps),n!==null?(e.stateNode=n,Xt=e,Yt=Wu(n),!0):!1;case 6:return n=Lu(n,e.pendingProps),n!==null?(e.stateNode=n,Xt=e,Yt=null,!0):!1;case 13:if(n=Ou(n),n!==null){var i=sn!==null?{id:Te,overflow:Pe}:null;return e.memoizedState={dehydrated:n,treeContext:i,retryLane:1073741824},i=se(18,null,null,0),i.stateNode=n,i.return=e,e.child=i,Xt=e,Yt=null,!0}return!1;default:return!1}}function ns(e){return(e.mode&1)!==0&&(e.flags&128)===0}function rs(e){if(ot){var n=Yt;if(n){var i=n;if(!Ul(e,n)){if(ns(e))throw Error(c(418));n=Vn(i);var l=Xt;n&&Ul(e,n)?Ol(l,i):(e.flags=e.flags&-4097|2,ot=!1,Xt=e)}}else{if(ns(e))throw Error(c(418));e.flags=e.flags&-4097|2,ot=!1,Xt=e}}}function Wl(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;Xt=e}function Yn(e){if(!Gt||e!==Xt)return!1;if(!ot)return Wl(e),ot=!0,!1;if(e.tag!==3&&(e.tag!==5||Ju(e.type)&&!en(e.type,e.memoizedProps))){var n=Yt;if(n){if(ns(e)){for(e=Yt;e;)e=Vn(e);throw Error(c(418))}for(;n;)Ol(e,n),n=Vn(n)}}if(Wl(e),e.tag===13){if(!Gt)throw Error(c(316));if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(c(317));Yt=Gu(e)}else Yt=Xt?Vn(e.stateNode):null;return!0}function wn(){Gt&&(Yt=Xt=null,Xn=ot=!1)}function is(e){ce===null?ce=[e]:ce.push(e)}function Zn(e,n,i){if(e=i.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(i._owner){if(i=i._owner,i){if(i.tag!==1)throw Error(c(309));var l=i.stateNode}if(!l)throw Error(c(147,e));var o=l,u=""+e;return n!==null&&n.ref!==null&&typeof n.ref=="function"&&n.ref._stringRef===u?n.ref:(n=function(x){var w=o.refs;w===Nl&&(w=o.refs={}),x===null?delete w[u]:w[u]=x},n._stringRef=u,n)}if(typeof e!="string")throw Error(c(284));if(!i._owner)throw Error(c(290,e))}return e}function Or(e,n){throw e=Object.prototype.toString.call(n),Error(c(31,e==="[object Object]"?"object with keys {"+Object.keys(n).join(", ")+"}":e))}function Hl(e){var n=e._init;return n(e._payload)}function jl(e){function n(z,M){if(e){var k=z.deletions;k===null?(z.deletions=[M],z.flags|=16):k.push(M)}}function i(z,M){if(!e)return null;for(;M!==null;)n(z,M),M=M.sibling;return null}function l(z,M){for(z=new Map;M!==null;)M.key!==null?z.set(M.key,M):z.set(M.index,M),M=M.sibling;return z}function o(z,M){return z=Qe(z,M),z.index=0,z.sibling=null,z}function u(z,M,k){return z.index=k,e?(k=z.alternate,k!==null?(k=k.index,k<M?(z.flags|=2,M):k):(z.flags|=2,M)):(z.flags|=1048576,M)}function x(z){return e&&z.alternate===null&&(z.flags|=2),z}function w(z,M,k,N){return M===null||M.tag!==6?(M=Hs(k,z.mode,N),M.return=z,M):(M=o(M,k),M.return=z,M)}function A(z,M,k,N){var O=k.type;return O===f?L(z,M,k.props.children,N,k.key):M!==null&&(M.elementType===O||typeof O=="object"&&O!==null&&O.$$typeof===T&&Hl(O)===M.type)?(N=o(M,k.props),N.ref=Zn(z,M,k),N.return=z,N):(N=mi(k.type,k.key,k.props,null,z.mode,N),N.ref=Zn(z,M,k),N.return=z,N)}function R(z,M,k,N){return M===null||M.tag!==4||M.stateNode.containerInfo!==k.containerInfo||M.stateNode.implementation!==k.implementation?(M=js(k,z.mode,N),M.return=z,M):(M=o(M,k.children||[]),M.return=z,M)}function L(z,M,k,N,O){return M===null||M.tag!==7?(M=dn(k,z.mode,N,O),M.return=z,M):(M=o(M,k),M.return=z,M)}function G(z,M,k){if(typeof M=="string"&&M!==""||typeof M=="number")return M=Hs(""+M,z.mode,k),M.return=z,M;if(typeof M=="object"&&M!==null){switch(M.$$typeof){case y:return k=mi(M.type,M.key,M.props,null,z.mode,k),k.ref=Zn(z,null,M),k.return=z,k;case g:return M=js(M,z.mode,k),M.return=z,M;case T:var N=M._init;return G(z,N(M._payload),k)}if(ht(M)||K(M))return M=dn(M,z.mode,k,null),M.return=z,M;Or(z,M)}return null}function j(z,M,k,N){var O=M!==null?M.key:null;if(typeof k=="string"&&k!==""||typeof k=="number")return O!==null?null:w(z,M,""+k,N);if(typeof k=="object"&&k!==null){switch(k.$$typeof){case y:return k.key===O?A(z,M,k,N):null;case g:return k.key===O?R(z,M,k,N):null;case T:return O=k._init,j(z,M,O(k._payload),N)}if(ht(k)||K(k))return O!==null?null:L(z,M,k,N,null);Or(z,k)}return null}function rt(z,M,k,N,O){if(typeof N=="string"&&N!==""||typeof N=="number")return z=z.get(k)||null,w(M,z,""+N,O);if(typeof N=="object"&&N!==null){switch(N.$$typeof){case y:return z=z.get(N.key===null?k:N.key)||null,A(M,z,N,O);case g:return z=z.get(N.key===null?k:N.key)||null,R(M,z,N,O);case T:var Y=N._init;return rt(z,M,k,Y(N._payload),O)}if(ht(N)||K(N))return z=z.get(k)||null,L(M,z,N,O,null);Or(M,N)}return null}function U(z,M,k,N){for(var O=null,Y=null,X=M,tt=M=0,_t=null;X!==null&&tt<k.length;tt++){X.index>tt?(_t=X,X=null):_t=X.sibling;var et=j(z,X,k[tt],N);if(et===null){X===null&&(X=_t);break}e&&X&&et.alternate===null&&n(z,X),M=u(et,M,tt),Y===null?O=et:Y.sibling=et,Y=et,X=_t}if(tt===k.length)return i(z,X),ot&&ln(z,tt),O;if(X===null){for(;tt<k.length;tt++)X=G(z,k[tt],N),X!==null&&(M=u(X,M,tt),Y===null?O=X:Y.sibling=X,Y=X);return ot&&ln(z,tt),O}for(X=l(z,X);tt<k.length;tt++)_t=rt(X,z,tt,k[tt],N),_t!==null&&(e&&_t.alternate!==null&&X.delete(_t.key===null?tt:_t.key),M=u(_t,M,tt),Y===null?O=_t:Y.sibling=_t,Y=_t);return e&&X.forEach(function(Ge){return n(z,Ge)}),ot&&ln(z,tt),O}function Tt(z,M,k,N){var O=K(k);if(typeof O!="function")throw Error(c(150));if(k=O.call(k),k==null)throw Error(c(151));for(var Y=O=null,X=M,tt=M=0,_t=null,et=k.next();X!==null&&!et.done;tt++,et=k.next()){X.index>tt?(_t=X,X=null):_t=X.sibling;var Ge=j(z,X,et.value,N);if(Ge===null){X===null&&(X=_t);break}e&&X&&Ge.alternate===null&&n(z,X),M=u(Ge,M,tt),Y===null?O=Ge:Y.sibling=Ge,Y=Ge,X=_t}if(et.done)return i(z,X),ot&&ln(z,tt),O;if(X===null){for(;!et.done;tt++,et=k.next())et=G(z,et.value,N),et!==null&&(M=u(et,M,tt),Y===null?O=et:Y.sibling=et,Y=et);return ot&&ln(z,tt),O}for(X=l(z,X);!et.done;tt++,et=k.next())et=rt(X,z,tt,et.value,N),et!==null&&(e&&et.alternate!==null&&X.delete(et.key===null?tt:et.key),M=u(et,M,tt),Y===null?O=et:Y.sibling=et,Y=et);return e&&X.forEach(function(qh){return n(z,qh)}),ot&&ln(z,tt),O}function le(z,M,k,N){if(typeof k=="object"&&k!==null&&k.type===f&&k.key===null&&(k=k.props.children),typeof k=="object"&&k!==null){switch(k.$$typeof){case y:t:{for(var O=k.key,Y=M;Y!==null;){if(Y.key===O){if(O=k.type,O===f){if(Y.tag===7){i(z,Y.sibling),M=o(Y,k.props.children),M.return=z,z=M;break t}}else if(Y.elementType===O||typeof O=="object"&&O!==null&&O.$$typeof===T&&Hl(O)===Y.type){i(z,Y.sibling),M=o(Y,k.props),M.ref=Zn(z,Y,k),M.return=z,z=M;break t}i(z,Y);break}else n(z,Y);Y=Y.sibling}k.type===f?(M=dn(k.props.children,z.mode,N,k.key),M.return=z,z=M):(N=mi(k.type,k.key,k.props,null,z.mode,N),N.ref=Zn(z,M,k),N.return=z,z=N)}return x(z);case g:t:{for(Y=k.key;M!==null;){if(M.key===Y)if(M.tag===4&&M.stateNode.containerInfo===k.containerInfo&&M.stateNode.implementation===k.implementation){i(z,M.sibling),M=o(M,k.children||[]),M.return=z,z=M;break t}else{i(z,M);break}else n(z,M);M=M.sibling}M=js(k,z.mode,N),M.return=z,z=M}return x(z);case T:return Y=k._init,le(z,M,Y(k._payload),N)}if(ht(k))return U(z,M,k,N);if(K(k))return Tt(z,M,k,N);Or(z,k)}return typeof k=="string"&&k!==""||typeof k=="number"?(k=""+k,M!==null&&M.tag===6?(i(z,M.sibling),M=o(M,k),M.return=z,z=M):(i(z,M),M=Hs(k,z.mode,N),M.return=z,z=M),x(z)):i(z,M)}return le}var Mn=jl(!0),Vl=jl(!1),Jn={},ne=Le(Jn),Kn=Le(Jn),zn=Le(Jn);function ze(e){if(e===Jn)throw Error(c(174));return e}function ss(e,n){it(zn,n),it(Kn,e),it(ne,Jn),e=ge(n),lt(ne),it(ne,e)}function En(){lt(ne),lt(Kn),lt(zn)}function ql(e){var n=ze(zn.current),i=ze(ne.current);n=B(i,e.type,n),i!==n&&(it(Kn,e),it(ne,n))}function ls(e){Kn.current===e&&(lt(ne),lt(Kn))}var ct=Le(0);function Ur(e){for(var n=e;n!==null;){if(n.tag===13){var i=n.memoizedState;if(i!==null&&(i=i.dehydrated,i===null||_l(i)||Ii(i)))return n}else if(n.tag===19&&n.memoizedProps.revealOrder!==void 0){if(n.flags&128)return n}else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return null;n=n.return}n.sibling.return=n.return,n=n.sibling}return null}var os=[];function as(){for(var e=0;e<os.length;e++){var n=os[e];_r?n._workInProgressVersionPrimary=null:n._workInProgressVersionSecondary=null}os.length=0}var Wr=m.ReactCurrentDispatcher,re=m.ReactCurrentBatchConfig,kn=0,dt=null,Ft=null,St=null,Hr=!1,bn=!1,$n=0,mh=0;function Ct(){throw Error(c(321))}function us(e,n){if(n===null)return!1;for(var i=0;i<n.length&&i<e.length;i++)if(!_e(e[i],n[i]))return!1;return!0}function hs(e,n,i,l,o,u){if(kn=u,dt=n,n.memoizedState=null,n.updateQueue=null,n.lanes=0,Wr.current=e===null||e.memoizedState===null?vh:Sh,e=i(l,o),bn){u=0;do{if(bn=!1,$n=0,25<=u)throw Error(c(301));u+=1,St=Ft=null,n.updateQueue=null,Wr.current=_h,e=i(l,o)}while(bn)}if(Wr.current=Gr,n=Ft!==null&&Ft.next!==null,kn=0,St=Ft=dt=null,Hr=!1,n)throw Error(c(300));return e}function cs(){var e=$n!==0;return $n=0,e}function Ne(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return St===null?dt.memoizedState=St=e:St=St.next=e,St}function Ee(){if(Ft===null){var e=dt.alternate;e=e!==null?e.memoizedState:null}else e=Ft.next;var n=St===null?dt.memoizedState:St.next;if(n!==null)St=n,Ft=e;else{if(e===null)throw Error(c(310));Ft=e,e={memoizedState:Ft.memoizedState,baseState:Ft.baseState,baseQueue:Ft.baseQueue,queue:Ft.queue,next:null},St===null?dt.memoizedState=St=e:St=St.next=e}return St}function on(e,n){return typeof n=="function"?n(e):n}function jr(e){var n=Ee(),i=n.queue;if(i===null)throw Error(c(311));i.lastRenderedReducer=e;var l=Ft,o=l.baseQueue,u=i.pending;if(u!==null){if(o!==null){var x=o.next;o.next=u.next,u.next=x}l.baseQueue=o=u,i.pending=null}if(o!==null){u=o.next,l=l.baseState;var w=x=null,A=null,R=u;do{var L=R.lane;if((kn&L)===L)A!==null&&(A=A.next={lane:0,action:R.action,hasEagerState:R.hasEagerState,eagerState:R.eagerState,next:null}),l=R.hasEagerState?R.eagerState:e(l,R.action);else{var G={lane:L,action:R.action,hasEagerState:R.hasEagerState,eagerState:R.eagerState,next:null};A===null?(w=A=G,x=l):A=A.next=G,dt.lanes|=L,Fn|=L}R=R.next}while(R!==null&&R!==u);A===null?x=l:A.next=w,_e(l,n.memoizedState)||(Zt=!0),n.memoizedState=l,n.baseState=x,n.baseQueue=A,i.lastRenderedState=l}if(e=i.interleaved,e!==null){o=e;do u=o.lane,dt.lanes|=u,Fn|=u,o=o.next;while(o!==e)}else o===null&&(i.lanes=0);return[n.memoizedState,i.dispatch]}function Vr(e){var n=Ee(),i=n.queue;if(i===null)throw Error(c(311));i.lastRenderedReducer=e;var l=i.dispatch,o=i.pending,u=n.memoizedState;if(o!==null){i.pending=null;var x=o=o.next;do u=e(u,x.action),x=x.next;while(x!==o);_e(u,n.memoizedState)||(Zt=!0),n.memoizedState=u,n.baseQueue===null&&(n.baseState=u),i.lastRenderedState=u}return[u,l]}function Ql(){}function Gl(e,n){var i=dt,l=Ee(),o=n(),u=!_e(l.memoizedState,o);if(u&&(l.memoizedState=o,Zt=!0),l=l.queue,er(Zl.bind(null,i,l,e),[e]),l.getSnapshot!==n||u||St!==null&&St.memoizedState.tag&1){if(i.flags|=2048,tr(9,Yl.bind(null,i,l,o,n),void 0,null),mt===null)throw Error(c(349));kn&30||Xl(i,n,o)}return o}function Xl(e,n,i){e.flags|=16384,e={getSnapshot:n,value:i},n=dt.updateQueue,n===null?(n={lastEffect:null,stores:null},dt.updateQueue=n,n.stores=[e]):(i=n.stores,i===null?n.stores=[e]:i.push(e))}function Yl(e,n,i,l){n.value=i,n.getSnapshot=l,Jl(n)&&ie(e,1,-1)}function Zl(e,n,i){return i(function(){Jl(n)&&ie(e,1,-1)})}function Jl(e){var n=e.getSnapshot;e=e.value;try{var i=n();return!_e(e,i)}catch{return!0}}function fs(e){var n=Ne();return typeof e=="function"&&(e=e()),n.memoizedState=n.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:on,lastRenderedState:e},n.queue=e,e=e.dispatch=xh.bind(null,dt,e),[n.memoizedState,e]}function tr(e,n,i,l){return e={tag:e,create:n,destroy:i,deps:l,next:null},n=dt.updateQueue,n===null?(n={lastEffect:null,stores:null},dt.updateQueue=n,n.lastEffect=e.next=e):(i=n.lastEffect,i===null?n.lastEffect=e.next=e:(l=i.next,i.next=e,e.next=l,n.lastEffect=e)),e}function Kl(){return Ee().memoizedState}function qr(e,n,i,l){var o=Ne();dt.flags|=e,o.memoizedState=tr(1|n,i,void 0,l===void 0?null:l)}function Qr(e,n,i,l){var o=Ee();l=l===void 0?null:l;var u=void 0;if(Ft!==null){var x=Ft.memoizedState;if(u=x.destroy,l!==null&&us(l,x.deps)){o.memoizedState=tr(n,i,u,l);return}}dt.flags|=e,o.memoizedState=tr(1|n,i,u,l)}function ds(e,n){return qr(8390656,8,e,n)}function er(e,n){return Qr(2048,8,e,n)}function bl(e,n){return Qr(4,2,e,n)}function $l(e,n){return Qr(4,4,e,n)}function to(e,n){if(typeof n=="function")return e=e(),n(e),function(){n(null)};if(n!=null)return e=e(),n.current=e,function(){n.current=null}}function eo(e,n,i){return i=i!=null?i.concat([e]):null,Qr(4,4,to.bind(null,n,e),i)}function ps(){}function no(e,n){var i=Ee();n=n===void 0?null:n;var l=i.memoizedState;return l!==null&&n!==null&&us(n,l[1])?l[0]:(i.memoizedState=[e,n],e)}function ro(e,n){var i=Ee();n=n===void 0?null:n;var l=i.memoizedState;return l!==null&&n!==null&&us(n,l[1])?l[0]:(e=e(),i.memoizedState=[e,n],e)}function yh(e,n){var i=$;$=i!==0&&4>i?i:4,e(!0);var l=re.transition;re.transition={};try{e(!1),n()}finally{$=i,re.transition=l}}function io(){return Ee().memoizedState}function gh(e,n,i){var l=Ve(e);i={lane:l,action:i,hasEagerState:!1,eagerState:null,next:null},so(e)?lo(n,i):(oo(e,n,i),i=It(),e=ie(e,l,i),e!==null&&ao(e,n,l))}function xh(e,n,i){var l=Ve(e),o={lane:l,action:i,hasEagerState:!1,eagerState:null,next:null};if(so(e))lo(n,o);else{oo(e,n,o);var u=e.alternate;if(e.lanes===0&&(u===null||u.lanes===0)&&(u=n.lastRenderedReducer,u!==null))try{var x=n.lastRenderedState,w=u(x,i);if(o.hasEagerState=!0,o.eagerState=w,_e(w,x))return}catch{}finally{}i=It(),e=ie(e,l,i),e!==null&&ao(e,n,l)}}function so(e){var n=e.alternate;return e===dt||n!==null&&n===dt}function lo(e,n){bn=Hr=!0;var i=e.pending;i===null?n.next=n:(n.next=i.next,i.next=n),e.pending=n}function oo(e,n,i){mt!==null&&e.mode&1&&!(J&2)?(e=n.interleaved,e===null?(i.next=i,Me===null?Me=[n]:Me.push(n)):(i.next=e.next,e.next=i),n.interleaved=i):(e=n.pending,e===null?i.next=i:(i.next=e.next,e.next=i),n.pending=i)}function ao(e,n,i){if(i&4194240){var l=n.lanes;l&=e.pendingLanes,i|=l,n.lanes=i,ji(e,i)}}var Gr={readContext:$t,useCallback:Ct,useContext:Ct,useEffect:Ct,useImperativeHandle:Ct,useInsertionEffect:Ct,useLayoutEffect:Ct,useMemo:Ct,useReducer:Ct,useRef:Ct,useState:Ct,useDebugValue:Ct,useDeferredValue:Ct,useTransition:Ct,useMutableSource:Ct,useSyncExternalStore:Ct,useId:Ct,unstable_isNewReconciler:!1},vh={readContext:$t,useCallback:function(e,n){return Ne().memoizedState=[e,n===void 0?null:n],e},useContext:$t,useEffect:ds,useImperativeHandle:function(e,n,i){return i=i!=null?i.concat([e]):null,qr(4194308,4,to.bind(null,n,e),i)},useLayoutEffect:function(e,n){return qr(4194308,4,e,n)},useInsertionEffect:function(e,n){return qr(4,2,e,n)},useMemo:function(e,n){var i=Ne();return n=n===void 0?null:n,e=e(),i.memoizedState=[e,n],e},useReducer:function(e,n,i){var l=Ne();return n=i!==void 0?i(n):n,l.memoizedState=l.baseState=n,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:n},l.queue=e,e=e.dispatch=gh.bind(null,dt,e),[l.memoizedState,e]},useRef:function(e){var n=Ne();return e={current:e},n.memoizedState=e},useState:fs,useDebugValue:ps,useDeferredValue:function(e){var n=fs(e),i=n[0],l=n[1];return ds(function(){var o=re.transition;re.transition={};try{l(e)}finally{re.transition=o}},[e]),i},useTransition:function(){var e=fs(!1),n=e[0];return e=yh.bind(null,e[1]),Ne().memoizedState=e,[n,e]},useMutableSource:function(){},useSyncExternalStore:function(e,n,i){var l=dt,o=Ne();if(ot){if(i===void 0)throw Error(c(407));i=i()}else{if(i=n(),mt===null)throw Error(c(349));kn&30||Xl(l,n,i)}o.memoizedState=i;var u={value:i,getSnapshot:n};return o.queue=u,ds(Zl.bind(null,l,u,e),[e]),l.flags|=2048,tr(9,Yl.bind(null,l,u,i,n),void 0,null),i},useId:function(){var e=Ne(),n=mt.identifierPrefix;if(ot){var i=Pe,l=Te;i=(l&~(1<<32-ue(l)-1)).toString(32)+i,n=":"+n+"R"+i,i=$n++,0<i&&(n+="H"+i.toString(32)),n+=":"}else i=mh++,n=":"+n+"r"+i.toString(32)+":";return e.memoizedState=n},unstable_isNewReconciler:!1},Sh={readContext:$t,useCallback:no,useContext:$t,useEffect:er,useImperativeHandle:eo,useInsertionEffect:bl,useLayoutEffect:$l,useMemo:ro,useReducer:jr,useRef:Kl,useState:function(){return jr(on)},useDebugValue:ps,useDeferredValue:function(e){var n=jr(on),i=n[0],l=n[1];return er(function(){var o=re.transition;re.transition={};try{l(e)}finally{re.transition=o}},[e]),i},useTransition:function(){var e=jr(on)[0],n=Ee().memoizedState;return[e,n]},useMutableSource:Ql,useSyncExternalStore:Gl,useId:io,unstable_isNewReconciler:!1},_h={readContext:$t,useCallback:no,useContext:$t,useEffect:er,useImperativeHandle:eo,useInsertionEffect:bl,useLayoutEffect:$l,useMemo:ro,useReducer:Vr,useRef:Kl,useState:function(){return Vr(on)},useDebugValue:ps,useDeferredValue:function(e){var n=Vr(on),i=n[0],l=n[1];return er(function(){var o=re.transition;re.transition={};try{l(e)}finally{re.transition=o}},[e]),i},useTransition:function(){var e=Vr(on)[0],n=Ee().memoizedState;return[e,n]},useMutableSource:Ql,useSyncExternalStore:Gl,useId:io,unstable_isNewReconciler:!1};function ms(e,n){try{var i="",l=n;do i+=ph(l),l=l.return;while(l);var o=i}catch(u){o=`
Error generating stack: `+u.message+`
`+u.stack}return{value:e,source:n,stack:o}}function ys(e,n){try{console.error(n.value)}catch(i){setTimeout(function(){throw i})}}var wh=typeof WeakMap=="function"?WeakMap:Map;function uo(e,n,i){i=Re(-1,i),i.tag=3,i.payload={element:null};var l=n.value;return i.callback=function(){ai||(ai=!0,Bs=l),ys(e,n)},i}function ho(e,n,i){i=Re(-1,i),i.tag=3;var l=e.type.getDerivedStateFromError;if(typeof l=="function"){var o=n.value;i.payload=function(){return l(o)},i.callback=function(){ys(e,n)}}var u=e.stateNode;return u!==null&&typeof u.componentDidCatch=="function"&&(i.callback=function(){ys(e,n),typeof l!="function"&&(He===null?He=new Set([this]):He.add(this));var x=n.stack;this.componentDidCatch(n.value,{componentStack:x!==null?x:""})}),i}function co(e,n,i){var l=e.pingCache;if(l===null){l=e.pingCache=new wh;var o=new Set;l.set(n,o)}else o=l.get(n),o===void 0&&(o=new Set,l.set(n,o));o.has(i)||(o.add(i),e=Dh.bind(null,e,n,i),n.then(e,e))}function fo(e){do{var n;if((n=e.tag===13)&&(n=e.memoizedState,n=n!==null?n.dehydrated!==null:!0),n)return e;e=e.return}while(e!==null);return null}function po(e,n,i,l,o){return e.mode&1?(e.flags|=65536,e.lanes=o,e):(e===n?e.flags|=65536:(e.flags|=128,i.flags|=131072,i.flags&=-52805,i.tag===1&&(i.alternate===null?i.tag=17:(n=Re(-1,1),n.tag=2,We(i,n))),i.lanes|=1),e)}function ke(e){e.flags|=4}function mo(e,n){if(e!==null&&e.child===n.child)return!0;if(n.flags&16)return!1;for(e=n.child;e!==null;){if(e.flags&12854||e.subtreeFlags&12854)return!1;e=e.sibling}return!0}var nr,rr,Xr,Yr;if(ae)nr=function(e,n){for(var i=n.child;i!==null;){if(i.tag===5||i.tag===6)ft(e,i.stateNode);else if(i.tag!==4&&i.child!==null){i.child.return=i,i=i.child;continue}if(i===n)break;for(;i.sibling===null;){if(i.return===null||i.return===n)return;i=i.return}i.sibling.return=i.return,i=i.sibling}},rr=function(){},Xr=function(e,n,i,l,o){if(e=e.memoizedProps,e!==l){var u=n.stateNode,x=ze(ne.current);i=xe(u,i,e,l,o,x),(n.updateQueue=i)&&ke(n)}},Yr=function(e,n,i,l){i!==l&&ke(n)};else if(wr){nr=function(e,n,i,l){for(var o=n.child;o!==null;){if(o.tag===5){var u=o.stateNode;i&&l&&(u=vl(u,o.type,o.memoizedProps,o)),ft(e,u)}else if(o.tag===6)u=o.stateNode,i&&l&&(u=Sl(u,o.memoizedProps,o)),ft(e,u);else if(o.tag!==4){if(o.tag===22&&o.memoizedState!==null)u=o.child,u!==null&&(u.return=o),nr(e,o,!0,!0);else if(o.child!==null){o.child.return=o,o=o.child;continue}}if(o===n)break;for(;o.sibling===null;){if(o.return===null||o.return===n)return;o=o.return}o.sibling.return=o.return,o=o.sibling}};var yo=function(e,n,i,l){for(var o=n.child;o!==null;){if(o.tag===5){var u=o.stateNode;i&&l&&(u=vl(u,o.type,o.memoizedProps,o)),gl(e,u)}else if(o.tag===6)u=o.stateNode,i&&l&&(u=Sl(u,o.memoizedProps,o)),gl(e,u);else if(o.tag!==4){if(o.tag===22&&o.memoizedState!==null)u=o.child,u!==null&&(u.return=o),yo(e,o,!0,!0);else if(o.child!==null){o.child.return=o,o=o.child;continue}}if(o===n)break;for(;o.sibling===null;){if(o.return===null||o.return===n)return;o=o.return}o.sibling.return=o.return,o=o.sibling}};rr=function(e,n){var i=n.stateNode;if(!mo(e,n)){e=i.containerInfo;var l=yl(e);yo(l,n,!1,!1),i.pendingChildren=l,ke(n),Iu(e,l)}},Xr=function(e,n,i,l,o){var u=e.stateNode,x=e.memoizedProps;if((e=mo(e,n))&&x===l)n.stateNode=u;else{var w=n.stateNode,A=ze(ne.current),R=null;x!==l&&(R=xe(w,i,x,l,o,A)),e&&R===null?n.stateNode=u:(u=Bu(u,R,i,x,l,n,e,w),tn(u,i,l,o,A)&&ke(n),n.stateNode=u,e?ke(n):nr(u,n,!1,!1))}},Yr=function(e,n,i,l){i!==l?(e=ze(zn.current),i=ze(ne.current),n.stateNode=ve(l,e,i,n),ke(n)):n.stateNode=e.stateNode}}else rr=function(){},Xr=function(){},Yr=function(){};function ir(e,n){if(!ot)switch(e.tailMode){case"hidden":n=e.tail;for(var i=null;n!==null;)n.alternate!==null&&(i=n),n=n.sibling;i===null?e.tail=null:i.sibling=null;break;case"collapsed":i=e.tail;for(var l=null;i!==null;)i.alternate!==null&&(l=i),i=i.sibling;l===null?n||e.tail===null?e.tail=null:e.tail.sibling=null:l.sibling=null}}function Rt(e){var n=e.alternate!==null&&e.alternate.child===e.child,i=0,l=0;if(n)for(var o=e.child;o!==null;)i|=o.lanes|o.childLanes,l|=o.subtreeFlags&14680064,l|=o.flags&14680064,o.return=e,o=o.sibling;else for(o=e.child;o!==null;)i|=o.lanes|o.childLanes,l|=o.subtreeFlags,l|=o.flags,o.return=e,o=o.sibling;return e.subtreeFlags|=l,e.childLanes=i,n}function Mh(e,n,i){var l=n.pendingProps;switch(es(n),n.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Rt(n),null;case 1:return Ot(n.type)&&Mr(),Rt(n),null;case 3:return l=n.stateNode,En(),lt(Lt),lt(At),as(),l.pendingContext&&(l.context=l.pendingContext,l.pendingContext=null),(e===null||e.child===null)&&(Yn(n)?ke(n):e===null||e.memoizedState.isDehydrated&&!(n.flags&256)||(n.flags|=1024,ce!==null&&(Ls(ce),ce=null))),rr(e,n),Rt(n),null;case 5:ls(n),i=ze(zn.current);var o=n.type;if(e!==null&&n.stateNode!=null)Xr(e,n,o,l,i),e.ref!==n.ref&&(n.flags|=512,n.flags|=2097152);else{if(!l){if(n.stateNode===null)throw Error(c(166));return Rt(n),null}if(e=ze(ne.current),Yn(n)){if(!Gt)throw Error(c(175));e=Vu(n.stateNode,n.type,n.memoizedProps,i,e,n,!Xn),n.updateQueue=e,e!==null&&ke(n)}else{var u=nt(o,l,i,e,n);nr(u,n,!1,!1),n.stateNode=u,tn(u,o,l,i,e)&&ke(n)}n.ref!==null&&(n.flags|=512,n.flags|=2097152)}return Rt(n),null;case 6:if(e&&n.stateNode!=null)Yr(e,n,e.memoizedProps,l);else{if(typeof l!="string"&&n.stateNode===null)throw Error(c(166));if(e=ze(zn.current),i=ze(ne.current),Yn(n)){if(!Gt)throw Error(c(176));if(e=n.stateNode,l=n.memoizedProps,(i=qu(e,l,n,!Xn))&&(o=Xt,o!==null))switch(u=(o.mode&1)!==0,o.tag){case 3:Ku(o.stateNode.containerInfo,e,l,u);break;case 5:bu(o.type,o.memoizedProps,o.stateNode,e,l,u)}i&&ke(n)}else n.stateNode=ve(l,e,i,n)}return Rt(n),null;case 13:if(lt(ct),l=n.memoizedState,ot&&Yt!==null&&n.mode&1&&!(n.flags&128)){for(e=Yt;e;)e=Vn(e);return wn(),n.flags|=98560,n}if(l!==null&&l.dehydrated!==null){if(l=Yn(n),e===null){if(!l)throw Error(c(318));if(!Gt)throw Error(c(344));if(e=n.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(c(317));Qu(e,n)}else wn(),!(n.flags&128)&&(n.memoizedState=null),n.flags|=4;return Rt(n),null}return ce!==null&&(Ls(ce),ce=null),n.flags&128?(n.lanes=i,n):(l=l!==null,i=!1,e===null?Yn(n):i=e.memoizedState!==null,l&&!i&&(n.child.flags|=8192,n.mode&1&&(e===null||ct.current&1?xt===0&&(xt=3):Us())),n.updateQueue!==null&&(n.flags|=4),Rt(n),null);case 4:return En(),rr(e,n),e===null&&uu(n.stateNode.containerInfo),Rt(n),null;case 10:return Zi(n.type._context),Rt(n),null;case 17:return Ot(n.type)&&Mr(),Rt(n),null;case 19:if(lt(ct),o=n.memoizedState,o===null)return Rt(n),null;if(l=(n.flags&128)!==0,u=o.rendering,u===null)if(l)ir(o,!1);else{if(xt!==0||e!==null&&e.flags&128)for(e=n.child;e!==null;){if(u=Ur(e),u!==null){for(n.flags|=128,ir(o,!1),e=u.updateQueue,e!==null&&(n.updateQueue=e,n.flags|=4),n.subtreeFlags=0,e=i,l=n.child;l!==null;)i=l,o=e,i.flags&=14680066,u=i.alternate,u===null?(i.childLanes=0,i.lanes=o,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=u.childLanes,i.lanes=u.lanes,i.child=u.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=u.memoizedProps,i.memoizedState=u.memoizedState,i.updateQueue=u.updateQueue,i.type=u.type,o=u.dependencies,i.dependencies=o===null?null:{lanes:o.lanes,firstContext:o.firstContext}),l=l.sibling;return it(ct,ct.current&1|2),n.child}e=e.sibling}o.tail!==null&&vt()>Ns&&(n.flags|=128,l=!0,ir(o,!1),n.lanes=4194304)}else{if(!l)if(e=Ur(u),e!==null){if(n.flags|=128,l=!0,e=e.updateQueue,e!==null&&(n.updateQueue=e,n.flags|=4),ir(o,!0),o.tail===null&&o.tailMode==="hidden"&&!u.alternate&&!ot)return Rt(n),null}else 2*vt()-o.renderingStartTime>Ns&&i!==1073741824&&(n.flags|=128,l=!0,ir(o,!1),n.lanes=4194304);o.isBackwards?(u.sibling=n.child,n.child=u):(e=o.last,e!==null?e.sibling=u:n.child=u,o.last=u)}return o.tail!==null?(n=o.tail,o.rendering=n,o.tail=n.sibling,o.renderingStartTime=vt(),n.sibling=null,e=ct.current,it(ct,l?e&1|2:e&1),n):(Rt(n),null);case 22:case 23:return Os(),l=n.memoizedState!==null,e!==null&&e.memoizedState!==null!==l&&(n.flags|=8192),l&&n.mode&1?Jt&1073741824&&(Rt(n),ae&&n.subtreeFlags&6&&(n.flags|=8192)):Rt(n),null;case 24:return null;case 25:return null}throw Error(c(156,n.tag))}var zh=m.ReactCurrentOwner,Zt=!1;function Bt(e,n,i,l){n.child=e===null?Vl(n,null,i,l):Mn(n,e.child,i,l)}function go(e,n,i,l,o){i=i.render;var u=n.ref;return vn(n,o),l=hs(e,n,i,l,u,o),i=cs(),e!==null&&!Zt?(n.updateQueue=e.updateQueue,n.flags&=-2053,e.lanes&=~o,Be(e,n,o)):(ot&&i&&ts(n),n.flags|=1,Bt(e,n,l,o),n.child)}function xo(e,n,i,l,o){if(e===null){var u=i.type;return typeof u=="function"&&!Ws(u)&&u.defaultProps===void 0&&i.compare===null&&i.defaultProps===void 0?(n.tag=15,n.type=u,vo(e,n,u,l,o)):(e=mi(i.type,null,l,n,n.mode,o),e.ref=n.ref,e.return=n,n.child=e)}if(u=e.child,!(e.lanes&o)){var x=u.memoizedProps;if(i=i.compare,i=i!==null?i:Rr,i(x,l)&&e.ref===n.ref)return Be(e,n,o)}return n.flags|=1,e=Qe(u,l),e.ref=n.ref,e.return=n,n.child=e}function vo(e,n,i,l,o){if(e!==null&&Rr(e.memoizedProps,l)&&e.ref===n.ref)if(Zt=!1,(e.lanes&o)!==0)e.flags&131072&&(Zt=!0);else return n.lanes=e.lanes,Be(e,n,o);return gs(e,n,i,l,o)}function So(e,n,i){var l=n.pendingProps,o=l.children,u=e!==null?e.memoizedState:null;if(l.mode==="hidden")if(!(n.mode&1))n.memoizedState={baseLanes:0,cachePool:null},it(An,Jt),Jt|=i;else if(i&1073741824)n.memoizedState={baseLanes:0,cachePool:null},l=u!==null?u.baseLanes:i,it(An,Jt),Jt|=l;else return e=u!==null?u.baseLanes|i:i,n.lanes=n.childLanes=1073741824,n.memoizedState={baseLanes:e,cachePool:null},n.updateQueue=null,it(An,Jt),Jt|=e,null;else u!==null?(l=u.baseLanes|i,n.memoizedState=null):l=i,it(An,Jt),Jt|=l;return Bt(e,n,o,i),n.child}function _o(e,n){var i=n.ref;(e===null&&i!==null||e!==null&&e.ref!==i)&&(n.flags|=512,n.flags|=2097152)}function gs(e,n,i,l,o){var u=Ot(i)?rn:At.current;return u=gn(n,u),vn(n,o),i=hs(e,n,i,l,u,o),l=cs(),e!==null&&!Zt?(n.updateQueue=e.updateQueue,n.flags&=-2053,e.lanes&=~o,Be(e,n,o)):(ot&&l&&ts(n),n.flags|=1,Bt(e,n,i,o),n.child)}function wo(e,n,i,l,o){if(Ot(i)){var u=!0;zr(n)}else u=!1;if(vn(n,o),n.stateNode===null)e!==null&&(e.alternate=null,n.alternate=null,n.flags|=2),Il(n,i,l),$i(n,i,l,o),l=!0;else if(e===null){var x=n.stateNode,w=n.memoizedProps;x.props=w;var A=x.context,R=i.contextType;typeof R=="object"&&R!==null?R=$t(R):(R=Ot(i)?rn:At.current,R=gn(n,R));var L=i.getDerivedStateFromProps,G=typeof L=="function"||typeof x.getSnapshotBeforeUpdate=="function";G||typeof x.UNSAFE_componentWillReceiveProps!="function"&&typeof x.componentWillReceiveProps!="function"||(w!==l||A!==R)&&Dl(n,x,l,R),Ue=!1;var j=n.memoizedState;x.state=j,Br(n,l,x,o),A=n.memoizedState,w!==l||j!==A||Lt.current||Ue?(typeof L=="function"&&(bi(n,i,L,l),A=n.memoizedState),(w=Ue||Bl(n,i,w,l,j,A,R))?(G||typeof x.UNSAFE_componentWillMount!="function"&&typeof x.componentWillMount!="function"||(typeof x.componentWillMount=="function"&&x.componentWillMount(),typeof x.UNSAFE_componentWillMount=="function"&&x.UNSAFE_componentWillMount()),typeof x.componentDidMount=="function"&&(n.flags|=4194308)):(typeof x.componentDidMount=="function"&&(n.flags|=4194308),n.memoizedProps=l,n.memoizedState=A),x.props=l,x.state=A,x.context=R,l=w):(typeof x.componentDidMount=="function"&&(n.flags|=4194308),l=!1)}else{x=n.stateNode,Rl(e,n),w=n.memoizedProps,R=n.type===n.elementType?w:he(n.type,w),x.props=R,G=n.pendingProps,j=x.context,A=i.contextType,typeof A=="object"&&A!==null?A=$t(A):(A=Ot(i)?rn:At.current,A=gn(n,A));var rt=i.getDerivedStateFromProps;(L=typeof rt=="function"||typeof x.getSnapshotBeforeUpdate=="function")||typeof x.UNSAFE_componentWillReceiveProps!="function"&&typeof x.componentWillReceiveProps!="function"||(w!==G||j!==A)&&Dl(n,x,l,A),Ue=!1,j=n.memoizedState,x.state=j,Br(n,l,x,o);var U=n.memoizedState;w!==G||j!==U||Lt.current||Ue?(typeof rt=="function"&&(bi(n,i,rt,l),U=n.memoizedState),(R=Ue||Bl(n,i,R,l,j,U,A)||!1)?(L||typeof x.UNSAFE_componentWillUpdate!="function"&&typeof x.componentWillUpdate!="function"||(typeof x.componentWillUpdate=="function"&&x.componentWillUpdate(l,U,A),typeof x.UNSAFE_componentWillUpdate=="function"&&x.UNSAFE_componentWillUpdate(l,U,A)),typeof x.componentDidUpdate=="function"&&(n.flags|=4),typeof x.getSnapshotBeforeUpdate=="function"&&(n.flags|=1024)):(typeof x.componentDidUpdate!="function"||w===e.memoizedProps&&j===e.memoizedState||(n.flags|=4),typeof x.getSnapshotBeforeUpdate!="function"||w===e.memoizedProps&&j===e.memoizedState||(n.flags|=1024),n.memoizedProps=l,n.memoizedState=U),x.props=l,x.state=U,x.context=A,l=R):(typeof x.componentDidUpdate!="function"||w===e.memoizedProps&&j===e.memoizedState||(n.flags|=4),typeof x.getSnapshotBeforeUpdate!="function"||w===e.memoizedProps&&j===e.memoizedState||(n.flags|=1024),l=!1)}return xs(e,n,i,l,u,o)}function xs(e,n,i,l,o,u){_o(e,n);var x=(n.flags&128)!==0;if(!l&&!x)return o&&El(n,i,!1),Be(e,n,u);l=n.stateNode,zh.current=n;var w=x&&typeof i.getDerivedStateFromError!="function"?null:l.render();return n.flags|=1,e!==null&&x?(n.child=Mn(n,e.child,null,u),n.child=Mn(n,null,w,u)):Bt(e,n,w,u),n.memoizedState=l.state,o&&El(n,i,!0),n.child}function Mo(e){var n=e.stateNode;n.pendingContext?Ml(e,n.pendingContext,n.pendingContext!==n.context):n.context&&Ml(e,n.context,!1),ss(e,n.containerInfo)}function zo(e,n,i,l,o){return wn(),is(o),n.flags|=256,Bt(e,n,i,l),n.child}var Zr={dehydrated:null,treeContext:null,retryLane:0};function Jr(e){return{baseLanes:e,cachePool:null}}function Eo(e,n,i){var l=n.pendingProps,o=ct.current,u=!1,x=(n.flags&128)!==0,w;if((w=x)||(w=e!==null&&e.memoizedState===null?!1:(o&2)!==0),w?(u=!0,n.flags&=-129):(e===null||e.memoizedState!==null)&&(o|=1),it(ct,o&1),e===null)return rs(n),e=n.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(n.mode&1?Ii(e)?n.lanes=8:n.lanes=1073741824:n.lanes=1,null):(o=l.children,e=l.fallback,u?(l=n.mode,u=n.child,o={mode:"hidden",children:o},!(l&1)&&u!==null?(u.childLanes=0,u.pendingProps=o):u=yi(o,l,0,null),e=dn(e,l,i,null),u.return=n,e.return=n,u.sibling=e,n.child=u,n.child.memoizedState=Jr(i),n.memoizedState=Zr,e):vs(n,o));if(o=e.memoizedState,o!==null){if(w=o.dehydrated,w!==null){if(x)return n.flags&256?(n.flags&=-257,Kr(e,n,i,Error(c(422)))):n.memoizedState!==null?(n.child=e.child,n.flags|=128,null):(u=l.fallback,o=n.mode,l=yi({mode:"visible",children:l.children},o,0,null),u=dn(u,o,i,null),u.flags|=2,l.return=n,u.return=n,l.sibling=u,n.child=l,n.mode&1&&Mn(n,e.child,null,i),n.child.memoizedState=Jr(i),n.memoizedState=Zr,u);if(!(n.mode&1))n=Kr(e,n,i,null);else if(Ii(w))n=Kr(e,n,i,Error(c(419)));else if(l=(i&e.childLanes)!==0,Zt||l){if(l=mt,l!==null){switch(i&-i){case 4:u=2;break;case 16:u=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:u=32;break;case 536870912:u=268435456;break;default:u=0}l=u&(l.suspendedLanes|i)?0:u,l!==0&&l!==o.retryLane&&(o.retryLane=l,ie(e,l,-1))}Us(),n=Kr(e,n,i,Error(c(421)))}else _l(w)?(n.flags|=128,n.child=e.child,n=Lh.bind(null,e),Uu(w,n),n=null):(i=o.treeContext,Gt&&(Yt=ju(w),Xt=n,ot=!0,ce=null,Xn=!1,i!==null&&(te[ee++]=Te,te[ee++]=Pe,te[ee++]=sn,Te=i.id,Pe=i.overflow,sn=n)),n=vs(n,n.pendingProps.children),n.flags|=4096);return n}return u?(l=Ao(e,n,l.children,l.fallback,i),u=n.child,o=e.child.memoizedState,u.memoizedState=o===null?Jr(i):{baseLanes:o.baseLanes|i,cachePool:null},u.childLanes=e.childLanes&~i,n.memoizedState=Zr,l):(i=ko(e,n,l.children,i),n.memoizedState=null,i)}return u?(l=Ao(e,n,l.children,l.fallback,i),u=n.child,o=e.child.memoizedState,u.memoizedState=o===null?Jr(i):{baseLanes:o.baseLanes|i,cachePool:null},u.childLanes=e.childLanes&~i,n.memoizedState=Zr,l):(i=ko(e,n,l.children,i),n.memoizedState=null,i)}function vs(e,n){return n=yi({mode:"visible",children:n},e.mode,0,null),n.return=e,e.child=n}function ko(e,n,i,l){var o=e.child;return e=o.sibling,i=Qe(o,{mode:"visible",children:i}),!(n.mode&1)&&(i.lanes=l),i.return=n,i.sibling=null,e!==null&&(l=n.deletions,l===null?(n.deletions=[e],n.flags|=16):l.push(e)),n.child=i}function Ao(e,n,i,l,o){var u=n.mode;e=e.child;var x=e.sibling,w={mode:"hidden",children:i};return!(u&1)&&n.child!==e?(i=n.child,i.childLanes=0,i.pendingProps=w,n.deletions=null):(i=Qe(e,w),i.subtreeFlags=e.subtreeFlags&14680064),x!==null?l=Qe(x,l):(l=dn(l,u,o,null),l.flags|=2),l.return=n,i.return=n,i.sibling=l,n.child=i,l}function Kr(e,n,i,l){return l!==null&&is(l),Mn(n,e.child,null,i),e=vs(n,n.pendingProps.children),e.flags|=2,n.memoizedState=null,e}function Fo(e,n,i){e.lanes|=n;var l=e.alternate;l!==null&&(l.lanes|=n),Ji(e.return,n,i)}function Ss(e,n,i,l,o){var u=e.memoizedState;u===null?e.memoizedState={isBackwards:n,rendering:null,renderingStartTime:0,last:l,tail:i,tailMode:o}:(u.isBackwards=n,u.rendering=null,u.renderingStartTime=0,u.last=l,u.tail=i,u.tailMode=o)}function Co(e,n,i){var l=n.pendingProps,o=l.revealOrder,u=l.tail;if(Bt(e,n,l.children,i),l=ct.current,l&2)l=l&1|2,n.flags|=128;else{if(e!==null&&e.flags&128)t:for(e=n.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&Fo(e,i,n);else if(e.tag===19)Fo(e,i,n);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===n)break t;for(;e.sibling===null;){if(e.return===null||e.return===n)break t;e=e.return}e.sibling.return=e.return,e=e.sibling}l&=1}if(it(ct,l),!(n.mode&1))n.memoizedState=null;else switch(o){case"forwards":for(i=n.child,o=null;i!==null;)e=i.alternate,e!==null&&Ur(e)===null&&(o=i),i=i.sibling;i=o,i===null?(o=n.child,n.child=null):(o=i.sibling,i.sibling=null),Ss(n,!1,o,i,u);break;case"backwards":for(i=null,o=n.child,n.child=null;o!==null;){if(e=o.alternate,e!==null&&Ur(e)===null){n.child=o;break}e=o.sibling,o.sibling=i,i=o,o=e}Ss(n,!0,i,null,u);break;case"together":Ss(n,!1,null,null,void 0);break;default:n.memoizedState=null}return n.child}function Be(e,n,i){if(e!==null&&(n.dependencies=e.dependencies),Fn|=n.lanes,!(i&n.childLanes))return null;if(e!==null&&n.child!==e.child)throw Error(c(153));if(n.child!==null){for(e=n.child,i=Qe(e,e.pendingProps),n.child=i,i.return=n;e.sibling!==null;)e=e.sibling,i=i.sibling=Qe(e,e.pendingProps),i.return=n;i.sibling=null}return n.child}function Eh(e,n,i){switch(n.tag){case 3:Mo(n),wn();break;case 5:ql(n);break;case 1:Ot(n.type)&&zr(n);break;case 4:ss(n,n.stateNode.containerInfo);break;case 10:Cl(n,n.type._context,n.memoizedProps.value);break;case 13:var l=n.memoizedState;if(l!==null)return l.dehydrated!==null?(it(ct,ct.current&1),n.flags|=128,null):i&n.child.childLanes?Eo(e,n,i):(it(ct,ct.current&1),e=Be(e,n,i),e!==null?e.sibling:null);it(ct,ct.current&1);break;case 19:if(l=(i&n.childLanes)!==0,e.flags&128){if(l)return Co(e,n,i);n.flags|=128}var o=n.memoizedState;if(o!==null&&(o.rendering=null,o.tail=null,o.lastEffect=null),it(ct,ct.current),l)break;return null;case 22:case 23:return n.lanes=0,So(e,n,i)}return Be(e,n,i)}function kh(e,n){switch(es(n),n.tag){case 1:return Ot(n.type)&&Mr(),e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 3:return En(),lt(Lt),lt(At),as(),e=n.flags,e&65536&&!(e&128)?(n.flags=e&-65537|128,n):null;case 5:return ls(n),null;case 13:if(lt(ct),e=n.memoizedState,e!==null&&e.dehydrated!==null){if(n.alternate===null)throw Error(c(340));wn()}return e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 19:return lt(ct),null;case 4:return En(),null;case 10:return Zi(n.type._context),null;case 22:case 23:return Os(),null;case 24:return null;default:return null}}var br=!1,an=!1,Ah=typeof WeakSet=="function"?WeakSet:Set,P=null;function $r(e,n){var i=e.ref;if(i!==null)if(typeof i=="function")try{i(null)}catch(l){Ht(e,n,l)}else i.current=null}function _s(e,n,i){try{i()}catch(l){Ht(e,n,l)}}var Ro=!1;function Fh(e,n){for(V(e.containerInfo),P=n;P!==null;)if(e=P,n=e.child,(e.subtreeFlags&1028)!==0&&n!==null)n.return=e,P=n;else for(;P!==null;){e=P;try{var i=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(i!==null){var l=i.memoizedProps,o=i.memoizedState,u=e.stateNode,x=u.getSnapshotBeforeUpdate(e.elementType===e.type?l:he(e.type,l),o);u.__reactInternalSnapshotBeforeUpdate=x}break;case 3:ae&&Nu(e.stateNode.containerInfo);break;case 5:case 6:case 4:case 17:break;default:throw Error(c(163))}}catch(w){Ht(e,e.return,w)}if(n=e.sibling,n!==null){n.return=e.return,P=n;break}P=e.return}return i=Ro,Ro=!1,i}function un(e,n,i){var l=n.updateQueue;if(l=l!==null?l.lastEffect:null,l!==null){var o=l=l.next;do{if((o.tag&e)===e){var u=o.destroy;o.destroy=void 0,u!==void 0&&_s(n,i,u)}o=o.next}while(o!==l)}}function sr(e,n){if(n=n.updateQueue,n=n!==null?n.lastEffect:null,n!==null){var i=n=n.next;do{if((i.tag&e)===e){var l=i.create;i.destroy=l()}i=i.next}while(i!==n)}}function ws(e){var n=e.ref;if(n!==null){var i=e.stateNode;switch(e.tag){case 5:e=kt(i);break;default:e=i}typeof n=="function"?n(e):n.current=e}}function To(e,n,i){if(Se&&typeof Se.onCommitFiberUnmount=="function")try{Se.onCommitFiberUnmount(Fr,n)}catch{}switch(n.tag){case 0:case 11:case 14:case 15:if(e=n.updateQueue,e!==null&&(e=e.lastEffect,e!==null)){var l=e=e.next;do{var o=l,u=o.destroy;o=o.tag,u!==void 0&&(o&2||o&4)&&_s(n,i,u),l=l.next}while(l!==e)}break;case 1:if($r(n,i),e=n.stateNode,typeof e.componentWillUnmount=="function")try{e.props=n.memoizedProps,e.state=n.memoizedState,e.componentWillUnmount()}catch(x){Ht(n,i,x)}break;case 5:$r(n,i);break;case 4:ae?Lo(e,n,i):wr&&wr&&(n=n.stateNode.containerInfo,i=yl(n),xl(n,i))}}function Po(e,n,i){for(var l=n;;)if(To(e,l,i),l.child===null||ae&&l.tag===4){if(l===n)break;for(;l.sibling===null;){if(l.return===null||l.return===n)return;l=l.return}l.sibling.return=l.return,l=l.sibling}else l.child.return=l,l=l.child}function No(e){var n=e.alternate;n!==null&&(e.alternate=null,No(n)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(n=e.stateNode,n!==null&&cu(n)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function Bo(e){return e.tag===5||e.tag===3||e.tag===4}function Io(e){t:for(;;){for(;e.sibling===null;){if(e.return===null||Bo(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue t;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function Do(e){if(ae){t:{for(var n=e.return;n!==null;){if(Bo(n))break t;n=n.return}throw Error(c(160))}var i=n;switch(i.tag){case 5:n=i.stateNode,i.flags&32&&(ml(n),i.flags&=-33),i=Io(e),zs(e,i,n);break;case 3:case 4:n=i.stateNode.containerInfo,i=Io(e),Ms(e,i,n);break;default:throw Error(c(161))}}}function Ms(e,n,i){var l=e.tag;if(l===5||l===6)e=e.stateNode,n?ku(i,e,n):_u(i,e);else if(l!==4&&(e=e.child,e!==null))for(Ms(e,n,i),e=e.sibling;e!==null;)Ms(e,n,i),e=e.sibling}function zs(e,n,i){var l=e.tag;if(l===5||l===6)e=e.stateNode,n?Eu(i,e,n):Su(i,e);else if(l!==4&&(e=e.child,e!==null))for(zs(e,n,i),e=e.sibling;e!==null;)zs(e,n,i),e=e.sibling}function Lo(e,n,i){for(var l=n,o=!1,u,x;;){if(!o){o=l.return;t:for(;;){if(o===null)throw Error(c(160));switch(u=o.stateNode,o.tag){case 5:x=!1;break t;case 3:u=u.containerInfo,x=!0;break t;case 4:u=u.containerInfo,x=!0;break t}o=o.return}o=!0}if(l.tag===5||l.tag===6)Po(e,l,i),x?Fu(u,l.stateNode):Au(u,l.stateNode);else if(l.tag===18)x?Zu(u,l.stateNode):Yu(u,l.stateNode);else if(l.tag===4){if(l.child!==null){u=l.stateNode.containerInfo,x=!0,l.child.return=l,l=l.child;continue}}else if(To(e,l,i),l.child!==null){l.child.return=l,l=l.child;continue}if(l===n)break;for(;l.sibling===null;){if(l.return===null||l.return===n)return;l=l.return,l.tag===4&&(o=!1)}l.sibling.return=l.return,l=l.sibling}}function Es(e,n){if(ae){switch(n.tag){case 0:case 11:case 14:case 15:un(3,n,n.return),sr(3,n),un(5,n,n.return);return;case 1:return;case 5:var i=n.stateNode;if(i!=null){var l=n.memoizedProps;e=e!==null?e.memoizedProps:l;var o=n.type,u=n.updateQueue;n.updateQueue=null,u!==null&&zu(i,u,o,e,l,n)}return;case 6:if(n.stateNode===null)throw Error(c(162));i=n.memoizedProps,wu(n.stateNode,e!==null?e.memoizedProps:i,i);return;case 3:Gt&&e!==null&&e.memoizedState.isDehydrated&&wl(n.stateNode.containerInfo);return;case 12:return;case 13:ti(n);return;case 19:ti(n);return;case 17:return}throw Error(c(163))}switch(n.tag){case 0:case 11:case 14:case 15:un(3,n,n.return),sr(3,n),un(5,n,n.return);return;case 12:return;case 13:ti(n);return;case 19:ti(n);return;case 3:Gt&&e!==null&&e.memoizedState.isDehydrated&&wl(n.stateNode.containerInfo);break;case 22:case 23:return}t:if(wr){switch(n.tag){case 1:case 5:case 6:break t;case 3:case 4:n=n.stateNode,xl(n.containerInfo,n.pendingChildren);break t}throw Error(c(163))}}function ti(e){var n=e.updateQueue;if(n!==null){e.updateQueue=null;var i=e.stateNode;i===null&&(i=e.stateNode=new Ah),n.forEach(function(l){var o=Oh.bind(null,e,l);i.has(l)||(i.add(l),l.then(o,o))})}}function Ch(e,n){for(P=n;P!==null;){n=P;var i=n.deletions;if(i!==null)for(var l=0;l<i.length;l++){var o=i[l];try{var u=e;ae?Lo(u,o,n):Po(u,o,n);var x=o.alternate;x!==null&&(x.return=null),o.return=null}catch(O){Ht(o,n,O)}}if(i=n.child,n.subtreeFlags&12854&&i!==null)i.return=n,P=i;else for(;P!==null;){n=P;try{var w=n.flags;if(w&32&&ae&&ml(n.stateNode),w&512){var A=n.alternate;if(A!==null){var R=A.ref;R!==null&&(typeof R=="function"?R(null):R.current=null)}}if(w&8192)switch(n.tag){case 13:if(n.memoizedState!==null){var L=n.alternate;(L===null||L.memoizedState===null)&&(Ps=vt())}break;case 22:var G=n.memoizedState!==null,j=n.alternate,rt=j!==null&&j.memoizedState!==null;if(i=n,ae){t:if(l=i,o=G,u=null,ae)for(var U=l;;){if(U.tag===5){if(u===null){u=U;var Tt=U.stateNode;o?Cu(Tt):Tu(U.stateNode,U.memoizedProps)}}else if(U.tag===6){if(u===null){var le=U.stateNode;o?Ru(le):Pu(le,U.memoizedProps)}}else if((U.tag!==22&&U.tag!==23||U.memoizedState===null||U===l)&&U.child!==null){U.child.return=U,U=U.child;continue}if(U===l)break;for(;U.sibling===null;){if(U.return===null||U.return===l)break t;u===U&&(u=null),U=U.return}u===U&&(u=null),U.sibling.return=U.return,U=U.sibling}}if(G&&!rt&&i.mode&1){P=i;for(var z=i.child;z!==null;){for(i=P=z;P!==null;){l=P;var M=l.child;switch(l.tag){case 0:case 11:case 14:case 15:un(4,l,l.return);break;case 1:$r(l,l.return);var k=l.stateNode;if(typeof k.componentWillUnmount=="function"){var N=l.return;try{k.props=l.memoizedProps,k.state=l.memoizedState,k.componentWillUnmount()}catch(O){Ht(l,N,O)}}break;case 5:$r(l,l.return);break;case 22:if(l.memoizedState!==null){Wo(i);continue}}M!==null?(M.return=l,P=M):Wo(i)}z=z.sibling}}}switch(w&4102){case 2:Do(n),n.flags&=-3;break;case 6:Do(n),n.flags&=-3,Es(n.alternate,n);break;case 4096:n.flags&=-4097;break;case 4100:n.flags&=-4097,Es(n.alternate,n);break;case 4:Es(n.alternate,n)}}catch(O){Ht(n,n.return,O)}if(i=n.sibling,i!==null){i.return=n.return,P=i;break}P=n.return}}}function Rh(e,n,i){P=e,Oo(e)}function Oo(e,n,i){for(var l=(e.mode&1)!==0;P!==null;){var o=P,u=o.child;if(o.tag===22&&l){var x=o.memoizedState!==null||br;if(!x){var w=o.alternate,A=w!==null&&w.memoizedState!==null||an;w=br;var R=an;if(br=x,(an=A)&&!R)for(P=o;P!==null;)x=P,A=x.child,x.tag===22&&x.memoizedState!==null?Ho(o):A!==null?(A.return=x,P=A):Ho(o);for(;u!==null;)P=u,Oo(u),u=u.sibling;P=o,br=w,an=R}Uo(e)}else o.subtreeFlags&8772&&u!==null?(u.return=o,P=u):Uo(e)}}function Uo(e){for(;P!==null;){var n=P;if(n.flags&8772){var i=n.alternate;try{if(n.flags&8772)switch(n.tag){case 0:case 11:case 15:an||sr(5,n);break;case 1:var l=n.stateNode;if(n.flags&4&&!an)if(i===null)l.componentDidMount();else{var o=n.elementType===n.type?i.memoizedProps:he(n.type,i.memoizedProps);l.componentDidUpdate(o,i.memoizedState,l.__reactInternalSnapshotBeforeUpdate)}var u=n.updateQueue;u!==null&&Pl(n,u,l);break;case 3:var x=n.updateQueue;if(x!==null){if(i=null,n.child!==null)switch(n.child.tag){case 5:i=kt(n.child.stateNode);break;case 1:i=n.child.stateNode}Pl(n,x,i)}break;case 5:var w=n.stateNode;i===null&&n.flags&4&&Mu(w,n.type,n.memoizedProps,n);break;case 6:break;case 4:break;case 12:break;case 13:if(Gt&&n.memoizedState===null){var A=n.alternate;if(A!==null){var R=A.memoizedState;if(R!==null){var L=R.dehydrated;L!==null&&Xu(L)}}}break;case 19:case 17:case 21:case 22:case 23:break;default:throw Error(c(163))}an||n.flags&512&&ws(n)}catch(G){Ht(n,n.return,G)}}if(n===e){P=null;break}if(i=n.sibling,i!==null){i.return=n.return,P=i;break}P=n.return}}function Wo(e){for(;P!==null;){var n=P;if(n===e){P=null;break}var i=n.sibling;if(i!==null){i.return=n.return,P=i;break}P=n.return}}function Ho(e){for(;P!==null;){var n=P;try{switch(n.tag){case 0:case 11:case 15:var i=n.return;try{sr(4,n)}catch(A){Ht(n,i,A)}break;case 1:var l=n.stateNode;if(typeof l.componentDidMount=="function"){var o=n.return;try{l.componentDidMount()}catch(A){Ht(n,o,A)}}var u=n.return;try{ws(n)}catch(A){Ht(n,u,A)}break;case 5:var x=n.return;try{ws(n)}catch(A){Ht(n,x,A)}}}catch(A){Ht(n,n.return,A)}if(n===e){P=null;break}var w=n.sibling;if(w!==null){w.return=n.return,P=w;break}P=n.return}}var ei=0,ni=1,ri=2,ii=3,si=4;if(typeof Symbol=="function"&&Symbol.for){var lr=Symbol.for;ei=lr("selector.component"),ni=lr("selector.has_pseudo_class"),ri=lr("selector.role"),ii=lr("selector.test_id"),si=lr("selector.text")}function ks(e){var n=au(e);if(n!=null){if(typeof n.memoizedProps["data-testname"]!="string")throw Error(c(364));return n}if(e=pu(e),e===null)throw Error(c(362));return e.stateNode.current}function As(e,n){switch(n.$$typeof){case ei:if(e.type===n.value)return!0;break;case ni:t:{n=n.value,e=[e,0];for(var i=0;i<e.length;){var l=e[i++],o=e[i++],u=n[o];if(l.tag!==5||!jn(l)){for(;u!=null&&As(l,u);)o++,u=n[o];if(o===n.length){n=!0;break t}else for(l=l.child;l!==null;)e.push(l,o),l=l.sibling}}n=!1}return n;case ri:if(e.tag===5&&gu(e.stateNode,n.value))return!0;break;case si:if((e.tag===5||e.tag===6)&&(e=yu(e),e!==null&&0<=e.indexOf(n.value)))return!0;break;case ii:if(e.tag===5&&(e=e.memoizedProps["data-testname"],typeof e=="string"&&e.toLowerCase()===n.value.toLowerCase()))return!0;break;default:throw Error(c(365))}return!1}function Fs(e){switch(e.$$typeof){case ei:return"<"+(q(e.value)||"Unknown")+">";case ni:return":has("+(Fs(e)||"")+")";case ri:return'[role="'+e.value+'"]';case si:return'"'+e.value+'"';case ii:return'[data-testname="'+e.value+'"]';default:throw Error(c(365))}}function jo(e,n){var i=[];e=[e,0];for(var l=0;l<e.length;){var o=e[l++],u=e[l++],x=n[u];if(o.tag!==5||!jn(o)){for(;x!=null&&As(o,x);)u++,x=n[u];if(u===n.length)i.push(o);else for(o=o.child;o!==null;)e.push(o,u),o=o.sibling}}return i}function Cs(e,n){if(!Hn)throw Error(c(363));e=ks(e),e=jo(e,n),n=[],e=Array.from(e);for(var i=0;i<e.length;){var l=e[i++];if(l.tag===5)jn(l)||n.push(l.stateNode);else for(l=l.child;l!==null;)e.push(l),l=l.sibling}return n}var Th=Math.ceil,li=m.ReactCurrentDispatcher,Rs=m.ReactCurrentOwner,pt=m.ReactCurrentBatchConfig,J=0,mt=null,yt=null,zt=0,Jt=0,An=Le(0),xt=0,or=null,Fn=0,oi=0,Ts=0,ar=null,Ut=null,Ps=0,Ns=1/0;function Cn(){Ns=vt()+500}var ai=!1,Bs=null,He=null,ui=!1,je=null,hi=0,ur=0,Is=null,ci=-1,fi=0;function It(){return J&6?vt():ci!==-1?ci:ci=vt()}function Ve(e){return e.mode&1?J&2&&zt!==0?zt&-zt:dh.transition!==null?(fi===0&&(e=Er,Er<<=1,!(Er&4194240)&&(Er=64),fi=e),fi):(e=$,e!==0?e:hu()):1}function ie(e,n,i){if(50<ur)throw ur=0,Is=null,Error(c(185));var l=di(e,n);return l===null?null:(Gn(l,n,i),(!(J&2)||l!==mt)&&(l===mt&&(!(J&2)&&(oi|=n),xt===4&&qe(l,zt)),Wt(l,i),n===1&&J===0&&!(e.mode&1)&&(Cn(),Cr&&we())),l)}function di(e,n){e.lanes|=n;var i=e.alternate;for(i!==null&&(i.lanes|=n),i=e,e=e.return;e!==null;)e.childLanes|=n,i=e.alternate,i!==null&&(i.childLanes|=n),i=e,e=e.return;return i.tag===3?i.stateNode:null}function Wt(e,n){var i=e.callbackNode;ih(e,n);var l=Ar(e,e===mt?zt:0);if(l===0)i!==null&&Al(i),e.callbackNode=null,e.callbackPriority=0;else if(n=l&-l,e.callbackPriority!==n){if(i!=null&&Al(i),n===1)e.tag===0?fh(qo.bind(null,e)):Fl(qo.bind(null,e)),fu?du(function(){J===0&&we()}):Vi(qi,we),i=null;else{switch(kl(l)){case 1:i=qi;break;case 4:i=ah;break;case 16:i=Qi;break;case 536870912:i=uh;break;default:i=Qi}i=$o(i,Vo.bind(null,e))}e.callbackPriority=n,e.callbackNode=i}}function Vo(e,n){if(ci=-1,fi=0,J&6)throw Error(c(327));var i=e.callbackNode;if(fn()&&e.callbackNode!==i)return null;var l=Ar(e,e===mt?zt:0);if(l===0)return null;if(l&30||l&e.expiredLanes||n)n=pi(e,l);else{n=l;var o=J;J|=2;var u=Xo();(mt!==e||zt!==n)&&(Cn(),hn(e,n));do try{Bh();break}catch(w){Go(e,w)}while(1);Yi(),li.current=u,J=o,yt!==null?n=0:(mt=null,zt=0,n=xt)}if(n!==0){if(n===2&&(o=Wi(e),o!==0&&(l=o,n=Ds(e,o))),n===1)throw i=or,hn(e,0),qe(e,l),Wt(e,vt()),i;if(n===6)qe(e,l);else{if(o=e.current.alternate,!(l&30)&&!Ph(o)&&(n=pi(e,l),n===2&&(u=Wi(e),u!==0&&(l=u,n=Ds(e,u))),n===1))throw i=or,hn(e,0),qe(e,l),Wt(e,vt()),i;switch(e.finishedWork=o,e.finishedLanes=l,n){case 0:case 1:throw Error(c(345));case 2:cn(e,Ut);break;case 3:if(qe(e,l),(l&130023424)===l&&(n=Ps+500-vt(),10<n)){if(Ar(e,0)!==0)break;if(o=e.suspendedLanes,(o&l)!==l){It(),e.pingedLanes|=e.suspendedLanes&o;break}e.timeoutHandle=nn(cn.bind(null,e,Ut),n);break}cn(e,Ut);break;case 4:if(qe(e,l),(l&4194240)===l)break;for(n=e.eventTimes,o=-1;0<l;){var x=31-ue(l);u=1<<x,x=n[x],x>o&&(o=x),l&=~u}if(l=o,l=vt()-l,l=(120>l?120:480>l?480:1080>l?1080:1920>l?1920:3e3>l?3e3:4320>l?4320:1960*Th(l/1960))-l,10<l){e.timeoutHandle=nn(cn.bind(null,e,Ut),l);break}cn(e,Ut);break;case 5:cn(e,Ut);break;default:throw Error(c(329))}}}return Wt(e,vt()),e.callbackNode===i?Vo.bind(null,e):null}function Ds(e,n){var i=ar;return e.current.memoizedState.isDehydrated&&(hn(e,n).flags|=256),e=pi(e,n),e!==2&&(n=Ut,Ut=i,n!==null&&Ls(n)),e}function Ls(e){Ut===null?Ut=e:Ut.push.apply(Ut,e)}function Ph(e){for(var n=e;;){if(n.flags&16384){var i=n.updateQueue;if(i!==null&&(i=i.stores,i!==null))for(var l=0;l<i.length;l++){var o=i[l],u=o.getSnapshot;o=o.value;try{if(!_e(u(),o))return!1}catch{return!1}}}if(i=n.child,n.subtreeFlags&16384&&i!==null)i.return=n,n=i;else{if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return!0;n=n.return}n.sibling.return=n.return,n=n.sibling}}return!0}function qe(e,n){for(n&=~Ts,n&=~oi,e.suspendedLanes|=n,e.pingedLanes&=~n,e=e.expirationTimes;0<n;){var i=31-ue(n),l=1<<i;e[i]=-1,n&=~l}}function qo(e){if(J&6)throw Error(c(327));fn();var n=Ar(e,0);if(!(n&1))return Wt(e,vt()),null;var i=pi(e,n);if(e.tag!==0&&i===2){var l=Wi(e);l!==0&&(n=l,i=Ds(e,l))}if(i===1)throw i=or,hn(e,0),qe(e,n),Wt(e,vt()),i;if(i===6)throw Error(c(345));return e.finishedWork=e.current.alternate,e.finishedLanes=n,cn(e,Ut),Wt(e,vt()),null}function Qo(e){je!==null&&je.tag===0&&!(J&6)&&fn();var n=J;J|=1;var i=pt.transition,l=$;try{if(pt.transition=null,$=1,e)return e()}finally{$=l,pt.transition=i,J=n,!(J&6)&&we()}}function Os(){Jt=An.current,lt(An)}function hn(e,n){e.finishedWork=null,e.finishedLanes=0;var i=e.timeoutHandle;if(i!==Bi&&(e.timeoutHandle=Bi,ou(i)),yt!==null)for(i=yt.return;i!==null;){var l=i;switch(es(l),l.tag){case 1:l=l.type.childContextTypes,l!=null&&Mr();break;case 3:En(),lt(Lt),lt(At),as();break;case 5:ls(l);break;case 4:En();break;case 13:lt(ct);break;case 19:lt(ct);break;case 10:Zi(l.type._context);break;case 22:case 23:Os()}i=i.return}if(mt=e,yt=e=Qe(e.current,null),zt=Jt=n,xt=0,or=null,Ts=oi=Fn=0,Ut=ar=null,Me!==null){for(n=0;n<Me.length;n++)if(i=Me[n],l=i.interleaved,l!==null){i.interleaved=null;var o=l.next,u=i.pending;if(u!==null){var x=u.next;u.next=o,l.next=x}i.pending=l}Me=null}return e}function Go(e,n){do{var i=yt;try{if(Yi(),Wr.current=Gr,Hr){for(var l=dt.memoizedState;l!==null;){var o=l.queue;o!==null&&(o.pending=null),l=l.next}Hr=!1}if(kn=0,St=Ft=dt=null,bn=!1,$n=0,Rs.current=null,i===null||i.return===null){xt=1,or=n,yt=null;break}t:{var u=e,x=i.return,w=i,A=n;if(n=zt,w.flags|=32768,A!==null&&typeof A=="object"&&typeof A.then=="function"){var R=A,L=w,G=L.tag;if(!(L.mode&1)&&(G===0||G===11||G===15)){var j=L.alternate;j?(L.updateQueue=j.updateQueue,L.memoizedState=j.memoizedState,L.lanes=j.lanes):(L.updateQueue=null,L.memoizedState=null)}var rt=fo(x);if(rt!==null){rt.flags&=-257,po(rt,x,w,u,n),rt.mode&1&&co(u,R,n),n=rt,A=R;var U=n.updateQueue;if(U===null){var Tt=new Set;Tt.add(A),n.updateQueue=Tt}else U.add(A);break t}else{if(!(n&1)){co(u,R,n),Us();break t}A=Error(c(426))}}else if(ot&&w.mode&1){var le=fo(x);if(le!==null){!(le.flags&65536)&&(le.flags|=256),po(le,x,w,u,n),is(A);break t}}u=A,xt!==4&&(xt=2),ar===null?ar=[u]:ar.push(u),A=ms(A,w),w=x;do{switch(w.tag){case 3:w.flags|=65536,n&=-n,w.lanes|=n;var z=uo(w,A,n);Tl(w,z);break t;case 1:u=A;var M=w.type,k=w.stateNode;if(!(w.flags&128)&&(typeof M.getDerivedStateFromError=="function"||k!==null&&typeof k.componentDidCatch=="function"&&(He===null||!He.has(k)))){w.flags|=65536,n&=-n,w.lanes|=n;var N=ho(w,u,n);Tl(w,N);break t}}w=w.return}while(w!==null)}Zo(i)}catch(O){n=O,yt===i&&i!==null&&(yt=i=i.return);continue}break}while(1)}function Xo(){var e=li.current;return li.current=Gr,e===null?Gr:e}function Us(){(xt===0||xt===3||xt===2)&&(xt=4),mt===null||!(Fn&268435455)&&!(oi&268435455)||qe(mt,zt)}function pi(e,n){var i=J;J|=2;var l=Xo();mt===e&&zt===n||hn(e,n);do try{Nh();break}catch(o){Go(e,o)}while(1);if(Yi(),J=i,li.current=l,yt!==null)throw Error(c(261));return mt=null,zt=0,xt}function Nh(){for(;yt!==null;)Yo(yt)}function Bh(){for(;yt!==null&&!lh();)Yo(yt)}function Yo(e){var n=bo(e.alternate,e,Jt);e.memoizedProps=e.pendingProps,n===null?Zo(e):yt=n,Rs.current=null}function Zo(e){var n=e;do{var i=n.alternate;if(e=n.return,n.flags&32768){if(i=kh(i,n),i!==null){i.flags&=32767,yt=i;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{xt=6,yt=null;return}}else if(i=Mh(i,n,Jt),i!==null){yt=i;return}if(n=n.sibling,n!==null){yt=n;return}yt=n=e}while(n!==null);xt===0&&(xt=5)}function cn(e,n){var i=$,l=pt.transition;try{pt.transition=null,$=1,Ih(e,n,i)}finally{pt.transition=l,$=i}return null}function Ih(e,n,i){do fn();while(je!==null);if(J&6)throw Error(c(327));var l=e.finishedWork,o=e.finishedLanes;if(l===null)return null;if(e.finishedWork=null,e.finishedLanes=0,l===e.current)throw Error(c(177));e.callbackNode=null,e.callbackPriority=0;var u=l.lanes|l.childLanes;if(sh(e,u),e===mt&&(yt=mt=null,zt=0),!(l.subtreeFlags&2064)&&!(l.flags&2064)||ui||(ui=!0,$o(Qi,function(){return fn(),null})),u=(l.flags&15990)!==0,l.subtreeFlags&15990||u){u=pt.transition,pt.transition=null;var x=$;$=1;var w=J;J|=4,Rs.current=null,Fh(e,l),Ch(e,l),Q(e.containerInfo),e.current=l,Rh(l),oh(),J=w,$=x,pt.transition=u}else e.current=l;if(ui&&(ui=!1,je=e,hi=o),u=e.pendingLanes,u===0&&(He=null),hh(l.stateNode),Wt(e,vt()),n!==null)for(i=e.onRecoverableError,l=0;l<n.length;l++)i(n[l]);if(ai)throw ai=!1,e=Bs,Bs=null,e;return hi&1&&e.tag!==0&&fn(),u=e.pendingLanes,u&1?e===Is?ur++:(ur=0,Is=e):ur=0,we(),null}function fn(){if(je!==null){var e=kl(hi),n=pt.transition,i=$;try{if(pt.transition=null,$=16>e?16:e,je===null)var l=!1;else{if(e=je,je=null,hi=0,J&6)throw Error(c(331));var o=J;for(J|=4,P=e.current;P!==null;){var u=P,x=u.child;if(P.flags&16){var w=u.deletions;if(w!==null){for(var A=0;A<w.length;A++){var R=w[A];for(P=R;P!==null;){var L=P;switch(L.tag){case 0:case 11:case 15:un(8,L,u)}var G=L.child;if(G!==null)G.return=L,P=G;else for(;P!==null;){L=P;var j=L.sibling,rt=L.return;if(No(L),L===R){P=null;break}if(j!==null){j.return=rt,P=j;break}P=rt}}}var U=u.alternate;if(U!==null){var Tt=U.child;if(Tt!==null){U.child=null;do{var le=Tt.sibling;Tt.sibling=null,Tt=le}while(Tt!==null)}}P=u}}if(u.subtreeFlags&2064&&x!==null)x.return=u,P=x;else t:for(;P!==null;){if(u=P,u.flags&2048)switch(u.tag){case 0:case 11:case 15:un(9,u,u.return)}var z=u.sibling;if(z!==null){z.return=u.return,P=z;break t}P=u.return}}var M=e.current;for(P=M;P!==null;){x=P;var k=x.child;if(x.subtreeFlags&2064&&k!==null)k.return=x,P=k;else t:for(x=M;P!==null;){if(w=P,w.flags&2048)try{switch(w.tag){case 0:case 11:case 15:sr(9,w)}}catch(O){Ht(w,w.return,O)}if(w===x){P=null;break t}var N=w.sibling;if(N!==null){N.return=w.return,P=N;break t}P=w.return}}if(J=o,we(),Se&&typeof Se.onPostCommitFiberRoot=="function")try{Se.onPostCommitFiberRoot(Fr,e)}catch{}l=!0}return l}finally{$=i,pt.transition=n}}return!1}function Jo(e,n,i){n=ms(i,n),n=uo(e,n,1),We(e,n),n=It(),e=di(e,1),e!==null&&(Gn(e,1,n),Wt(e,n))}function Ht(e,n,i){if(e.tag===3)Jo(e,e,i);else for(;n!==null;){if(n.tag===3){Jo(n,e,i);break}else if(n.tag===1){var l=n.stateNode;if(typeof n.type.getDerivedStateFromError=="function"||typeof l.componentDidCatch=="function"&&(He===null||!He.has(l))){e=ms(i,e),e=ho(n,e,1),We(n,e),e=It(),n=di(n,1),n!==null&&(Gn(n,1,e),Wt(n,e));break}}n=n.return}}function Dh(e,n,i){var l=e.pingCache;l!==null&&l.delete(n),n=It(),e.pingedLanes|=e.suspendedLanes&i,mt===e&&(zt&i)===i&&(xt===4||xt===3&&(zt&130023424)===zt&&500>vt()-Ps?hn(e,0):Ts|=i),Wt(e,n)}function Ko(e,n){n===0&&(e.mode&1?(n=kr,kr<<=1,!(kr&130023424)&&(kr=4194304)):n=1);var i=It();e=di(e,n),e!==null&&(Gn(e,n,i),Wt(e,i))}function Lh(e){var n=e.memoizedState,i=0;n!==null&&(i=n.retryLane),Ko(e,i)}function Oh(e,n){var i=0;switch(e.tag){case 13:var l=e.stateNode,o=e.memoizedState;o!==null&&(i=o.retryLane);break;case 19:l=e.stateNode;break;default:throw Error(c(314))}l!==null&&l.delete(n),Ko(e,i)}var bo;bo=function(e,n,i){if(e!==null)if(e.memoizedProps!==n.pendingProps||Lt.current)Zt=!0;else{if(!(e.lanes&i)&&!(n.flags&128))return Zt=!1,Eh(e,n,i);Zt=!!(e.flags&131072)}else Zt=!1,ot&&n.flags&1048576&&Ll(n,Lr,n.index);switch(n.lanes=0,n.tag){case 2:var l=n.type;e!==null&&(e.alternate=null,n.alternate=null,n.flags|=2),e=n.pendingProps;var o=gn(n,At.current);vn(n,i),o=hs(null,n,l,e,o,i);var u=cs();return n.flags|=1,typeof o=="object"&&o!==null&&typeof o.render=="function"&&o.$$typeof===void 0?(n.tag=1,n.memoizedState=null,n.updateQueue=null,Ot(l)?(u=!0,zr(n)):u=!1,n.memoizedState=o.state!==null&&o.state!==void 0?o.state:null,Ki(n),o.updater=Ir,n.stateNode=o,o._reactInternals=n,$i(n,l,e,i),n=xs(null,n,l,!0,u,i)):(n.tag=0,ot&&u&&ts(n),Bt(null,n,o,i),n=n.child),n;case 16:l=n.elementType;t:{switch(e!==null&&(e.alternate=null,n.alternate=null,n.flags|=2),e=n.pendingProps,o=l._init,l=o(l._payload),n.type=l,o=n.tag=Wh(l),e=he(l,e),o){case 0:n=gs(null,n,l,e,i);break t;case 1:n=wo(null,n,l,e,i);break t;case 11:n=go(null,n,l,e,i);break t;case 14:n=xo(null,n,l,he(l.type,e),i);break t}throw Error(c(306,l,""))}return n;case 0:return l=n.type,o=n.pendingProps,o=n.elementType===l?o:he(l,o),gs(e,n,l,o,i);case 1:return l=n.type,o=n.pendingProps,o=n.elementType===l?o:he(l,o),wo(e,n,l,o,i);case 3:t:{if(Mo(n),e===null)throw Error(c(387));l=n.pendingProps,u=n.memoizedState,o=u.element,Rl(e,n),Br(n,l,null,i);var x=n.memoizedState;if(l=x.element,Gt&&u.isDehydrated)if(u={element:l,isDehydrated:!1,cache:x.cache,transitions:x.transitions},n.updateQueue.baseState=u,n.memoizedState=u,n.flags&256){o=Error(c(423)),n=zo(e,n,l,i,o);break t}else if(l!==o){o=Error(c(424)),n=zo(e,n,l,i,o);break t}else for(Gt&&(Yt=Hu(n.stateNode.containerInfo),Xt=n,ot=!0,ce=null,Xn=!1),i=Vl(n,null,l,i),n.child=i;i;)i.flags=i.flags&-3|4096,i=i.sibling;else{if(wn(),l===o){n=Be(e,n,i);break t}Bt(e,n,l,i)}n=n.child}return n;case 5:return ql(n),e===null&&rs(n),l=n.type,o=n.pendingProps,u=e!==null?e.memoizedProps:null,x=o.children,en(l,o)?x=null:u!==null&&en(l,u)&&(n.flags|=32),_o(e,n),Bt(e,n,x,i),n.child;case 6:return e===null&&rs(n),null;case 13:return Eo(e,n,i);case 4:return ss(n,n.stateNode.containerInfo),l=n.pendingProps,e===null?n.child=Mn(n,null,l,i):Bt(e,n,l,i),n.child;case 11:return l=n.type,o=n.pendingProps,o=n.elementType===l?o:he(l,o),go(e,n,l,o,i);case 7:return Bt(e,n,n.pendingProps,i),n.child;case 8:return Bt(e,n,n.pendingProps.children,i),n.child;case 12:return Bt(e,n,n.pendingProps.children,i),n.child;case 10:t:{if(l=n.type._context,o=n.pendingProps,u=n.memoizedProps,x=o.value,Cl(n,l,x),u!==null)if(_e(u.value,x)){if(u.children===o.children&&!Lt.current){n=Be(e,n,i);break t}}else for(u=n.child,u!==null&&(u.return=n);u!==null;){var w=u.dependencies;if(w!==null){x=u.child;for(var A=w.firstContext;A!==null;){if(A.context===l){if(u.tag===1){A=Re(-1,i&-i),A.tag=2;var R=u.updateQueue;if(R!==null){R=R.shared;var L=R.pending;L===null?A.next=A:(A.next=L.next,L.next=A),R.pending=A}}u.lanes|=i,A=u.alternate,A!==null&&(A.lanes|=i),Ji(u.return,i,n),w.lanes|=i;break}A=A.next}}else if(u.tag===10)x=u.type===n.type?null:u.child;else if(u.tag===18){if(x=u.return,x===null)throw Error(c(341));x.lanes|=i,w=x.alternate,w!==null&&(w.lanes|=i),Ji(x,i,n),x=u.sibling}else x=u.child;if(x!==null)x.return=u;else for(x=u;x!==null;){if(x===n){x=null;break}if(u=x.sibling,u!==null){u.return=x.return,x=u;break}x=x.return}u=x}Bt(e,n,o.children,i),n=n.child}return n;case 9:return o=n.type,l=n.pendingProps.children,vn(n,i),o=$t(o),l=l(o),n.flags|=1,Bt(e,n,l,i),n.child;case 14:return l=n.type,o=he(l,n.pendingProps),o=he(l.type,o),xo(e,n,l,o,i);case 15:return vo(e,n,n.type,n.pendingProps,i);case 17:return l=n.type,o=n.pendingProps,o=n.elementType===l?o:he(l,o),e!==null&&(e.alternate=null,n.alternate=null,n.flags|=2),n.tag=1,Ot(l)?(e=!0,zr(n)):e=!1,vn(n,i),Il(n,l,o),$i(n,l,o,i),xs(null,n,l,!0,e,i);case 19:return Co(e,n,i);case 22:return So(e,n,i)}throw Error(c(156,n.tag))};function $o(e,n){return Vi(e,n)}function Uh(e,n,i,l){this.tag=e,this.key=i,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=n,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=l,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function se(e,n,i,l){return new Uh(e,n,i,l)}function Ws(e){return e=e.prototype,!(!e||!e.isReactComponent)}function Wh(e){if(typeof e=="function")return Ws(e)?1:0;if(e!=null){if(e=e.$$typeof,e===E)return 11;if(e===I)return 14}return 2}function Qe(e,n){var i=e.alternate;return i===null?(i=se(e.tag,n,e.key,e.mode),i.elementType=e.elementType,i.type=e.type,i.stateNode=e.stateNode,i.alternate=e,e.alternate=i):(i.pendingProps=n,i.type=e.type,i.flags=0,i.subtreeFlags=0,i.deletions=null),i.flags=e.flags&14680064,i.childLanes=e.childLanes,i.lanes=e.lanes,i.child=e.child,i.memoizedProps=e.memoizedProps,i.memoizedState=e.memoizedState,i.updateQueue=e.updateQueue,n=e.dependencies,i.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext},i.sibling=e.sibling,i.index=e.index,i.ref=e.ref,i}function mi(e,n,i,l,o,u){var x=2;if(l=e,typeof e=="function")Ws(e)&&(x=1);else if(typeof e=="string")x=5;else t:switch(e){case f:return dn(i.children,o,u,n);case d:x=8,o|=8;break;case S:return e=se(12,i,n,o|2),e.elementType=S,e.lanes=u,e;case F:return e=se(13,i,n,o),e.elementType=F,e.lanes=u,e;case C:return e=se(19,i,n,o),e.elementType=C,e.lanes=u,e;case W:return yi(i,o,u,n);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case v:x=10;break t;case _:x=9;break t;case E:x=11;break t;case I:x=14;break t;case T:x=16,l=null;break t}throw Error(c(130,e==null?e:typeof e,""))}return n=se(x,i,n,o),n.elementType=e,n.type=l,n.lanes=u,n}function dn(e,n,i,l){return e=se(7,e,l,n),e.lanes=i,e}function yi(e,n,i,l){return e=se(22,e,l,n),e.elementType=W,e.lanes=i,e.stateNode={},e}function Hs(e,n,i){return e=se(6,e,null,n),e.lanes=i,e}function js(e,n,i){return n=se(4,e.children!==null?e.children:[],e.key,n),n.lanes=i,n.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},n}function Hh(e,n,i,l,o){this.tag=n,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=Bi,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Hi(0),this.expirationTimes=Hi(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Hi(0),this.identifierPrefix=l,this.onRecoverableError=o,Gt&&(this.mutableSourceEagerHydrationData=null)}function ta(e,n,i,l,o,u,x,w,A){return e=new Hh(e,n,i,w,A),n===1?(n=1,u===!0&&(n|=8)):n=0,u=se(3,null,null,n),e.current=u,u.stateNode=e,u.memoizedState={element:l,isDehydrated:i,cache:null,transitions:null},Ki(u),e}function ea(e){if(!e)return Oe;e=e._reactInternals;t:{if(Et(e)!==e||e.tag!==1)throw Error(c(170));var n=e;do{switch(n.tag){case 3:n=n.stateNode.context;break t;case 1:if(Ot(n.type)){n=n.stateNode.__reactInternalMemoizedMergedChildContext;break t}}n=n.return}while(n!==null);throw Error(c(171))}if(e.tag===1){var i=e.type;if(Ot(i))return zl(e,i,n)}return n}function na(e){var n=e._reactInternals;if(n===void 0)throw typeof e.render=="function"?Error(c(188)):(e=Object.keys(e).join(","),Error(c(268,e)));return e=ut(n),e===null?null:e.stateNode}function ra(e,n){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var i=e.retryLane;e.retryLane=i!==0&&i<n?i:n}}function Vs(e,n){ra(e,n),(e=e.alternate)&&ra(e,n)}function jh(e){return e=ut(e),e===null?null:e.stateNode}function Vh(){return null}return r.attemptContinuousHydration=function(e){if(e.tag===13){var n=It();ie(e,134217728,n),Vs(e,134217728)}},r.attemptHydrationAtCurrentPriority=function(e){if(e.tag===13){var n=It(),i=Ve(e);ie(e,i,n),Vs(e,i)}},r.attemptSynchronousHydration=function(e){switch(e.tag){case 3:var n=e.stateNode;if(n.current.memoizedState.isDehydrated){var i=Qn(n.pendingLanes);i!==0&&(ji(n,i|1),Wt(n,vt()),!(J&6)&&(Cn(),we()))}break;case 13:var l=It();Qo(function(){return ie(e,1,l)}),Vs(e,1)}},r.batchedUpdates=function(e,n){var i=J;J|=1;try{return e(n)}finally{J=i,J===0&&(Cn(),Cr&&we())}},r.createComponentSelector=function(e){return{$$typeof:ei,value:e}},r.createContainer=function(e,n,i,l,o,u,x){return ta(e,n,!1,null,i,l,o,u,x)},r.createHasPseudoClassSelector=function(e){return{$$typeof:ni,value:e}},r.createHydrationContainer=function(e,n,i,l,o,u,x,w,A){return e=ta(i,l,!0,e,o,u,x,w,A),e.context=ea(null),i=e.current,l=It(),o=Ve(i),u=Re(l,o),u.callback=n??null,We(i,u),e.current.lanes=o,Gn(e,o,l),Wt(e,l),e},r.createPortal=function(e,n,i){var l=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:g,key:l==null?null:""+l,children:e,containerInfo:n,implementation:i}},r.createRoleSelector=function(e){return{$$typeof:ri,value:e}},r.createTestNameSelector=function(e){return{$$typeof:ii,value:e}},r.createTextSelector=function(e){return{$$typeof:si,value:e}},r.deferredUpdates=function(e){var n=$,i=pt.transition;try{return pt.transition=null,$=16,e()}finally{$=n,pt.transition=i}},r.discreteUpdates=function(e,n,i,l,o){var u=$,x=pt.transition;try{return pt.transition=null,$=1,e(n,i,l,o)}finally{$=u,pt.transition=x,J===0&&Cn()}},r.findAllNodes=Cs,r.findBoundingRects=function(e,n){if(!Hn)throw Error(c(363));n=Cs(e,n),e=[];for(var i=0;i<n.length;i++)e.push(mu(n[i]));for(n=e.length-1;0<n;n--){i=e[n];for(var l=i.x,o=l+i.width,u=i.y,x=u+i.height,w=n-1;0<=w;w--)if(n!==w){var A=e[w],R=A.x,L=R+A.width,G=A.y,j=G+A.height;if(l>=R&&u>=G&&o<=L&&x<=j){e.splice(n,1);break}else if(l!==R||i.width!==A.width||j<u||G>x){if(!(u!==G||i.height!==A.height||L<l||R>o)){R>l&&(A.width+=R-l,A.x=l),L<o&&(A.width=o-R),e.splice(n,1);break}}else{G>u&&(A.height+=G-u,A.y=u),j<x&&(A.height=x-G),e.splice(n,1);break}}}return e},r.findHostInstance=na,r.findHostInstanceWithNoPortals=function(e){return e=at(e),e=e!==null?Dt(e):null,e===null?null:e.stateNode},r.findHostInstanceWithWarning=function(e){return na(e)},r.flushControlled=function(e){var n=J;J|=1;var i=pt.transition,l=$;try{pt.transition=null,$=1,e()}finally{$=l,pt.transition=i,J=n,J===0&&(Cn(),we())}},r.flushPassiveEffects=fn,r.flushSync=Qo,r.focusWithin=function(e,n){if(!Hn)throw Error(c(363));for(e=ks(e),n=jo(e,n),n=Array.from(n),e=0;e<n.length;){var i=n[e++];if(!jn(i)){if(i.tag===5&&xu(i.stateNode))return!0;for(i=i.child;i!==null;)n.push(i),i=i.sibling}}return!1},r.getCurrentUpdatePriority=function(){return $},r.getFindAllNodesFailureDescription=function(e,n){if(!Hn)throw Error(c(363));var i=0,l=[];e=[ks(e),0];for(var o=0;o<e.length;){var u=e[o++],x=e[o++],w=n[x];if((u.tag!==5||!jn(u))&&(As(u,w)&&(l.push(Fs(w)),x++,x>i&&(i=x)),x<n.length))for(u=u.child;u!==null;)e.push(u,x),u=u.sibling}if(i<n.length){for(e=[];i<n.length;i++)e.push(Fs(n[i]));return`findAllNodes was able to match part of the selector:
  `+(l.join(" > ")+`

No matching component was found for:
  `)+e.join(" > ")}return null},r.getPublicRootInstance=function(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return kt(e.child.stateNode);default:return e.child.stateNode}},r.injectIntoDevTools=function(e){if(e={bundleType:e.bundleType,version:e.version,rendererPackageName:e.rendererPackageName,rendererConfig:e.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:m.ReactCurrentDispatcher,findHostInstanceByFiber:jh,findFiberByHostInstance:e.findFiberByHostInstance||Vh,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.0.0-fc46dba67-20220329"},typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u")e=!1;else{var n=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(n.isDisabled||!n.supportsFiber)e=!0;else{try{Fr=n.inject(e),Se=n}catch{}e=!!n.checkDCE}}return e},r.isAlreadyRendering=function(){return!1},r.observeVisibleRects=function(e,n,i,l){if(!Hn)throw Error(c(363));e=Cs(e,n);var o=vu(e,i,l).disconnect;return{disconnect:function(){o()}}},r.registerMutableSourceForHydration=function(e,n){var i=n._getVersion;i=i(n._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[n,i]:e.mutableSourceEagerHydrationData.push(n,i)},r.runWithPriority=function(e,n){var i=$;try{return $=e,n()}finally{$=i}},r.shouldError=function(){return null},r.shouldSuspend=function(){return!1},r.updateContainer=function(e,n,i,l){var o=n.current,u=It(),x=Ve(o);return i=ea(i),n.context===null?n.context=i:n.pendingContext=i,n=Re(u,x),n.payload={element:e},l=l===void 0?null:l,l!==null&&(n.callback=l),We(o,n),e=ie(o,x,u),e!==null&&Nr(e,o,x),x},r}),rl}Ka.exports=Rc();var Tc=Ka.exports;const Pc=Qh(Tc),Nc=p=>typeof p=="object"&&typeof p.then=="function",Ai=[];function Bc(p,t,r=(s,a)=>s===a){if(p===t)return!0;if(!p||!t)return!1;const s=p.length;if(t.length!==s)return!1;for(let a=0;a<s;a++)if(!r(p[a],t[a]))return!1;return!0}function Ic(p,t=null,r=!1,s={}){t===null&&(t=[p]);for(const h of Ai)if(Bc(t,h.keys,h.equal)){if(r)return;if(Object.prototype.hasOwnProperty.call(h,"error"))throw h.error;if(Object.prototype.hasOwnProperty.call(h,"response"))return s.lifespan&&s.lifespan>0&&(h.timeout&&clearTimeout(h.timeout),h.timeout=setTimeout(h.remove,s.lifespan)),h.response;if(!r)throw h.promise}const a={keys:t,equal:s.equal,remove:()=>{const h=Ai.indexOf(a);h!==-1&&Ai.splice(h,1)},promise:(Nc(p)?p:p(...t)).then(h=>{a.response=h,s.lifespan&&s.lifespan>0&&(a.timeout=setTimeout(a.remove,s.lifespan))}).catch(h=>a.error=h)};if(Ai.push(a),!r)throw a.promise}const Dc=(p,t,r)=>Ic(p,t,!1,r),$a={};function Lc(p,t){function r(f,{args:d=[],attach:S,...v},_){let E=`${f[0].toUpperCase()}${f.slice(1)}`,F;if(f==="primitive"){if(v.object===void 0)throw new Error("R3F: Primitives without 'object' are invalid!");const C=v.object;F=mr(C,{type:f,root:_,attach:S,primitive:!0})}else{const C=$a[E];if(!C)throw new Error(`R3F: ${E} is not part of the THREE namespace! Did you forget to extend? See: https://docs.pmnd.rs/react-three-fiber/api/objects#using-3rd-party-objects-declaratively`);if(!Array.isArray(d))throw new Error("R3F: The args prop must be an array!");F=mr(new C(...d),{type:f,root:_,attach:S,memoizedProps:{args:d}})}return F.__r3f.attach===void 0&&(F instanceof pl?F.__r3f.attach="geometry":F instanceof Sc&&(F.__r3f.attach="material")),E!=="inject"&&ll(F,v),F}function s(f,d){let S=!1;if(d){var v,_;(v=d.__r3f)!=null&&v.attach?sl(f,d,d.__r3f.attach):d.isObject3D&&f.isObject3D&&(f.add(d),S=!0),S||(_=f.__r3f)==null||_.objects.push(d),d.__r3f||mr(d,{}),d.__r3f.parent=f,cl(d),On(d)}}function a(f,d,S){let v=!1;if(d){var _,E;if((_=d.__r3f)!=null&&_.attach)sl(f,d,d.__r3f.attach);else if(d.isObject3D&&f.isObject3D){d.parent=f,d.dispatchEvent({type:"added"});const F=f.children.filter(I=>I!==d),C=F.indexOf(S);f.children=[...F.slice(0,C),d,...F.slice(C)],v=!0}v||(E=f.__r3f)==null||E.objects.push(d),d.__r3f||mr(d,{}),d.__r3f.parent=f,cl(d),On(d)}}function h(f,d,S=!1){f&&[...f].forEach(v=>c(d,v,S))}function c(f,d,S){if(d){var v,_,E;if(d.__r3f&&(d.__r3f.parent=null),(v=f.__r3f)!=null&&v.objects&&(f.__r3f.objects=f.__r3f.objects.filter(W=>W!==d)),(_=d.__r3f)!=null&&_.attach)Oa(f,d,d.__r3f.attach);else if(d.isObject3D&&f.isObject3D){var F;f.remove(d),(F=d.__r3f)!=null&&F.root&&Qc(d.__r3f.root,d)}const I=(E=d.__r3f)==null?void 0:E.primitive,T=!I&&(S===void 0?d.dispose!==null:S);if(!I){var C;h((C=d.__r3f)==null?void 0:C.objects,d,T),h(d.children,d,T)}if(delete d.__r3f,T&&d.dispose&&d.type!=="Scene"){const W=()=>{try{d.dispose()}catch{}};typeof IS_REACT_ACT_ENVIRONMENT>"u"?ul.unstable_scheduleCallback(ul.unstable_IdlePriority,W):W()}On(f)}}function m(f,d,S,v){var _;const E=(_=f.__r3f)==null?void 0:_.parent;if(!E)return;const F=r(d,S,f.__r3f.root);if(f.children){for(const C of f.children)C.__r3f&&s(F,C);f.children=f.children.filter(C=>!C.__r3f)}f.__r3f.objects.forEach(C=>s(F,C)),f.__r3f.objects=[],f.__r3f.autoRemovedBeforeAppend||c(E,f),F.parent&&(F.__r3f.autoRemovedBeforeAppend=!0),s(E,F),F.raycast&&F.__r3f.eventCount&&F.__r3f.root.getState().internal.interaction.push(F),[v,v.alternate].forEach(C=>{C!==null&&(C.stateNode=F,C.ref&&(typeof C.ref=="function"?C.ref(F):C.ref.current=F))})}const y=()=>console.warn("Text is not allowed in the R3F tree! This could be stray whitespace or characters.");return{reconciler:Pc({createInstance:r,removeChild:c,appendChild:s,appendInitialChild:s,insertBefore:a,supportsMutation:!0,isPrimaryRenderer:!1,supportsPersistence:!1,supportsHydration:!1,noTimeout:-1,appendChildToContainer:(f,d)=>{if(!d)return;const S=f.getState().scene;S.__r3f&&(S.__r3f.root=f,s(S,d))},removeChildFromContainer:(f,d)=>{d&&c(f.getState().scene,d)},insertInContainerBefore:(f,d,S)=>{if(!d||!S)return;const v=f.getState().scene;v.__r3f&&a(v,d,S)},getRootHostContext:()=>null,getChildHostContext:f=>f,finalizeInitialChildren(f){var d;return!!((d=f==null?void 0:f.__r3f)!=null?d:{}).handlers},prepareUpdate(f,d,S,v){var _;if(((_=f==null?void 0:f.__r3f)!=null?_:{}).primitive&&v.object&&v.object!==f)return[!0];{const{args:F=[],children:C,...I}=v,{args:T=[],children:W,...H}=S;if(!Array.isArray(F))throw new Error("R3F: the args prop must be an array!");if(F.some((q,Mt)=>q!==T[Mt]))return[!0];const K=nu(f,I,H,!0);return K.changes.length?[!1,K]:null}},commitUpdate(f,[d,S],v,_,E,F){d?m(f,v,E,F):ll(f,S)},commitMount(f,d,S,v){var _;const E=(_=f.__r3f)!=null?_:{};f.raycast&&E.handlers&&E.eventCount&&f.__r3f.root.getState().internal.interaction.push(f)},getPublicInstance:f=>f,prepareForCommit:()=>null,preparePortalMount:f=>mr(f.getState().scene),resetAfterCommit:()=>{},shouldSetTextContent:()=>!1,clearContainer:()=>!1,hideInstance(f){var d;const{attach:S,parent:v}=(d=f.__r3f)!=null?d:{};S&&v&&Oa(v,f,S),f.isObject3D&&(f.visible=!1),On(f)},unhideInstance(f,d){var S;const{attach:v,parent:_}=(S=f.__r3f)!=null?S:{};v&&_&&sl(_,f,v),(f.isObject3D&&d.visible==null||d.visible)&&(f.visible=!0),On(f)},createTextInstance:y,hideTextInstance:y,unhideTextInstance:y,getCurrentEventPriority:()=>t?t():yr.DefaultEventPriority,beforeActiveInstanceBlur:()=>{},afterActiveInstanceBlur:()=>{},detachDeletedInstance:()=>{},now:typeof performance<"u"&&qt.fun(performance.now)?performance.now:qt.fun(Date.now)?Date.now:()=>0,scheduleTimeout:qt.fun(setTimeout)?setTimeout:void 0,cancelTimeout:qt.fun(clearTimeout)?clearTimeout:void 0}),applyProps:ll}}var Ba,Ia;const il=p=>"colorSpace"in p||"outputColorSpace"in p,Oc=()=>{var p;return(p=$a.ColorManagement)!=null?p:null},tu=typeof window<"u"&&((Ba=window.document)!=null&&Ba.createElement||((Ia=window.navigator)==null?void 0:Ia.product)==="ReactNative")?Z.useLayoutEffect:Z.useEffect;function Uc(p){const t=Z.useRef(p);return tu(()=>void(t.current=p),[p]),t}class Wc extends Z.Component{constructor(...t){super(...t),this.state={error:!1}}componentDidCatch(t){this.props.set(t)}render(){return this.state.error?null:this.props.children}}Wc.getDerivedStateFromError=()=>({error:!0});const eu="__default",Da=new Map,Hc=p=>p&&!!p.memoized&&!!p.changes,qt={obj:p=>p===Object(p)&&!qt.arr(p)&&typeof p!="function",fun:p=>typeof p=="function",str:p=>typeof p=="string",num:p=>typeof p=="number",boo:p=>typeof p=="boolean",und:p=>p===void 0,arr:p=>Array.isArray(p),equ(p,t,{arrays:r="shallow",objects:s="reference",strict:a=!0}={}){if(typeof p!=typeof t||!!p!=!!t)return!1;if(qt.str(p)||qt.num(p))return p===t;const h=qt.obj(p);if(h&&s==="reference")return p===t;const c=qt.arr(p);if(c&&r==="reference")return p===t;if((c||h)&&p===t)return!0;let m;for(m in p)if(!(m in t))return!1;if(h&&r==="shallow"&&s==="shallow"){for(m in a?t:p)if(!qt.equ(p[m],t[m],{strict:a,objects:"reference"}))return!1}else for(m in a?t:p)if(p[m]!==t[m])return!1;if(qt.und(m)){if(c&&p.length===0&&t.length===0||h&&Object.keys(p).length===0&&Object.keys(t).length===0)return!0;if(p!==t)return!1}return!0}};function mr(p,t){const r=p;return r.__r3f={type:"",root:null,previousAttach:null,memoizedProps:{},eventCount:0,handlers:{},objects:[],parent:null,...t},p}function hl(p,t){let r=p;if(t.includes("-")){const s=t.split("-"),a=s.pop();return r=s.reduce((h,c)=>h[c],p),{target:r,key:a}}else return{target:r,key:t}}const La=/-\d+$/;function sl(p,t,r){if(qt.str(r)){if(La.test(r)){const h=r.replace(La,""),{target:c,key:m}=hl(p,h);Array.isArray(c[m])||(c[m]=[])}const{target:s,key:a}=hl(p,r);t.__r3f.previousAttach=s[a],s[a]=t}else t.__r3f.previousAttach=r(p,t)}function Oa(p,t,r){var s,a;if(qt.str(r)){const{target:h,key:c}=hl(p,r),m=t.__r3f.previousAttach;m===void 0?delete h[c]:h[c]=m}else(s=t.__r3f)==null||s.previousAttach==null||s.previousAttach(p,t);(a=t.__r3f)==null||delete a.previousAttach}function nu(p,{children:t,key:r,ref:s,...a},{children:h,key:c,ref:m,...y}={},g=!1){var f;const d=(f=p==null?void 0:p.__r3f)!=null?f:{},S=Object.entries(a),v=[];if(g){const E=Object.keys(y);for(let F=0;F<E.length;F++)a.hasOwnProperty(E[F])||S.unshift([E[F],eu+"remove"])}S.forEach(([E,F])=>{var C;if((C=p.__r3f)!=null&&C.primitive&&E==="object"||qt.equ(F,y[E]))return;if(/^on(Pointer|Click|DoubleClick|ContextMenu|Wheel)/.test(E))return v.push([E,F,!0,[]]);let I=[];E.includes("-")&&(I=E.split("-")),v.push([E,F,!1,I]);for(const T in a){const W=a[T];T.startsWith(`${E}-`)&&v.push([T,W,!1,T.split("-")])}});const _={...a};return d.memoizedProps&&d.memoizedProps.args&&(_.args=d.memoizedProps.args),d.memoizedProps&&d.memoizedProps.attach&&(_.attach=d.memoizedProps.attach),{memoized:_,changes:v}}const jc=typeof process<"u"&&!1;function ll(p,t){var r,s,a;const h=(r=p.__r3f)!=null?r:{},c=h.root,m=(s=c==null||c.getState==null?void 0:c.getState())!=null?s:{},{memoized:y,changes:g}=Hc(t)?t:nu(p,t),f=h.eventCount;p.__r3f&&(p.__r3f.memoizedProps=y);for(let S=0;S<g.length;S++){let[v,_,E,F]=g[S];if(il(p)){const W="srgb",H="srgb-linear";v==="encoding"?(v="colorSpace",_=_===3001?W:H):v==="outputEncoding"&&(v="outputColorSpace",_=_===3001?W:H)}let C=p,I=C[v];if(F.length&&(I=F.reduce((T,W)=>T[W],p),!(I&&I.set))){const[T,...W]=F.reverse();C=W.reverse().reduce((H,K)=>H[K],p),v=T}if(_===eu+"remove")if(C.constructor){let T=Da.get(C.constructor);T||(T=new C.constructor,Da.set(C.constructor,T)),_=T[v]}else _=0;if(E)_?h.handlers[v]=_:delete h.handlers[v],h.eventCount=Object.keys(h.handlers).length;else if(I&&I.set&&(I.copy||I instanceof Ci)){if(Array.isArray(_))I.fromArray?I.fromArray(_):I.set(..._);else if(I.copy&&_&&_.constructor&&(jc?I.constructor.name===_.constructor.name:I.constructor===_.constructor))I.copy(_);else if(_!==void 0){const T=I instanceof Pi;!T&&I.setScalar?I.setScalar(_):I instanceof Ci&&_ instanceof Ci?I.mask=_.mask:I.set(_),!Oc()&&!m.linear&&T&&I.convertSRGBToLinear()}}else if(C[v]=_,C[v]instanceof Ae&&C[v].format===Xa&&C[v].type===Ga){const T=C[v];il(T)&&il(m.gl)?T.colorSpace=m.gl.outputColorSpace:T.encoding=m.gl.outputEncoding}On(p)}if(h.parent&&m.internal&&p.raycast&&f!==h.eventCount){const S=m.internal.interaction.indexOf(p);S>-1&&m.internal.interaction.splice(S,1),h.eventCount&&m.internal.interaction.push(p)}return!(g.length===1&&g[0][0]==="onUpdate")&&g.length&&(a=p.__r3f)!=null&&a.parent&&cl(p),p}function On(p){var t,r;const s=(t=p.__r3f)==null||(r=t.root)==null||r.getState==null?void 0:r.getState();s&&s.internal.frames===0&&s.invalidate()}function cl(p){p.onUpdate==null||p.onUpdate(p)}function Vc(){var p;const t=typeof self<"u"&&self||typeof window<"u"&&window;if(!t)return yr.DefaultEventPriority;switch((p=t.event)==null?void 0:p.type){case"click":case"contextmenu":case"dblclick":case"pointercancel":case"pointerdown":case"pointerup":return yr.DiscreteEventPriority;case"pointermove":case"pointerout":case"pointerover":case"pointerenter":case"pointerleave":case"wheel":return yr.ContinuousEventPriority;default:return yr.DefaultEventPriority}}function qc(p,t,r,s){const a=r.get(t);a&&(r.delete(t),r.size===0&&(p.delete(s),a.target.releasePointerCapture(s)))}function Qc(p,t){const{internal:r}=p.getState();r.interaction=r.interaction.filter(s=>s!==t),r.initialHits=r.initialHits.filter(s=>s!==t),r.hovered.forEach((s,a)=>{(s.eventObject===t||s.object===t)&&r.hovered.delete(a)}),r.capturedMap.forEach((s,a)=>{qc(r.capturedMap,t,s,a)})}const Gc=Z.createContext(null);function ru(){const p=Z.useContext(Gc);if(!p)throw new Error("R3F: Hooks can only be used within the Canvas component!");return p}function iu(p=r=>r,t){return ru()(p,t)}function Xc(p,t=0){const r=ru(),s=r.getState().internal.subscribe,a=Uc(p);return tu(()=>s(a,t,r),[t,s,r]),null}const Yc=new Map,{reconciler:Zc,applyProps:_f}=Lc(Yc,Vc);Zc.injectIntoDevTools({bundleType:0,rendererPackageName:"@react-three/fiber",version:Z.version});function Jc(p){let t;const r=new Set,s=(g,f)=>{const d=typeof g=="function"?g(t):g;if(d!==t){const S=t;t=f?d:Object.assign({},t,d),r.forEach(v=>v(t,S))}},a=()=>t,h=(g,f=a,d=Object.is)=>{console.warn("[DEPRECATED] Please use `subscribeWithSelector` middleware");let S=f(t);function v(){const _=f(t);if(!d(S,_)){const E=S;g(S=_,E)}}return r.add(v),()=>r.delete(v)},y={setState:s,getState:a,subscribe:(g,f,d)=>f||d?h(g,f,d):(r.add(g),()=>r.delete(g)),destroy:()=>r.clear()};return t=p(s,a,y),y}const Kc=typeof window>"u"||!window.navigator||/ServerSideRendering|^Deno\//.test(window.navigator.userAgent),Ua=Kc?Z.useEffect:Z.useLayoutEffect;function bc(p){const t=typeof p=="function"?Jc(p):p,r=(s=t.getState,a=Object.is)=>{const[,h]=Z.useReducer(F=>F+1,0),c=t.getState(),m=Z.useRef(c),y=Z.useRef(s),g=Z.useRef(a),f=Z.useRef(!1),d=Z.useRef();d.current===void 0&&(d.current=s(c));let S,v=!1;(m.current!==c||y.current!==s||g.current!==a||f.current)&&(S=s(c),v=!a(d.current,S)),Ua(()=>{v&&(d.current=S),m.current=c,y.current=s,g.current=a,f.current=!1});const _=Z.useRef(c);Ua(()=>{const F=()=>{try{const I=t.getState(),T=y.current(I);g.current(d.current,T)||(m.current=I,d.current=T,h())}catch{f.current=!0,h()}},C=t.subscribe(F);return t.getState()!==_.current&&F(),C},[]);const E=v?S:d.current;return Z.useDebugValue(E),E};return Object.assign(r,t),r[Symbol.iterator]=function(){console.warn("[useStore, api] = create() is deprecated and will be removed in v4");const s=[r,t];return{next(){const a=s.length<=0;return{value:s.shift(),done:a}}}},r}var Wa,Ha;const $c=p=>Array.from(new Set(p)),fl=typeof window<"u"&&((Wa=window.document)!=null&&Wa.createElement||((Ha=window.navigator)==null?void 0:Ha.product)==="ReactNative")?Z.useLayoutEffect:Z.useEffect;function tf(p){const t=Z.useRef(p);return fl(()=>void(t.current=p),[p]),t}const ef=Z.createContext(null),Ni=bc((p,t)=>({set:p,get:t,session:null,referenceSpaceType:null})),nf=(p,t)=>{var r;if(!(!p&&!t))return p&&!t?{optionalFeatures:[p]}:p&&t?{...t,optionalFeatures:$c([...(r=t.optionalFeatures)!=null?r:[],p])}:t},rf=async(p,t)=>{const r=Ni.getState();if(r.session){console.warn("@react-three/xr: session already started, please stop it first");return}const s=nf(r.referenceSpaceType,t),a=await navigator.xr.requestSession(p,s);return r.set(()=>({session:a})),a},sf=async()=>{const p=Ni.getState();if(!p.session){console.warn("@react-three/xr: no session to stop, please start it first");return}await p.session.end(),p.set({session:null})},lf=async(p,{sessionInit:t,enterOnly:r,exitOnly:s}={})=>{const a=Ni.getState();if(!(a.session&&r)&&!(!a.session&&s))return a.session?await sf():await rf(p,t)},of=(p,t,r)=>{switch(p){case"entered":return`Exit ${t}`;case"exited":return`Enter ${t}`;case"unsupported":default:switch(r){case"https":return"HTTPS needed";case"security":return`${t} blocked`;case"unknown":default:return`${t} unsupported`}}},su=Z.forwardRef(function({mode:t,sessionInit:r,enterOnly:s=!1,exitOnly:a=!1,onClick:h,onError:c,children:m,...y},g){var f;const[d,S]=Z.useState("exited"),[v,_]=Z.useState("unknown"),E=of(d,t,v),F=t==="inline"?t:`immersive-${t.toLowerCase()}`,C=tf(c);fl(()=>{if(!(navigator!=null&&navigator.xr))return void S("unsupported");navigator.xr.isSessionSupported(F).then(T=>{if(T)S("exited");else{const W=location.protocol==="https:";S("unsupported"),_(W?"unknown":"https")}}).catch(T=>{S("unsupported"),"name"in T&&T.name==="SecurityError"?_("security"):_("unknown")})},[F]),fl(()=>Ni.subscribe(T=>{T.session?S("entered"):d!=="unsupported"&&S("exited")}),[d]);const I=Z.useCallback(async T=>{h==null||h(T);try{lf(F,{sessionInit:r,enterOnly:s,exitOnly:a})}catch(W){const H=C.current;if(H&&W instanceof Error)H(W);else throw W}},[h,F,r,s,a,C]);return Z.createElement("button",{...y,ref:g,onClick:d==="unsupported"?h:I},(f=typeof m=="function"?m(d):m)!=null?f:E)}),lu={position:"absolute",bottom:"24px",left:"50%",transform:"translateX(-50%)",padding:"12px 24px",border:"1px solid white",borderRadius:"4px",background:"rgba(0, 0, 0, 0.1)",color:"white",font:"normal 0.8125rem sans-serif",outline:"none",zIndex:99999,cursor:"pointer"};Z.forwardRef(({style:p=lu,sessionInit:t={domOverlay:typeof document<"u"?{root:document.body}:void 0,optionalFeatures:["hit-test","dom-overlay","dom-overlay-for-handheld-ar"]},children:r,...s},a)=>Z.createElement(su,{...s,ref:a,mode:"AR",style:p,sessionInit:t},r));Z.forwardRef(({style:p=lu,sessionInit:t={optionalFeatures:["local-floor","bounded-floor","hand-tracking","layers"]},children:r,...s},a)=>Z.createElement(su,{...s,ref:a,mode:"VR",style:p,sessionInit:t},r));function af(p=r=>r,t){const r=Z.useContext(ef);if(!r)throw new Error("useXR must be used within an <XR /> component!");return r(p,t)}function ja(p,{start:t=!1,repeat:r,offset:s}={}){const a=iu(c=>c.gl),h=Z.useMemo(()=>{if(!p)return null;const c=new Ac(p);return"colorSpace"in c?c.colorSpace=a.outputColorSpace:c.encoding=a.outputEncoding,c},[p]);return Z.useEffect(()=>{h&&(r&&(h.repeat=new ye(...r)),s&&(h.offset=new ye(...s)))},[r,s]),Z.useEffect(()=>{if(h&&t)return h.image.play(),()=>h.image.pause()},[h,t]),h}function uf(p,{unsuspend:t="loadedmetadata",crossOrigin:r="Anonymous",muted:s=!0,loop:a=!0,start:h=!0,playsInline:c=!0,...m}={}){const y=Dc(()=>new Promise((g,f)=>{if(!p)return g(null);const d=Object.assign(document.createElement("video"),{src:typeof p=="string"&&p||void 0,srcObject:p instanceof MediaStream&&p||void 0,crossOrigin:r,loop:a,muted:s,playsInline:c,...m});d.addEventListener(t,()=>g(d))}),[p]);return Z.useEffect(()=>{if(y&&h)return y.play(),()=>y.pause()},[y]),y}function Va({distanceToCamera:p=10,aspect:t,height:r,position:s,rotation:a,quaternion:h,matrix:c,fixed:m=!1,layers:y=null,children:g}){const f=Z.useRef(),{camera:d}=iu(),S=af(v=>v.isPresenting);return Z.useEffect(()=>{f.current&&typeof y=="number"&&S&&f.current.layers.set(y)},[y,f.current,S]),Z.useLayoutEffect(()=>{if(!f.current||!m)return;const v=f.current;if(c){v.matrix.fromArray(c),v.matrixAutoUpdate=!1;return}else h?v.quaternion.fromArray(h):a&&v.rotation.set(...a),s&&v.position.set(...s)},[c,h,a,s,m]),Xc(()=>{const v=f.current;let _,E,F;if(typeof r=="number"&&typeof t=="number")v.scale.set(r*t,r,1);else if(d.type==="PerspectiveCamera"){const H=d;typeof r=="number"?_=r:_=2*Math.tan(H.fov/360*Math.PI)*p,typeof t=="number"?F=t:F=H.aspect,E=F*_,v.scale.set(E,_,1)}else if(d.type==="OrthographicCamera"){const H=d;_=(H.top-H.bottom)/d.zoom,E=(H.right-H.left)/d.zoom,v.scale.set(E,_,1)}else console.warn("Unsupported camera type",d.type);if(m)return;if(c){v.matrixAutoUpdate=!1,v.matrix.fromArray(c),v.matrix.premultiply(d.matrixWorld);return}d.matrixWorld.decompose(v.position,d.quaternion,[]),h?(v.quaternion.fromArray(h),v.quaternion.premultiply(d.quaternion)):a?(v.quaternion.setFromEuler(new Sr().fromArray(a)),v.quaternion.premultiply(d.quaternion)):v.quaternion.copy(d.quaternion);const[C,I,T]=s||[0,0,0],W=new D(C,I,T-p).applyQuaternion(d.quaternion);v.position.add(W)}),Ri("mesh",{ref:f,scale:[1,1,1],children:[Vt("planeGeometry",{args:[1,1]}),g]})}const hf=({src:p,iceServer:t={urls:"stun:stun.l.google.com:19302"},side:r=2,rtcOptions:s,...a})=>{const h=uf(p),c=ja(h,{repeat:[.5,1],offset:[0,0]}),m=ja(h,{repeat:[.5,1],offset:[.5,0]});return Ri(Gh,{children:[Vt(Va,{layers:1,...a,children:c&&Vt("meshBasicMaterial",{map:c,toneMapped:!1,side:2})}),Vt(Va,{layers:2,...a,children:m&&Vt("meshBasicMaterial",{map:m,toneMapped:!1,side:2})})]})},{AmbientLight:cf,PointLight:ff,SceneContainer:df,Grid:pf,Hands:mf}=Zh;function yf(){const p=typeof window>"u";return console.log("isSSR",p),p?Vt("div",{children:"Loading..."}):Ri(Xh,{children:[Vt(Yh,{children:Vt("title",{children:"Vuer (Hand Tracking Demo)"})}),Vt(Z.Suspense,{children:Ri(df,{bgChildren:Vt(pf,{}),rawChildren:[],children:[Vt(cf,{intensity:.25},"ambient"),Vt(ff,{intensity:1,position:[0,1,1]},"spot"),Vt(mf,{fps:30,eventType:["squeeze"],stream:!0}),Vt(hf,{src:"http://localhost:8080/offer",fixed:!0,position:[0,1,0],distanceToCamera:10,height:2})]})})]})}const wf={Page:yf};export{wf as default};
